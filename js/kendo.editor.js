/*
* Kendo UI v2014.1.416 (http://www.telerik.com/kendo-ui)
* Copyright 2014 Telerik AD. All rights reserved.
*
* Kendo UI commercial licenses may be obtained at
* http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/

(function(e,t){t("kendo.core",[],e)})(function(){return function(e,t){function k(){}function _(e,t){if(t)return"'"+e.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var n=e.charAt(0),r=e.substring(1);return n==="="?"+("+r+")+":n===":"?"+e("+r+")+":";"+e+";o+="}function q(e,t,n){return e+="",t=t||2,n=t-e.length,n?I[t].substring(0,n)+e:e}function R(e){var t=e.css(n.support.transitions.css+"box-shadow")||e.css("box-shadow"),r=t?t.match(d)||[0,0,0,0,0]:[0,0,0,0,0],i=a.max(+r[3],+(r[4]||0));return{left:-r[1]+i,right:+r[1]+i,bottom:+r[2]+i}}function U(t,n){var r=c.browser,i,s=t.css("direction")=="rtl";if(!t.parent().hasClass("k-animation-container")){var o=R(t),u=t[0].style.width,f=t[0].style.height,l=h.test(u),p=h.test(f);r.opera&&(o.left=o.right=o.bottom=5),i=l||p,!l&&(!n||n&&u)&&(u=t.outerWidth()),!p&&(!n||n&&f)&&(f=t.outerHeight()),t.wrap(e("<div/>").addClass("k-animation-container").css({width:u,height:f,marginLeft:o.left*(s?1:-1),paddingLeft:o.left,paddingRight:o.right,paddingBottom:o.bottom})),i&&t.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}else{var d=t.parent(".k-animation-container"),v=d[0].style;d.is(":hidden")&&d.show(),i=h.test(v.width)||h.test(v.height),i||d.css({width:t.outerWidth(),height:t.outerHeight(),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})}return r.msie&&a.floor(r.version)<=7&&(t.css({zoom:1}),t.children(".k-menu").width(t.width())),t.parent()}function z(e){var t=1,n=arguments.length;for(t=1;t<n;t++)W(e,arguments[t]);return e}function W(e,t){var r=n.data.ObservableArray,i=n.data.DataSource,s=n.data.HierarchicalDataSource,o,u,a,f;for(o in t)u=t[o],a=typeof u,a===b&&u!==null&&u.constructor!==Array&&u.constructor!==r&&u.constructor!==i&&u.constructor!==s?u instanceof Date?e[o]=new Date(u.getTime()):L(u.clone)?e[o]=u.clone():(f=e[o],typeof f===b?e[o]=f||{}:e[o]={},W(e[o],u)):a!==S&&(e[o]=u);return e}function X(e,n,r){for(var i in n)if(n.hasOwnProperty(i)&&n[i].test(e))return i;return r!==t?r:e}function V(e){return e.replace(/([a-z][A-Z])/g,function(e){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()})}function $(e){return e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})}function J(t,r){var i={},s;return document.defaultView&&document.defaultView.getComputedStyle?(s=document.defaultView.getComputedStyle(t,""),r&&e.each(r,function(e,t){i[t]=s.getPropertyValue(t)})):(s=t.currentStyle,r&&e.each(r,function(e,t){i[t]=s[$(t)]})),n.size(i)||(i=s),i}function K(e){var t=0,n;for(n in e)e.hasOwnProperty(n)&&n!="toJSON"&&t++;return t}function Q(e,t,n){t||(t="offset");var r=e[t](),i=c.mobileOS;return c.browser.msie&&(c.pointers||c.msPointers)&&!n&&(r.top-=window.pageYOffset-document.documentElement.scrollTop,r.left-=window.pageXOffset-document.documentElement.scrollLeft),r}function Y(e){var t={};return i(typeof e=="string"?e.split(" "):e,function(e){t[e]=this}),t}function Z(e){return new n.effects.Element(e)}function tt(e,t,n,i){return typeof e===g&&(L(t)&&(i=t,t=400,n=!1),L(n)&&(i=n,n=!1),typeof t===E&&(n=t,t=400),e={effects:e,duration:t,reverse:n,complete:i}),r({effects:{},duration:400,reverse:!1,init:u,teardown:u,hide:!1},e,{completeCallback:e.complete,complete:u})}function nt(t,n,r,i,s){var o=0,u=t.length,a;for(;o<u;o++)a=e(t[o]),a.queue(function(){et.promise(a,tt(n,r,i,s))});return t}function rt(e,t,n,r){return t&&(t=t.split(" "),i(t,function(t,n){e.toggleClass(n,r)})),e}function ft(e){return(""+e).replace(it,"&amp;").replace(st,"&lt;").replace(at,"&gt;").replace(ot,"&quot;").replace(ut,"&#39;")}function yt(e,r){var i;return r.indexOf("data")===0&&(r=r.substring(4),r=r.charAt(0).toLowerCase()+r.substring(1)),r=r.replace(gt,"-$1"),i=e.getAttribute("data-"+n.ns+r),i===null?i=t:i==="null"?i=null:i==="true"?i=!0:i==="false"?i=!1:v.test(i)?i=parseFloat(i):vt.test(i)&&!mt.test(i)&&(i=(new Function("return ("+i+")"))()),i}function bt(r,i){var s={},o,u;for(o in i)u=yt(r,o),u!==t&&(dt.test(o)&&(u=n.template(e("#"+u).html())),s[o]=u);return s}function wt(t,n){return e.contains(t,n)?-1:1}function Et(){var t=e(this);return e.inArray(t.attr("data-role"),["slider","rangeslider"])>0||t.is(":visible")}function Tt(e,t){var n=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"===n?e.href||t:t)&&Nt(e)}function Nt(t){return!e(t).parents().addBack().filter(function(){return e.css(this,"visibility")==="hidden"||e.expr.filters.hidden(this)}).length}function Dt(e,t){return new Dt.fn.init(e,t)}var n=window.kendo=window.kendo||{cultures:{}},r=e.extend,i=e.each,s=e.isArray,o=e.proxy,u=e.noop,a=Math,f,l=window.JSON||{},c={},h=/%/,p=/\{(\d+)(:[^\}]+)?\}/g,d=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,v=/^(\+|-?)\d+(\.?)\d*$/,m="function",g="string",y="number",b="object",w="null",E="boolean",S="undefined",x={},T={},N=[].slice,C=window.Globalize;n.version="2014.1.416",k.extend=function(e){var t=function(){},n,i=this,s=e&&e.init?e.init:function(){i.apply(this,arguments)},o;t.prototype=i.prototype,o=s.fn=s.prototype=new t;for(n in e)e[n]!=null&&e[n].constructor===Object?o[n]=r(!0,{},t.prototype[n],e[n]):o[n]=e[n];return o.constructor=s,s.extend=i.extend,s},k.prototype._initOptions=function(e){this.options=z({},this.options,e)};var L=n.isFunction=function(e){return typeof e=="function"},A=function(){this._defaultPrevented=!0},O=function(){return this._defaultPrevented===!0},M=k.extend({init:function(){this._events={}},bind:function(e,n,r){var i=this,s,o=typeof e===g?[e]:e,u,a,f,l=typeof n===m,c;if(n===t){for(s in e)i.bind(s,e[s]);return i}for(s=0,u=o.length;s<u;s++)e=o[s],f=l?n:n[e],f&&(r&&(a=f,f=function(){i.unbind(e,f),a.apply(i,arguments)},f.original=a),c=i._events[e]=i._events[e]||[],c.push(f));return i},one:function(e,t){return this.bind(e,t,!0)},first:function(e,t){var n=this,r,i=typeof e===g?[e]:e,s,o,u=typeof t===m,a;for(r=0,s=i.length;r<s;r++)e=i[r],o=u?t:t[e],o&&(a=n._events[e]=n._events[e]||[],a.unshift(o));return n},trigger:function(e,t){var n=this,r=n._events[e],i,s;if(r){t=t||{},t.sender=n,t._defaultPrevented=!1,t.preventDefault=A,t.isDefaultPrevented=O,r=r.slice();for(i=0,s=r.length;i<s;i++)r[i].call(n,t);return t._defaultPrevented===!0}return!1},unbind:function(e,n){var r=this,i=r._events[e],s;if(e===t)r._events={};else if(i)if(n)for(s=i.length-1;s>=0;s--)(i[s]===n||i[s].original===n)&&i.splice(s,1);else r._events[e]=[];return r}}),D=/^\w+/,P=/\$\{([^}]*)\}/g,H=/\\\}/g,B=/__CURLY__/g,j=/\\#/g,F=/__SHARP__/g,I=["","0","00","000","0000"];f={paramName:"data",useWithBlock:!0,render:function(e,t){var n,r,i="";for(n=0,r=t.length;n<r;n++)i+=e(t[n]);return i},compile:function(t,i){var s=r({},this,i),o=s.paramName,u=o.match(D)[0],a=s.useWithBlock,f="var o,e=kendo.htmlEncode;",l,c,h;if(L(t))return t.length===2?function(n){return t(e,{data:n}).join("")}:t;f+=a?"with("+o+"){":"",f+="o=",c=t.replace(H,"__CURLY__").replace(P,"#=e($1)#").replace(B,"}").replace(j,"__SHARP__").split("#");for(h=0;h<c.length;h++)f+=_(c[h],h%2===0);f+=a?";}":";",f+="return o;",f=f.replace(F,"#");try{return l=new Function(u,f),l._slotCount=Math.floor(c.length/2),l}catch(p){throw new Error(n.format("Invalid template:'{0}' Generated code:'{1}'",t,f))}}},function(){function o(t){return e.lastIndex=0,e.test(t)?'"'+t.replace(e,function(e){var t=r[e];return typeof t===g?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function u(e,r){var a,f,l,c,h=t,p,d=r[e],v;d&&typeof d===b&&typeof d.toJSON===m&&(d=d.toJSON(e)),typeof i===m&&(d=i.call(r,e,d)),v=typeof d;if(v===g)return o(d);if(v===y)return isFinite(d)?String(d):w;if(v===E||v===w)return String(d);if(v===b){if(!d)return w;t+=n,p=[];if(s.apply(d)==="[object Array]"){c=d.length;for(a=0;a<c;a++)p[a]=u(a,d)||w;return l=p.length===0?"[]":t?"[\n"+t+p.join(",\n"+t)+"\n"+h+"]":"["+p.join(",")+"]",t=h,l}if(i&&typeof i===b){c=i.length;for(a=0;a<c;a++)typeof i[a]===g&&(f=i[a],l=u(f,d),l&&p.push(o(f)+(t?": ":":")+l))}else for(f in d)Object.hasOwnProperty.call(d,f)&&(l=u(f,d),l&&p.push(o(f)+(t?": ":":")+l));return l=p.length===0?"{}":t?"{\n"+t+p.join(",\n"+t)+"\n"+h+"}":"{"+p.join(",")+"}",t=h,l}}var e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,t,n,r={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},i,s={}.toString;typeof Date.prototype.toJSON!==m&&(Date.prototype.toJSON=function(){var e=this;return isFinite(e.valueOf())?q(e.getUTCFullYear(),4)+"-"+q(e.getUTCMonth()+1)+"-"+q(e.getUTCDate())+"T"+q(e.getUTCHours())+":"+q(e.getUTCMinutes())+":"+q(e.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof l.stringify!==m&&(l.stringify=function(e,r,s){var o;t="",n="";if(typeof s===y)for(o=0;o<s;o+=1)n+=" ";else typeof s===g&&(n=s);i=r;if(!r||typeof r===m||typeof r===b&&typeof r.length===y)return u("",{"":e});throw new Error("JSON.stringify")})}(),function(){function b(e){if(e){if(e.numberFormat)return e;if(typeof e===g){var t=n.cultures;return t[e]||t[e.split("-")[0]]||null}return null}return null}function w(e){return e&&(e=b(e)),e||n.cultures.current}function E(e){e.groupSizes=e.groupSize,e.percent.groupSizes=e.percent.groupSize,e.currency.groupSizes=e.currency.groupSize}function S(e,n,i){i=w(i);var s=i.calendars.standard,o=s.days,u=s.months;return n=s.patterns[n]||n,n.replace(r,function(n){var r;return n==="d"?r=e.getDate():n==="dd"?r=q(e.getDate()):n==="ddd"?r=o.namesAbbr[e.getDay()]:n==="dddd"?r=o.names[e.getDay()]:n==="M"?r=e.getMonth()+1:n==="MM"?r=q(e.getMonth()+1):n==="MMM"?r=u.namesAbbr[e.getMonth()]:n==="MMMM"?r=u.names[e.getMonth()]:n==="yy"?r=q(e.getFullYear()%100):n==="yyyy"?r=q(e.getFullYear(),4):n==="h"?r=e.getHours()%12||12:n==="hh"?r=q(e.getHours()%12||12):n==="H"?r=e.getHours():n==="HH"?r=q(e.getHours()):n==="m"?r=e.getMinutes():n==="mm"?r=q(e.getMinutes()):n==="s"?r=e.getSeconds():n==="ss"?r=q(e.getSeconds()):n==="f"?r=a.floor(e.getMilliseconds()/100):n==="ff"?(r=e.getMilliseconds(),r>99&&(r=a.floor(r/10)),r=q(r)):n==="fff"?r=q(e.getMilliseconds(),3):n==="tt"&&(r=e.getHours()<12?s.AM[0]:s.PM[0]),r!==t?r:n.slice(1,n.length-1)})}function x(e,n,r){r=w(r);var a=r.numberFormat,p=a.groupSize[0],v=a[l],m=a[f],g=a.decimals,y=a.pattern[0],b=[],E,S,x,N,C,k=e<0,L,A,O,M,_=u,D=u,P,H,B,j,F,I,q,R,U,z,W,X,V,$=-1,J;if(e===t)return u;if(!isFinite(e))return e;if(!n)return r.name.length?e.toLocaleString():e.toString();C=i.exec(n);if(C){n=C[1].toLowerCase(),S=n==="c",x=n==="p";if(S||x)a=S?a.currency:a.percent,p=a.groupSize[0],v=a[l],m=a[f],g=a.decimals,E=a.symbol,y=a.pattern[k?0:1];N=C[2],N&&(g=+N);if(n==="e")return N?e.toExponential(g):e.toExponential();x&&(e*=100),e=T(e,g),k=e<0,e=e.split(f),L=e[0],A=e[1],k&&(L=L.substring(1)),D=L,O=L.length;if(O>=p){D=u;for(P=0;P<O;P++)P>0&&(O-P)%p===0&&(D+=v),D+=L.charAt(P)}A&&(D+=m+A);if(n==="n"&&!k)return D;e=u;for(P=0,H=y.length;P<H;P++)B=y.charAt(P),B==="n"?e+=D:B==="$"||B==="%"?e+=E:e+=B;return e}k&&(e=-e);if(n.indexOf("'")>-1||n.indexOf('"')>-1||n.indexOf("\\")>-1)n=n.replace(s,function(e){var t=e.charAt(0).replace("\\",""),n=e.slice(1).replace(t,"");return b.push(n),d});n=n.split(";");if(k&&n[1])n=n[1],F=!0;else if(e===0){n=n[2]||n[0];if(n.indexOf(c)==-1&&n.indexOf(h)==-1)return n}else n=n[0];W=n.indexOf("%"),X=n.indexOf("$"),x=W!=-1,S=X!=-1,x&&(e*=100),S&&n[X-1]==="\\"&&(n=n.split("\\").join(""),S=!1);if(S||x)a=S?a.currency:a.percent,p=a.groupSize[0],v=a[l],m=a[f],g=a.decimals,E=a.symbol;j=n.indexOf(l)>-1,j&&(n=n.replace(o,u)),I=n.indexOf(f),H=n.length,I!=-1?(A=e.toString().split("e"),A[1]?A=T(e,Math.abs(A[1])):A=A[0],A=A.split(f)[1]||u,R=n.lastIndexOf(h)-I,q=n.lastIndexOf(c)-I,U=R>-1,z=q>-1,P=A.length,!U&&!z&&(n=n.substring(0,I)+n.substring(I+1),H=n.length,I=-1,P=0),U&&R>q?P=R:q>R&&(z&&P>q?P=q:U&&P<R&&(P=R)),P>-1&&(e=T(e,P))):e=T(e),q=n.indexOf(c),V=R=n.indexOf(h),q==-1&&R!=-1?$=R:q!=-1&&R==-1?$=q:$=q>R?R:q,q=n.lastIndexOf(c),R=n.lastIndexOf(h),q==-1&&R!=-1?J=R:q!=-1&&R==-1?J=q:J=q>R?q:R,$==H&&(J=$);if($!=-1){D=e.toString().split(f),L=D[0],A=D[1]||u,O=L.length,M=A.length,k&&e*-1>=0&&(k=!1);if(j)if(O===p&&O<I-V)L=v+L;else if(O>p){D=u;for(P=0;P<O;P++)P>0&&(O-P)%p===0&&(D+=v),D+=L.charAt(P);L=D}e=n.substring(0,$),k&&!F&&(e+="-");for(P=$;P<H;P++){B=n.charAt(P);if(I==-1){if(J-P<O){e+=L;break}}else{R!=-1&&R<P&&(_=u),I-P<=O&&I-P>-1&&(e+=L,P=I);if(I===P){e+=(A?m:u)+A,P+=J-I+1;continue}}B===h?(e+=B,_=B):B===c&&(e+=_)}J>=$&&(e+=n.substring(J+1));if(S||x){D=u;for(P=0,H=e.length;P<H;P++)B=e.charAt(P),D+=B==="$"||B==="%"?E:B;e=D}H=b.length;if(H)for(P=0;P<H;P++)e=e.replace(d,b[P])}return e}var r=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|"[^"]*"|'[^']*'/g,i=/^(n|c|p|e)(\d*)$/i,s=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,o=/\,/g,u="",f=".",l=",",c="#",h="0",d="??",v="en-US",m={}.toString;n.cultures["en-US"]={name:v,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}},n.culture=function(e){var r=n.cultures,i;if(e===t)return r.current;i=b(e)||r[v],i.calendar=i.calendars.standard,r.current=i,C&&E(i.numberFormat)},n.findCulture=b,n.getCulture=w,n.culture(v);var T=function(e,t){return t=t||0,e=e.toString().split("e"),e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+t:t))),e=e.toString().split("e"),e=+(e[0]+"e"+(e[1]?+e[1]-t:-t)),e.toFixed(t)},N=function(e,n,r){if(n){if(m.call(e)==="[object Date]")return S(e,n,r);if(typeof e===y)return x(e,n,r)}return e!==t?e:""};C&&(N=function(t,n,r){return e.isPlainObject(r)&&(r=r.name),C.format(t,n,r)}),n.format=function(e){var t=arguments;return e.replace(p,function(e,n,r){var i=t[parseInt(n,10)+1];return N(i,r?r.substring(1):"")})},n._extractFormat=function(e){return e.slice(0,3)==="{0:"&&(e=e.slice(3,e.length-1)),e},n._activeElement=function(){try{return document.activeElement}catch(e){return document.documentElement.activeElement}},n._round=T,n.toString=N}(),function(){function p(e,t,n){return!(e>=t&&e<=n)}function d(e){return e.charAt(0)}function v(t){return e.map(t,d)}function m(e,t){!t&&e.getHours()===23&&e.setHours(e.getHours()+2)}function g(e){var t=0,n=e.length,r=[];for(;t<n;t++)r[t]=(e[t]+"").toLowerCase();return r}function b(e){var t={},n;for(n in e)t[n]=g(e[n]);return t}function w(e,n,r){if(!e)return null;var i=function(e){var t=0;while(n[x]===e)t++,x++;return t>0&&(x-=1),t},s=function(t){var n=c[t]||new RegExp("^\\d{1,"+t+"}"),r=e.substr(T,t).match(n);return r?(r=r[0],T+=r.length,parseInt(r,10)):null},a=function(t,n){var r=0,i=t.length,s,o,u;for(;r<i;r++){s=t[r],o=s.length,u=e.substr(T,o),n&&(u=u.toLowerCase());if(u==s)return T+=o,r+1}return null},f=function(){var t=!1;return e.charAt(T)===n[x]&&(T++,t=!0),t},l=r.calendars.standard,h=null,d=null,g=null,y=null,w=null,E=null,S=null,x=0,T=0,N=!1,C=new Date,k=l.twoDigitYearMax||2029,L=C.getFullYear(),A,O,M,_,D,P,H,B,j,F,I,q,R,U;n||(n="d"),_=l.patterns[n],_&&(n=_),n=n.split(""),M=n.length;for(;x<M;x++){A=n[x];if(N)A==="'"?N=!1:f();else if(A==="d"){O=i("d"),l._lowerDays||(l._lowerDays=b(l.days)),g=O<3?s(2):a(l._lowerDays[O==3?"namesAbbr":"names"],!0);if(g===null||p(g,1,31))return null}else if(A==="M"){O=i("M"),l._lowerMonths||(l._lowerMonths=b(l.months)),d=O<3?s(2):a(l._lowerMonths[O==3?"namesAbbr":"names"],!0);if(d===null||p(d,1,12))return null;d-=1}else if(A==="y"){O=i("y"),h=s(O);if(h===null)return null;O==2&&(typeof k=="string"&&(k=L+parseInt(k,10)),h=L-L%100+h,h>k&&(h-=100))}else if(A==="h"){i("h"),y=s(2),y==12&&(y=0);if(y===null||p(y,0,11))return null}else if(A==="H"){i("H"),y=s(2);if(y===null||p(y,0,23))return null}else if(A==="m"){i("m"),w=s(2);if(w===null||p(w,0,59))return null}else if(A==="s"){i("s"),E=s(2);if(E===null||p(E,0,59))return null}else if(A==="f"){O=i("f"),U=e.substr(T,O).match(c[3]),S=s(O),S!==null&&(U=U[0].length,U<3&&(S*=Math.pow(10,3-U)),O>3&&(S=parseInt(S.toString().substring(0,3),10)));if(S===null||p(S,0,999))return null}else if(A==="t"){O=i("t"),j=l.AM,F=l.PM,O===1&&(j=v(j),F=v(F)),D=a(F);if(!D&&!a(j))return null}else if(A==="z"){P=!0,O=i("z");if(e.substr(T,1)==="Z"){if(!H)return null;f();continue}B=e.substr(T,6).match(O>2?u:o);if(!B)return null;B=B[0],T=B.length,B=B.split(":"),I=parseInt(B[0],10);if(p(I,-12,13))return null;if(O>2){q=parseInt(B[1],10);if(isNaN(q)||p(q,0,59))return null}}else if(A==="T")H=f();else if(A==="'")N=!0,f();else if(!f())return null}return R=y!==null||w!==null||E||null,h===null&&d===null&&g===null&&R?(h=L,d=C.getMonth(),g=C.getDate()):(h===null&&(h=L),g===null&&(g=1)),D&&y<12&&(y+=12),P?(I&&(y+=-I),q&&(w+=-q),e=new Date(Date.UTC(h,d,g,y,w,E,S))):(e=new Date(h,d,g,y,w,E,S),m(e,y)),h<100&&e.setFullYear(h),e.getDate()!==g&&P===t?null:e}var r=/\u00A0/g,i=/[eE][\-+]?[0-9]+/,o=/[+|\-]\d{1,2}/,u=/[+|\-]\d{1,2}:\d{2}/,a=/^\/Date\((.*?)\)\/$/,f=/[+-]/,l=["G","g","d","F","D","y","m","T","t"],c={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},h={}.toString;n.parseDate=function(e,t,r){if(h.call(e)==="[object Date]")return e;var i=0,o=null,u,c,p;if(e&&e.indexOf("/D")===0){o=a.exec(e);if(o)return p=o=o[1],o=parseInt(o,10),p=p.substring(1).split(f)[1],p&&(o-=parseInt(p,10)*n.date.MS_PER_MINUTE),new Date(o)}r=n.getCulture(r);if(!t){t=[],c=r.calendar.patterns,u=l.length;for(;i<u;i++)t[i]=c[l[i]];i=0,t=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"].concat(t)}t=s(t)?t:[t],u=t.length;for(;i<u;i++){o=w(e,t[i],r);if(o)return o}return o},n.parseInt=function(e,t){var r=n.parseFloat(e,t);return r&&(r|=0),r},n.parseFloat=function(e,t,s){if(!e&&e!==0)return null;if(typeof e===y)return e;e=e.toString(),t=n.getCulture(t);var o=t.numberFormat,u=o.percent,a=o.currency,f=a.symbol,l=u.symbol,c=e.indexOf("-"),h,p;return i.test(e)?(e=parseFloat(e.replace(o["."],".")),isNaN(e)&&(e=null),e):c>0?null:(c=c>-1,e.indexOf(f)>-1||s&&s.toLowerCase().indexOf("c")>-1?(o=a,h=o.pattern[0].replace("$",f).split("n"),e.indexOf(h[0])>-1&&e.indexOf(h[1])>-1&&(e=e.replace(h[0],"").replace(h[1],""),c=!0)):e.indexOf(l)>-1&&(p=!0,o=u,f=l),e=e.replace("-","").replace(f,"").replace(r," ").split(o[","].replace(r," ")).join("").replace(o["."],"."),e=parseFloat(e),isNaN(e)?e=null:c&&(e*=-1),e&&p&&(e/=100),e)},C&&(n.parseDate=function(e,t,n){return h.call(e)==="[object Date]"?e:C.parseDate(e,t,n)},n.parseFloat=function(n,r){return typeof n===y?n:n===t||n===null?null:(e.isPlainObject(r)&&(r=r.name),n=C.parseFloat(n,r),isNaN(n)?null:n)})}(),function(){c.scrollbar=function(){var e=document.createElement("div"),t;return e.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both",e.innerHTML="&nbsp;",document.body.appendChild(e),t=e.offsetWidth-e.scrollWidth,document.body.removeChild(e),t},c.isRtl=function(t){return e(t).closest(".k-rtl").length>0};var n=document.createElement("table");try{n.innerHTML="<tr><td></td></tr>",c.tbodyInnerHtml=!0}catch(r){c.tbodyInnerHtml=!1}c.touch="ontouchstart"in window,c.msPointers=window.MSPointerEvent,c.pointers=window.PointerEvent;var s=c.transitions=!1,o=c.transforms=!1,u="HTMLElement"in window?HTMLElement.prototype:[];c.hasHW3D="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix||"MozPerspective"in document.documentElement.style||"msPerspective"in document.documentElement.style,i(["Moz","webkit","O","ms"],function(){var e=this.toString(),t=typeof n.style[e+"Transition"]===g;if(t||typeof n.style[e+"Transform"]===g){var r=e.toLowerCase();return o={css:r!="ms"?"-"+r+"-":"",prefix:e,event:r==="o"||r==="webkit"?r:""},t&&(s=o,s.event=s.event?s.event+"TransitionEnd":"transitionend"),!1}}),n=null,c.transforms=o,c.transitions=s,c.devicePixelRatio=window.devicePixelRatio===t?1:window.devicePixelRatio;try{c.screenWidth=window.outerWidth||window.screen?window.screen.availWidth:window.innerWidth,c.screenHeight=window.outerHeight||window.screen?window.screen.availHeight:window.innerHeight}catch(r){c.screenWidth=window.screen.availWidth,c.screenHeight=window.screen.availHeight}c.detectOS=function(e){var t=!1,n,r=[],i=!/mobile safari/i.test(e),s={fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},o={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},u={tablet:/playbook|ipad|fire/i},a={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,chrome:/chrome|crios/i,webkit:/webkit/i,ie:/MSIE|Windows\sPhone/i};for(var f in s)if(s.hasOwnProperty(f)){r=e.match(s[f]);if(r){if(f=="windows"&&"plugins"in navigator)return!1;t={},t.device=f,t.tablet=X(f,u,!1),t.browser=X(e,a,"default"),t.name=X(f,o),t[t.name]=!0,t.majorVersion=r[2],t.minorVersion=r[3].replace("_","."),n=t.minorVersion.replace(".","").substr(0,2),t.flatVersion=t.majorVersion+n+(new Array(3-(n.length<3?n.length:2))).join("0"),t.cordova=typeof window.PhoneGap!==S||typeof window.cordova!==S,t.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||t.cordova,t.android&&(c.devicePixelRatio<1.5&&t.flatVersion<400||i)&&(c.screenWidth>800||c.screenHeight>800)&&(t.tablet=f);break}}return t};var a=c.mobileOS=c.detectOS(navigator.userAgent);c.wpDevicePixelRatio=a.wp?screen.width/320:0,c.kineticScrollNeeded=a&&(c.touch||c.msPointers||c.pointers),c.hasNativeScrolling=!1;if(a.ios||a.android&&a.majorVersion>2||a.wp)c.hasNativeScrolling=a;c.mouseAndTouchPresent=c.touch&&!c.mobileOS.ios&&!c.mobileOS.android,c.detectBrowser=function(e){var t=!1,n=[],r={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var i in r)if(r.hasOwnProperty(i)){n=e.match(r[i]);if(n){t={},t[i]=!0,t[n[1].toLowerCase()]=!0,t.version=parseInt(document.documentMode||n[2],10);break}}return t},c.browser=c.detectBrowser(navigator.userAgent),c.zoomLevel=function(){try{return c.touch?document.documentElement.clientWidth/window.innerWidth:c.browser.msie&&c.browser.version>=10?(top||window).document.documentElement.offsetWidth/(top||window).innerWidth:1}catch(e){return 1}},c.cssBorderSpacing=typeof document.documentElement.style.borderSpacing!="undefined"&&!(c.browser.msie&&c.browser.version<8),function(t){var n="",r=e(document.documentElement),i=parseInt(t.version,10);t.msie?n="ie":t.mozilla?n="ff":t.safari?n="safari":t.webkit?n="webkit":t.opera&&(n="opera"),n&&(n="k-"+n+" k-"+n+i),c.mobileOS&&(n+=" k-mobile"),r.addClass(n)}(c.browser),c.eventCapture=document.documentElement.addEventListener;var f=document.createElement("input");c.placeholder="placeholder"in f,c.propertyChangeEvent="onpropertychange"in f,c.input=function(){var e=["number","date","time","month","week","datetime","datetime-local"],t=e.length,n="test",r={},i=0,s;for(;i<t;i++)s=e[i],f.setAttribute("type",s),f.value=n,r[s.replace("-","")]=f.type!=="text"&&f.value!==n;return r}(),f.style.cssText="float:left;",c.cssFloat=!!f.style.cssFloat,f=null,c.stableSort=function(){var e=513,t=[{index:0,field:"b"}];for(var n=1;n<e;n++)t.push({index:n,field:"a"});return t.sort(function(e,t){return e.field>t.field?1:e.field<t.field?-1:0}),t[0].index===1}(),c.matchesSelector=u.webkitMatchesSelector||u.mozMatchesSelector||u.msMatchesSelector||u.oMatchesSelector||u.matchesSelector||function(t){var n=document.querySelectorAll?(this.parentNode||document).querySelectorAll(t)||[]:e(t),r=n.length;while(r--)if(n[r]==this)return!0;return!1},c.pushState=window.history&&window.history.pushState;var l=document.documentMode;c.hashChange="onhashchange"in window&&(!c.browser.msie||!(!l||l<=8))}();var G={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}},et={};e.extend(et,{enabled:!0,Element:function(t){this.element=e(t)},promise:function(e,t){e.is(":visible")||e.css({display:e.data("olddisplay")||"block"}).css("display"),t.hide&&e.data("olddisplay",e.css("display")).hide(),t.init&&t.init(),t.completeCallback&&t.completeCallback(e),e.dequeue()},disable:function(){this.enabled=!1,this.promise=this.promiseShim},enable:function(){this.enabled=!0,this.promise=this.animatedPromise}}),et.promiseShim=et.promise,"kendoAnimate"in e.fn||r(e.fn,{kendoStop:function(e,t){return this.stop(e,t)},kendoAnimate:function(e,t,n,r){return nt(this,e,t,n,r)},kendoAddClass:function(e,t){return n.toggleClass(this,e,t,!0)},kendoRemoveClass:function(e,t){return n.toggleClass(this,e,t,!1)},kendoToggleClass:function(e,t,r){return n.toggleClass(this,e,t,r)}});var it=/&/g,st=/</g,ot=/"/g,ut=/'/g,at=/>/g,lt=function(e){return e.target};c.touch&&(lt=function(e){var t="originalEvent"in e?e.originalEvent.changedTouches:"changedTouches"in e?e.changedTouches:null;return t?document.elementFromPoint(t[0].clientX,t[0].clientY):e.target},i(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(t,n){e.fn[n]=function(e){return this.bind(n,e)}})),c.touch?c.mobileOS?(c.mousedown="touchstart",c.mouseup="touchend",c.mousemove="touchmove",c.mousecancel="touchcancel",c.click="touchend",c.resize="orientationchange"):(c.mousedown="mousedown touchstart",c.mouseup="mouseup touchend",c.mousemove="mousemove touchmove",c.mousecancel="mouseleave touchcancel",c.click="click",c.resize="resize"):c.pointers?(c.mousemove="pointermove",c.mousedown="pointerdown",c.mouseup="pointerup",c.mousecancel="pointercancel",c.click="pointerup",c.resize="orientationchange resize"):c.msPointers?(c.mousemove="MSPointerMove",c.mousedown="MSPointerDown",c.mouseup="MSPointerUp",c.mousecancel="MSPointerCancel",c.click="MSPointerUp",c.resize="orientationchange resize"):(c.mousemove="mousemove",c.mousedown="mousedown",c.mouseup="mouseup",c.mousecancel="mouseleave",c.click="click",c.resize="resize");var ct=function(e,t){var n=t||"d",r,i,s,o,u=1;for(i=0,s=e.length;i<s;i++)o=e[i],o!==""&&(r=o.indexOf("["),r!==0&&(r==-1?o="."+o:(u++,o="."+o.substring(0,r)+" || {})"+o.substring(r))),u++,n+=o+(i<s-1?" || {})":")"));return(new Array(u)).join("(")+n},ht=/^([a-z]+:)?\/\//i;r(n,{ui:n.ui||{},fx:n.fx||Z,effects:n.effects||et,mobile:n.mobile||{},data:n.data||{},dataviz:n.dataviz||{ui:{roles:{}}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:n.support||c,animate:n.animate||nt,ns:"",attr:function(e){return"data-"+n.ns+e},getShadows:R,wrap:U,deepExtend:z,getComputedStyles:J,size:K,toCamelCase:$,toHyphens:V,getOffset:n.getOffset||Q,parseEffects:n.parseEffects||Y,toggleClass:n.toggleClass||rt,directions:n.directions||G,Observable:M,Class:k,Template:f,template:o(f.compile,f),render:o(f.render,f),stringify:o(l.stringify,l),eventTarget:lt,htmlEncode:ft,isLocalUrl:function(e){return e&&!ht.test(e)},expr:function(e,t,n){return e=e||"",typeof t==g&&(n=t,t=!1),n=n||"d",e&&e.charAt(0)!=="["&&(e="."+e),t?e=ct(e.split("."),n):e=n+e,e},getter:function(e,t){return x[e]=x[e]||new Function("d","return "+n.expr(e,t))},setter:function(e){return T[e]=T[e]||new Function("d,value",n.expr(e)+"=value")},accessor:function(e){return{get:n.getter(e),set:n.setter(e)}},guid:function(){var e="",t,n;for(t=0;t<32;t++){n=a.random()*16|0;if(t==8||t==12||t==16||t==20)e+="-";e+=(t==12?4:t==16?n&3|8:n).toString(16)}return e},roleSelector:function(e){return e.replace(/(\S+)/g,"["+n.attr("role")+"=$1],").slice(0,-1)},triggeredByInput:function(e){return/^(label|input|textarea|select)$/i.test(e.target.tagName)},logToConsole:function(e){var t=window.console;typeof t!="undefined"&&t.log&&t.log(e)}});var pt=M.extend({init:function(e,t){var i=this;i.element=n.jQuery(e).handler(i),M.fn.init.call(i),t=i.options=r(!0,{},i.options,t),i.element.attr(n.attr("role"))||i.element.attr(n.attr("role"),(t.name||"").toLowerCase()),i.element.data("kendo"+t.prefix+t.name,i),i.bind(i.events,t)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(e){e=e||this.wrapper;var t=this.element,n="tabindex",r=e.attr(n)||t.attr(n);t.removeAttr(n),e.attr(n,isNaN(r)?0:r)},setOptions:function(t){this._setEvents(t),e.extend(this.options,t)},_setEvents:function(e){var t=this,n=0,r=t.events.length,i;for(;n<r;n++)i=t.events[n],t.options[i]&&e[i]&&t.unbind(i,t.options[i]);t.bind(t.events,e)},resize:function(e){var t=this.getSize(),n=this._size;if(e||!n||t.width!==n.width||t.height!==n.height)this._resize(t),this.trigger("resize",t),this._size=t},getSize:function(){return n.dimensions(this.element)},size:function(e){if(!e)return this.getSize();this.setSize(e)},setSize:e.noop,_resize:e.noop,destroy:function(){var e=this;e.element.removeData("kendo"+e.options.prefix+e.options.name),e.element.removeData("handler"),e.unbind()}});n.dimensions=function(e,t){var n=e[0];return t&&e.css(t),{width:n.offsetWidth,height:n.offsetHeight}},n.notify=u;var dt=/template$/i,vt=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,mt=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]*\]$/,gt=/([A-Z])/g;n.initWidget=function(r,i,s){var o,u,a,f,l,c,h,p;s?s.roles&&(s=s.roles):s=n.ui.roles,r=r.nodeType?r:r[0],c=r.getAttribute("data-"+n.ns+"role");if(!c)return;c.indexOf(".")===-1?a=s[c]:a=n.getter(c)(window);if(!a)return;p=yt(r,"dataSource"),i=e.extend({},bt(r,a.fn.options),i),p&&(typeof p===g?i.dataSource=n.getter(p)(window):i.dataSource=p);for(f=0,l=a.fn.events.length;f<l;f++)u=a.fn.events[f],h=yt(r,u),h!==t&&(i[u]=n.getter(h)(window));return o=e(r).data("kendo"+a.fn.options.prefix+a.fn.options.name),o?o.setOptions(i):o=new a(r,i),o},n.rolesFromNamespaces=function(e){var t=[],i,s;e[0]||(e=[n.ui,n.dataviz.ui]);for(i=0,s=e.length;i<s;i++)t[i]=e[i].roles;return r.apply(null,[{}].concat(t.reverse()))},n.init=function(t){var r=n.rolesFromNamespaces(N.call(arguments,1));e(t).find("[data-"+n.ns+"role]").addBack().each(function(){n.initWidget(this,{},r)})},n.destroy=function(t){e(t).find("[data-"+n.ns+"role]").addBack().each(function(){var t=n.widgetInstance(e(this));t&&t.destroy()})},n.resize=function(t){var r=e(t).find("[data-"+n.ns+"role]").addBack().filter(Et);if(!r.length)return;var i=e.makeArray(r);i.sort(wt),e.each(i,function(){var t=n.widgetInstance(e(this));t&&t.resize()})},n.parseOptions=bt,r(n.ui,{Widget:pt,roles:{},progress:function(t,r){var i=t.find(".k-loading-mask"),s=n.support,o=s.browser,u,a,f,l;r?i.length||(u=s.isRtl(t),a=u?"right":"left",l=t.scrollLeft(),f=o.webkit?u?t[0].scrollWidth-t.width()-2*l:0:0,i=e("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top",t.scrollTop()).css(a,Math.abs(l)+f).prependTo(t)):i&&i.remove()},plugin:function(r,i,s){var o=r.fn.options.name,u;i=i||n.ui,s=s||"",i[o]=r,i.roles[o.toLowerCase()]=r,u="getKendo"+s+o,o="kendo"+s+o,e.fn[o]=function(i){var s=this,u;return typeof i===g?(u=N.call(arguments,1),this.each(function(){var r=e.data(this,o),a,f;if(!r)throw new Error(n.format("Cannot call method '{0}' of {1} before it is initialized",i,o));a=r[i];if(typeof a!==m)throw new Error(n.format("Cannot find method '{0}' of {1}",i,o));f=a.apply(r,u);if(f!==t)return s=f,!1})):this.each(function(){new r(this,i)}),s},e.fn[u]=function(){return this.data(o)}}});var St={bind:function(){return this},nullObject:!0},xt=pt.extend({init:function(e,t){pt.fn.init.call(this,e,t),this.element.autoApplyNS(),this.wrapper=this.element,this.element.addClass("km-widget")},destroy:function(){pt.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var e=this.element.closest(n.roleSelector("view splitview modalview drawer"));return n.widgetInstance(e,n.mobile.ui)||St},viewHasNativeScrolling:function(){var e=this.view();return e&&e.options.useNativeScrolling},container:function(){var e=this.element.closest(n.roleSelector("view layout modalview drawer"));return n.widgetInstance(e,n.mobile.ui)||St}});r(n.mobile,{init:function(e){n.init(e,n.mobile.ui,n.ui,n.dataviz.ui)},appLevelNativeScrolling:function(){return n.mobile.application&&n.mobile.application.options&&n.mobile.application.options.useNativeScrolling},ui:{Widget:xt,roles:{},plugin:function(e){n.ui.plugin(e,n.mobile.ui,"Mobile")}}}),n.touchScroller=function(t,r){return e(t).map(function(t,i){return i=e(i),c.kineticScrollNeeded&&n.mobile.ui.Scroller&&!i.data("kendoMobileScroller")?(i.kendoMobileScroller(r),i.data("kendoMobileScroller")):!1})[0]},n.preventDefault=function(e){e.preventDefault()},n.widgetInstance=function(e,t){var r=e.data(n.ns+"role"),i=[],s,o;if(r){r==="content"&&(r="scroller");if(t)if(t[0])for(s=0,o=t.length;s<o;s++)i.push(t[s].roles[r]);else i.push(t.roles[r]);else i=[n.ui.roles[r],n.dataviz.ui.roles[r],n.mobile.ui.roles[r]];r.indexOf(".")>=0&&(i=[n.getter(r)(window)]);for(s=0,o=i.length;s<o;s++){var u=i[s];if(u){var a=e.data("kendo"+u.fn.options.prefix+u.fn.options.name);if(a)return a}}}},n.onResize=function(t){var n=t;return c.mobileOS.android&&(n=function(){setTimeout(t,600)}),e(window).on(c.resize,n),n},n.unbindResize=function(t){e(window).off(c.resize,t)},n.attrValue=function(e,t){return e.data(n.ns+t)},n.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},e.extend(e.expr[":"],{kendoFocusable:function(t){var n=e.attr(t,"tabindex");return Tt(t,!isNaN(n)&&n>-1)}});var Ct=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],kt="label, input, [data-rel=external]",Lt={setupMouseMute:function(){var t=0,n=Ct.length,r=document.documentElement;if(Lt.mouseTrap||!c.eventCapture)return;Lt.mouseTrap=!0,Lt.bustClick=!1,Lt.captureMouse=!1;var i=function(t){Lt.captureMouse&&(t.type==="click"?Lt.bustClick&&!e(t.target).is(kt)&&(t.preventDefault(),t.stopPropagation()):t.stopPropagation())};for(;t<n;t++)r.addEventListener(Ct[t],i,!0)},muteMouse:function(e){Lt.captureMouse=!0,e.data.bustClick&&(Lt.bustClick=!0),clearTimeout(Lt.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(Lt.mouseTrapTimeoutID),Lt.mouseTrapTimeoutID=setTimeout(function(){Lt.captureMouse=!1,Lt.bustClick=!1},400)}},At={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};c.touch&&(c.mobileOS.ios||c.mobileOS.android)?At={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:c.pointers?At={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:c.msPointers&&(At={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),c.msPointers&&!("onmspointerenter"in window)&&e.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(t,n){e.event.special[t]={delegateType:n,bindType:n,handle:function(t){var r,i=this,s=t.relatedTarget,o=t.handleObj;if(!s||s!==i&&!e.contains(i,s))t.type=o.origType,r=o.handler.apply(this,arguments),t.type=n;return r}}});var Ot=function(e){return At[e]||e},Mt=/([^ ]+)/g;n.applyEventMap=function(e,t){return e=e.replace(Mt,Ot),t&&(e=e.replace(Mt,"$1."+t)),e};var _t=e.fn.on;r(!0,Dt,e),Dt.fn=Dt.prototype=new e,Dt.fn.constructor=Dt,Dt.fn.init=function(t,n){return n&&n instanceof e&&!(n instanceof Dt)&&(n=Dt(n)),e.fn.init.call(this,t,n,Pt)},Dt.fn.init.prototype=Dt.fn;var Pt=Dt(document);r(Dt.fn,{handler:function(e){return this.data("handler",e),this},autoApplyNS:function(e){return this.data("kendoNS",e||n.guid()),this},on:function(){var e=this,t=e.data("kendoNS");if(arguments.length===1)return _t.call(e,arguments[0]);var r=e,i=N.call(arguments);typeof i[i.length-1]===S&&i.pop();var s=i[i.length-1],o=n.applyEventMap(i[0],t);if(c.mouseAndTouchPresent&&o.search(/mouse|click/)>-1&&this[0]!==document.documentElement){Lt.setupMouseMute();var u=i.length===2?null:i[1],a=o.indexOf("click")>-1&&o.indexOf("touchend")>-1;_t.call(this,{touchstart:Lt.muteMouse,touchend:Lt.unMuteMouse},u,{bustClick:a})}return typeof s===g&&(r=e.data("handler"),s=r[s],i[i.length-1]=function(e){s.call(r,e)}),i[0]=o,_t.apply(e,i),e},kendoDestroy:function(e){return e=e||this.data("kendoNS"),e&&this.off("."+e),this}}),n.jQuery=Dt,n.eventMap=At,n.timezone=function(){function n(n,r){var i,s,o,u=r[3],a=r[4],f=r[5],l=r[8];return l||(r[8]=l={}),l[n]?l[n]:(isNaN(a)?a.indexOf("last")===0?(i=new Date(Date.UTC(n,e[u]+1,1,f[0]-24,f[1],f[2],0)),s=t[a.substr(4,3)],o=i.getUTCDay(),i.setUTCDate(i.getUTCDate()+s-o-(s>o?7:0))):a.indexOf(">=")>=0&&(i=new Date(Date.UTC(n,e[u],a.substr(5),f[0],f[1],f[2],0)),s=t[a.substr(0,3)],o=i.getUTCDay(),i.setUTCDate(i.getUTCDate()+s-o+(s<o?7:0))):i=new Date(Date.UTC(n,e[u],a,f[0],f[1],f[2],0)),l[n]=i)}function r(e,t,r){t=t[r];if(!t){var i=r.split(":"),s=0;return i.length>1&&(s=i[0]*60+Number(i[1])),[-1e6,"max","-","Jan",1,[0,0,0],s,"-"]}var o=(new Date(e)).getUTCFullYear();t=jQuery.grep(t,function(e){var t=e[0],n=e[1];return t<=o&&(n>=o||t==o&&n=="only"||n=="max")}),t.push(e),t.sort(function(e,t){return typeof e!="number"&&(e=Number(n(o,e))),typeof t!="number"&&(t=Number(n(o,t))),e-t});var u=t[jQuery.inArray(e,t)-1]||t[t.length-1];return isNaN(u)?u:null}function i(e,t,n){var r=t[n];typeof r=="string"&&(r=t[r]);if(!r)throw new Error('Timezone "'+n+'" is either incorrect, or kendo.timezones.min.js is not included.');for(var i=r.length-1;i>=0;i--){var s=r[i][3];if(s&&e>s)break}var o=r[i+1];if(!o)throw new Error('Timezone "'+n+'" not found on '+e+".");return o}function s(e,t,n,s){typeof e!=y&&(e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));var o=i(e,t,s);return{zone:o,rule:r(e,n,o[1])}}function o(e,t){if(t=="Etc/UTC"||t=="Etc/GMT")return 0;var n=s(e,this.zones,this.rules,t),r=n.zone,i=n.rule;return i?r[0]-i[6]:r[0]}function u(e,t){var n=s(e,this.zones,this.rules,t),r=n.zone,i=n.rule,o=r[2];return o.indexOf("/")>=0?o.split("/")[i&&+i[6]?1:0]:o.indexOf("%s")>=0?o.replace("%s",!i||i[7]=="-"?"":i[7]):o}function a(e,t,n){typeof t==g&&(t=this.offset(e,t)),typeof n==g&&(n=this.offset(e,n));var r=e.getTimezoneOffset();e=new Date(e.getTime()+(t-n)*6e4);var i=e.getTimezoneOffset();return new Date(e.getTime()+(i-r)*6e4)}function f(e,t){return this.convert(e,e.getTimezoneOffset(),t)}function l(e,t){return this.convert(e,t,e.getTimezoneOffset())}function c(e){return this.apply(new Date(e),"Etc/UTC")}var e={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},t={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};return{zones:{},rules:{},offset:o,convert:a,apply:f,remove:l,abbr:u,toLocalDate:c}}(),n.date=function(){function n(e,t){return t===0&&e.getHours()===23?(e.setHours(e.getHours()+2),!0):!1}function r(e,t,r){var i=e.getHours();r=r||1,t=(t-e.getDay()+7*r)%7,e.setDate(e.getDate()+t),n(e,i)}function i(e,t,n){return e=new Date(e),r(e,t,n),e}function s(e){return new Date(e.getFullYear(),e.getMonth(),1)}function o(e){var t=new Date(e.getFullYear(),e.getMonth()+1,0),n=s(e),r=Math.abs(t.getTimezoneOffset()-n.getTimezoneOffset());return r&&t.setHours(n.getHours()+r/60),t}function u(e){return e=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),n(e,0),e}function a(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function f(e){return e.getTime()-u(e)}function l(e,n,r){var i=f(n),s=f(r),o;return!e||i==s?!0:(n>=r&&(r+=t),o=f(e),i>o&&(o+=t),s<i&&(s+=t),o>=i&&o<=s)}function c(e,n,r){var i=n.getTime(),s=r.getTime(),o;return i>=s&&(s+=t),o=e.getTime(),o>=i&&o<=s}function h(e,r){var i=e.getHours();return e=new Date(e),p(e,r*t),n(e,i),e}function p(t,n,r){var i=t.getTimezoneOffset(),s;t.setTime(t.getTime()+n),r||(s=t.getTimezoneOffset()-i,t.setTime(t.getTime()+s*e))}function d(){return u(new Date)}function v(e){return u(e).getTime()==d().getTime()}function m(e){var t=new Date(1980,1,1,0,0,0);return e&&t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}var e=6e4,t=864e5;return{adjustDST:n,dayOfWeek:i,setDayOfWeek:r,getDate:u,isInDateRange:c,isInTimeRange:l,isToday:v,nextDay:function(e){return h(e,1)},previousDay:function(e){return h(e,-1)},toUtcTime:a,MS_PER_DAY:t,MS_PER_HOUR:60*e,MS_PER_MINUTE:e,setTime:p,addDays:h,today:d,toInvariantTime:m,firstDayOfMonth:s,lastDayOfMonth:o,getMilliseconds:f}}(),n.stripWhitespace=function(e){if(document.createNodeIterator){var t=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,function(t){return t.parentNode==e?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);while(t.nextNode())t.referenceNode&&!t.referenceNode.textContent.trim()&&t.referenceNode.parentNode.removeChild(t.referenceNode)}else for(var r=0;r<e.childNodes.length;r++){var i=e.childNodes[r];i.nodeType==3&&!/\S/.test(i.nodeValue)&&(e.removeChild(i),r--),i.nodeType==1&&n.stripWhitespace(i)}};var Ht=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)};n.animationFrame=function(e){Ht.call(window,e)};var Bt=[];n.queueAnimation=function(e){Bt[Bt.length]=e,Bt.length===1&&n.runNextAnimation()},n.runNextAnimation=function(){n.animationFrame(function(){Bt[0]&&(Bt.shift()(),Bt[0]&&n.runNextAnimation())})},n.parseQueryStringParams=function(e){var t=e.split("?")[1]||"",n={},r=t.split(/&|=/),i=r.length,s=0;for(;s<i;s+=2)r[s]!==""&&(n[decodeURIComponent(r[s])]=decodeURIComponent(r[s+1]));return n},n.elementUnderCursor=function(e){return document.elementFromPoint(e.x.client,e.y.client)},n.wheelDeltaY=function(e){var n=e.originalEvent,r=n.wheelDeltaY,i;if(n.wheelDelta){if(r===t||r)i=n.wheelDelta}else n.detail&&n.axis===n.VERTICAL_AXIS&&(i=-n.detail*10);return i},n.caret=function(n,r,i){var s,o=r!==t;i===t&&(i=r),n[0]&&(n=n[0]);if(o&&n.disabled)return;try{if(n.selectionStart!==t)o?(n.focus(),n.setSelectionRange(r,i)):r=[n.selectionStart,n.selectionEnd];else if(document.selection){e(n).is(":visible")&&n.focus(),s=n.createTextRange();if(o)s.collapse(!0),s.moveStart("character",r),s.moveEnd("character",i-r),s.select();else{var u=s.duplicate(),a,f;s.moveToBookmark(document.selection.createRange().getBookmark()),u.setEndPoint("EndToStart",s),a=u.text.length,f=a+s.text.length,r=[a,f]}}}catch(l){r=[]}return r}}(jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()}),function(e,t){t("kendo.data.odata",["./kendo.core"],e)}(function(){return function(e,t){function u(r){var s=[],o=r.logic||"and",a,f,l,c,h,p,d,v,m=r.filters;for(a=0,f=m.length;a<f;a++)r=m[a],l=r.field,d=r.value,p=r.operator,r.filters?r=u(r):(v=r.ignoreCase,l=l.replace(/\./g,"/"),r=i[p],r&&d!==t&&(c=e.type(d),c==="string"?(h="'{1}'",d=d.replace(/'/g,"''"),v===!0&&(l="tolower("+l+")")):c==="date"?h="datetime'{1:yyyy-MM-ddTHH:mm:ss}'":h="{1}",r.length>3?r!=="substringof"?h="{0}({2},"+h+")":(h="{0}("+h+",{2})",p==="doesnotcontain"&&(h+=" eq false")):h="{2} {0} "+h,r=n.format(h,r,d,l))),s.push(r);return r=s.join(" "+o+" "),s.length>1&&(r="("+r+")"),r}var n=window.kendo,r=e.extend,i={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith"},s={pageSize:e.noop,page:e.noop,filter:function(e,t){t&&(e.$filter=u(t))},sort:function(t,n){var r=e.map(n,function(e){var t=e.field.replace(/\./g,"/");return e.dir==="desc"&&(t+=" desc"),t}).join(",");r&&(t.$orderby=r)},skip:function(e,t){t&&(e.$skip=t)},take:function(e,t){t&&(e.$top=t)}},o={read:{dataType:"jsonp"}};r(!0,n.data,{schemas:{odata:{type:"json",data:function(e){return e.d.results||[e.d]},total:"d.__count"}},transports:{odata:{read:{cache:!0,dataType:"jsonp",jsonp:"$callback"},update:{cache:!0,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(e,t){var r,i,u,a;e=e||{},t=t||"read",a=(this.options||o)[t],a=a?a.dataType:"json";if(t==="read"){r={$inlinecount:"allpages"},a!="json"&&(r.$format="json");for(u in e)s[u]?s[u](r,e[u]):r[u]=e[u]}else{if(a!=="json")throw new Error("Only json dataType can be used for "+t+" operation.");if(t!=="destroy"){for(u in e)i=e[u],typeof i=="number"&&(e[u]=i+"");r=n.stringify(e)}}return r}}}})}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()}),function(e,t){t("kendo.data.xml",["./kendo.core"],e)}(function(){return function(e,t){var n=window.kendo,r=e.isArray,i=e.isPlainObject,s=e.map,o=e.each,u=e.extend,a=n.getter,f=n.Class,l=f.extend({init:function(e){var t=this,a=e.total,f=e.model,l=e.parse,c=e.errors,h=e.serialize,p=e.data;if(f){if(i(f)){var d=e.modelBase||n.data.Model;f.fields&&o(f.fields,function(e,n){i(n)&&n.field?n=u(n,{field:t.getter(n.field)}):n={field:t.getter(n)},f.fields[e]=n});var v=f.id;if(v){var m={};m[t.xpathToMember(v,!0)]={field:t.getter(v)},f.fields=u(m,f.fields),f.id=t.xpathToMember(v)}f=d.define(f)}t.model=f}a&&(typeof a=="string"?(a=t.getter(a),t.total=function(e){return parseInt(a(e),10)}):typeof a=="function"&&(t.total=a)),c&&(typeof c=="string"?(c=t.getter(c),t.errors=function(e){return c(e)||null}):typeof c=="function"&&(t.errors=c)),p&&(typeof p=="string"?(p=t.xpathToMember(p),t.data=function(e){var n=t.evaluate(e,p),i;return n=r(n)?n:[n],t.model&&f.fields?(i=new t.model,s(n,function(e){if(e){var t={},n;for(n in f.fields)t[n]=i._parse(n,f.fields[n].field(e));return t}})):n}):typeof p=="function"&&(t.data=p));if(typeof l=="function"){var g=t.parse;t.parse=function(e){var n=l.call(t,e);return g.call(t,n)}}typeof h=="function"&&(t.serialize=h)},total:function(e){return this.data(e).length},errors:function(e){return e?e.errors:null},serialize:function(e){return e},parseDOM:function(e){var n={},i,s,o,u,a,f,l=e.attributes,c=l.length,h;for(h=0;h<c;h++)f=l[h],n["@"+f.nodeName]=f.nodeValue;for(s=e.firstChild;s;s=s.nextSibling)o=s.nodeType,o===3||o===4?n["#text"]=s.nodeValue:o===1&&(i=this.parseDOM(s),u=s.nodeName,a=n[u],r(a)?a.push(i):a!==t?a=[a,i]:a=i,n[u]=a);return n},evaluate:function(e,t){var n=t.split("."),i,s,o,u,a;while(i=n.shift()){e=e[i];if(r(e)){s=[],t=n.join(".");for(a=0,o=e.length;a<o;a++)u=this.evaluate(e[a],t),u=r(u)?u:[u],s.push.apply(s,u);return s}}return e},parse:function(t){var n,r,i={};return n=t.documentElement||e.parseXML(t).documentElement,r=this.parseDOM(n),i[n.nodeName]=r,i},xpathToMember:function(e,t){return e?(e=e.replace(/^\//,"").replace(/\//g,"."),e.indexOf("@")>=0?e.replace(/\.?(@.*)/,t?"$1":'["$1"]'):e.indexOf("text()")>=0?e.replace(/(\.?text\(\))/,t?"#text":'["#text"]'):e):""},getter:function(e){return a(this.xpathToMember(e),!0)}});e.extend(!0,n.data,{XmlDataReader:l,readers:{xml:l}})}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()}),function(e,t){t("kendo.data",["./kendo.core","./kendo.data.odata","./kendo.data.xml"],e)}(function(){return function(e,t){function $(e,t,n,r){return function(i){var s={},o;for(o in i)s[o]=i[o];r?s.field=n+"."+i.field:s.field=n,t==S&&e._notifyChange&&e._notifyChange(s),e.trigger(t,s)}}function K(t,n){if(t===n)return!0;var r=e.type(t),i=e.type(n),s;if(r!==i)return!1;if(r==="date")return t.getTime()===n.getTime();if(r!=="object"&&r!=="array")return!1;for(s in t)if(!K(t[s],n[s]))return!1;return!0}function Y(e,t){var n,r;for(r in e){n=e[r];if(i(n)&&n.field&&n.field===t)return n;if(n===t)return n}return null}function rt(e){this.data=e||[]}function it(e,n){if(e){var r=typeof e===m?{field:e,dir:n}:e,i=o(r)?r:r!==t?[r]:[];return u(i,function(e){return!!e.dir})}}function ot(e){var t,n,r,i,s=e.filters;if(s)for(t=0,n=s.length;t<n;t++)r=s[t],i=r.operator,i&&typeof i===m&&(r.operator=st[i.toLowerCase()]||i),ot(r)}function ut(e){if(e&&!s(e)){if(o(e)||!e.filters)e={logic:"and",filters:o(e)?e:[e]};return ot(e),e}}function at(e){return o(e)?e:[e]}function ft(e,n){var r=typeof e===m?{field:e,dir:n}:e,i=o(r)?r:r!==t?[r]:[];return f(i,function(e){return{field:e.field,dir:e.dir||"asc",aggregates:e.aggregates}})}function lt(e,t){return e&&e.getTime&&t&&t.getTime?e.getTime()===t.getTime():e===t}function ct(e,t,n,r,i,s){t=t||[];var o,u,a,f=t.length;for(o=0;o<f;o++){u=t[o],a=u.aggregate;var l=u.field;e[l]=e[l]||{},s[l]=s[l]||{},s[l][a]=s[l][a]||{},e[l][a]=ht[a.toLowerCase()](e[l][a],n,h.accessor(l),r,i,s[l][a])}}function pt(e){return typeof e=="number"&&!isNaN(e)}function dt(e){var t,n=e.length,r=new Array(n);for(t=0;t<n;t++)r[t]=e[t].toJSON();return r}function vt(e,t){t=t||{};var n=new rt(e),r=t.aggregate,i=t.filter;return i&&(n=n.filter(i)),n.aggregate(r)}function bt(e,t,n,r,i){var s,o,u,a,f;for(a=0,f=e.length;a<f;a++){s=e[a];for(o in t)u=i[o],u&&u!==o&&(s[u]=t[o](s),delete s[o])}}function wt(e,t,n,r,i){var s,o,u,a,f;for(a=0,f=e.length;a<f;a++){s=e[a];for(o in t)s[o]=n._parse(o,t[o](s)),u=i[o],u&&u!==o&&delete s[u]}}function Et(e,t,n,r,i){var s,o,u,a;for(o=0,a=e.length;o<a;o++)s=e[o],u=r[s.field],u&&u!=s.field&&(s.field=u),s.value=n._parse(s.field,s.value),s.hasSubgroups?Et(s.items,t,n,r,i):wt(s.items,t,n,r,i)}function St(e,t,n,r,i,o){return function(u){return u=e(u),u&&!s(r)&&(R.call(u)!=="[object Array]"&&!(u instanceof V)&&(u=[u]),n(u,r,new t,i,o)),u||[]}}function Tt(e,t,n,r){var i,s=0,o;while(t.length&&r){i=t[s],o=i.items;var u=o.length;e&&e.field===i.field&&e.value===i.value?(e.hasSubgroups&&e.items.length?Tt(e.items[e.items.length-1],i.items,n,r):(o=o.slice(n,n+r),e.items=e.items.concat(o)),t.splice(s--,1)):i.hasSubgroups&&o.length?Tt(i,o,n,r):(o=o.slice(n,n+r),i.items=o,i.items.length||t.splice(s--,1)),o.length===0?n-=u:(n=0,r-=o.length);if(++s>=t.length)break}s<t.length&&t.splice(s,t.length-s)}function Nt(e){var t,n,r=[];for(t=0,n=e.length;t<n;t++)e[t].hasSubgroups?r=r.concat(Nt(e[t].items)):r=r.concat(e[t].items.slice());return r}function Ct(e,t){var n,r,i,s;if(t)for(n=0,r=e.length;n<r;n++)i=e[n],s=i.items,i.hasSubgroups?Ct(s,t):s.length&&!(s[0]instanceof t)&&(s.type=t,s.wrapAll(s,s))}function kt(e,t){var n,r;for(n=0,r=e.length;n<r;n++)if(e[n].hasSubgroups){if(kt(e[n].items,t))return!0}else if(t(e[n].items,e[n]))return!0}function Lt(e,t){var n,r;for(n=0,r=e.length;n<r;n++)if(e[n].uid==t.uid)return t=e[n],e.splice(n,1),t}function At(e,t){var n,r,i,s;for(i=e.length-1,s=0;i>=s;i--)r=e[i],n={value:t.get(r.field),field:r.field,items:n?[n]:[t],hasSubgroups:!!n,aggregates:{}};return n}function Ot(e,t){return t?_t(e,function(e){return e[t.idField]===t.id}):-1}function Mt(e,t){return t?_t(e,function(e){return e.uid==t.uid}):-1}function _t(e,t){var n,r;for(n=0,r=e.length;n<r;n++)if(t(e[n]))return n;return-1}function Dt(e,t){if(e&&!s(e)){var n=e[t],r;return i(n)?r=n.from||n.field||t:r=e[t]||t,p(r)?t:r}return t}function Pt(e,t){var n,r,i={};for(var s in e)s!=="filters"&&(i[s]=e[s]);if(e.filters){i.filters=[];for(n=0,r=e.filters.length;n<r;n++)i.filters[n]=Pt(e.filters[n],t)}else i.field=Dt(t.fields,i.field);return i}function Ht(e,t){var n,r,i=[],s,u;for(n=0,r=e.length;n<r;n++){s={},u=e[n];for(var a in u)s[a]=u[a];s.field=Dt(t.fields,s.field),s.aggregates&&o(s.aggregates)&&(s.aggregates=Ht(s.aggregates,t)),i.push(s)}return i}function Ft(t,n){var r=e(t)[0].children,i,s,o=[],u,a=n[0],f=n[1],l,c;for(i=0,s=r.length;i<s;i++){u={},c=r[i];if(c.disabled)continue;u[a.field]=c.text,l=c.attributes.value,l&&l.specified?l=c.value:l=c.text,u[f.field]=l,o.push(u)}return o}function It(t,n){var r=e(t)[0].tBodies[0],i=r?r.rows:[],s,o,u,a=n.length,f=[],l,c,h,p;for(s=0,o=i.length;s<o;s++){c={},p=!0,l=i[s].cells;for(u=0;u<a;u++)h=l[u],h.nodeName.toLowerCase()!=="th"&&(p=!1,c[n[u].field]=h.innerHTML);p||f.push(c)}return f}function Rt(e){return function(){var t=this._data,n=Bt.fn[e].apply(this,I.call(arguments));return this._data!=t&&this._attachBubbleHandlers(),n}}function zt(t,n){function g(e,t){return e.filter(t).add(e.find(t))}var r=e(t).children(),i,s,o=[],u,a=n[0].field,f=n[1]&&n[1].field,l=n[2]&&n[2].field,c=n[3]&&n[3].field,h,p,d,v,m;for(i=0,s=r.length;i<s;i++)u={_loaded:!0},h=r.eq(i),d=h[0].firstChild,m=h.children(),t=m.filter("ul"),m=m.filter(":not(ul)"),p=h.attr("data-id"),p&&(u.id=p),d&&(u[a]=d.nodeType==3?d.nodeValue:m.text()),f&&(u[f]=g(m,"a").attr("href")),c&&(u[c]=g(m,"img").attr("src")),l&&(v=g(m,".k-sprite").prop("className"),u[l]=v&&e.trim(v.replace("k-sprite",""))),t.length&&(u.items=zt(t.eq(0),n)),h.attr("data-hasChildren")=="true"&&(u.hasChildren=!0),o.push(u);return o}var n=e.extend,r=e.proxy,i=e.isPlainObject,s=e.isEmptyObject,o=e.isArray,u=e.grep,a=e.ajax,f,l=e.each,c=e.noop,h=window.kendo,p=h.isFunction,d=h.Observable,v=h.Class,m="string",g="function",y="create",b="read",w="update",E="destroy",S="change",x="sync",T="get",N="error",C="requestStart",k="progress",L="requestEnd",A=[y,b,w,E],O=function(e){return e},M=h.getter,_=h.stringify,D=Math,P=[].push,H=[].join,B=[].pop,j=[].splice,F=[].shift,I=[].slice,q=[].unshift,R={}.toString,U=h.support.stableSort,z=/^\/Date\((.*?)\)\/$/,W=/(\r+|\n+)/g,X=/(?=['\\])/g,V=d.extend({init:function(e,t){var n=this;n.type=t||J,d.fn.init.call(n),n.length=e.length,n.wrapAll(e,n)},toJSON:function(){var e,t=this.length,n,r=new Array(t);for(e=0;e<t;e++)n=this[e],n instanceof J&&(n=n.toJSON()),r[e]=n;return r},parent:c,wrapAll:function(e,t){var n=this,r,i,s=function(){return n};t=t||[];for(r=0,i=e.length;r<i;r++)t[r]=n.wrap(e[r],s);return t},wrap:function(e,t){var n=this,r;return e!==null&&R.call(e)==="[object Object]"&&(r=e instanceof n.type||e instanceof Z,r||(e=e instanceof J?e.toJSON():e,e=new n.type(e)),e.parent=t,e.bind(S,function(e){n.trigger(S,{field:e.field,node:e.node,index:e.index,items:e.items||[this],action:e.node?e.action||"itemchange":"itemchange"})})),e},push:function(){var e=this.length,t=this.wrapAll(arguments),n;return n=P.apply(this,t),this.trigger(S,{action:"add",index:e,items:t}),n},slice:I,join:H,pop:function(){var e=this.length,t=B.apply(this);return e&&this.trigger(S,{action:"remove",index:e-1,items:[t]}),t},splice:function(e,t,n){var r=this.wrapAll(I.call(arguments,2)),i,s,o;i=j.apply(this,[e,t].concat(r));if(i.length){this.trigger(S,{action:"remove",index:e,items:i});for(s=0,o=i.length;s<o;s++)i[s].children&&i[s].unbind(S)}return n&&this.trigger(S,{action:"add",index:e,items:r}),i},shift:function(){var e=this.length,t=F.apply(this);return e&&this.trigger(S,{action:"remove",index:0,items:[t]}),t},unshift:function(){var e=this.wrapAll(arguments),t;return t=q.apply(this,e),this.trigger(S,{action:"add",index:0,items:e}),t},indexOf:function(e){var t=this,n,r;for(n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},forEach:function(e){var t=0,n=this.length;for(;t<n;t++)e(this[t],t,this)},map:function(e){var t=0,n=[],r=this.length;for(;t<r;t++)n[t]=e(this[t],t,this);return n},filter:function(e){var t=0,n=[],r,i=this.length;for(;t<i;t++)r=this[t],e(r,t,this)&&(n[n.length]=r);return n},find:function(e){var t=0,n,r=this.length;for(;t<r;t++){n=this[t];if(e(n,t,this))return n}},every:function(e){var t=0,n,r=this.length;for(;t<r;t++){n=this[t];if(!e(n,t,this))return!1}return!0},some:function(e){var t=0,n,r=this.length;for(;t<r;t++){n=this[t];if(e(n,t,this))return!0}return!1},remove:function(e){this.splice(this.indexOf(e),1)},empty:function(){this.splice(0,this.length)}}),J=d.extend({init:function(e){var t=this,n,r,i=function(){return t};d.fn.init.call(this);for(r in e)n=e[r],r.charAt(0)!="_"&&(n=t.wrap(n,r,i)),t[r]=n;t.uid=h.guid()},shouldSerialize:function(e){return this.hasOwnProperty(e)&&e!=="_events"&&typeof this[e]!==g&&e!=="uid"},forEach:function(e){for(var t in this)this.shouldSerialize(t)&&e(this[t],t)},toJSON:function(){var e={},t,n;for(n in this)if(this.shouldSerialize(n)){t=this[n];if(t instanceof J||t instanceof V)t=t.toJSON();e[n]=t}return e},get:function(e){var t=this,n;return t.trigger(T,{field:e}),e==="this"?n=t:n=h.getter(e,!0)(t),n},_set:function(e,t){var n=this,r=e.indexOf(".")>=0;if(r){var i=e.split("."),s="";while(i.length>1){s+=i.shift();var o=h.getter(s,!0)(n);if(o instanceof J)return o.set(i.join("."),t),r;s+="."}}return h.setter(e)(n,t),r},set:function(e,t){var n=this,r=e.indexOf(".")>=0,i=h.getter(e,!0)(n);i!==t&&(n.trigger("set",{field:e,value:t})||(r||(t=n.wrap(t,e,function(){return n})),(!n._set(e,t)||e.indexOf("(")>=0||e.indexOf("[")>=0)&&n.trigger(S,{field:e})))},parent:c,wrap:function(e,t,n){var r=this,i=R.call(e);if(e!=null&&(i==="[object Object]"||i==="[object Array]")){var s=e instanceof V,o=e instanceof Bt;if(i==="[object Object]"&&!o&&!s)e instanceof J||(e=new J(e)),e.parent()!=n()&&(e.bind(T,$(r,T,t,!0)),e.bind(S,$(r,S,t,!0)));else if(i==="[object Array]"||s||o)!s&&!o&&(e=new V(e)),e.parent()!=n()&&e.bind(S,$(r,S,t,!1));e.parent=n}return e}}),Q={number:function(e){return h.parseFloat(e)},date:function(e){return h.parseDate(e)},"boolean":function(e){return typeof e===m?e.toLowerCase()==="true":e!=null?!!e:e},string:function(e){return e!=null?e+"":e},"default":function(e){return e}},G={string:"",number:0,date:new Date,"boolean":!1,"default":""},Z=J.extend({init:function(n){var r=this;if(!n||e.isEmptyObject(n))n=e.extend({},r.defaults,n);J.fn.init.call(r,n),r.dirty=!1,r.idField&&(r.id=r.get(r.idField),r.id===t&&(r.id=r._defaultId))},shouldSerialize:function(e){return J.fn.shouldSerialize.call(this,e)&&e!=="uid"&&(this.idField==="id"||e!=="id")&&e!=="dirty"&&e!=="_accessors"},_parse:function(e,t){var n=this,r=e,i=n.fields||{},s;return e=i[e],e||(e=Y(i,r)),e&&(s=e.parse,!s&&e.type&&(s=Q[e.type.toLowerCase()])),s?s(t):t},_notifyChange:function(e){var t=e.action;if(t=="add"||t=="remove")this.dirty=!0},editable:function(e){return e=(this.fields||{})[e],e?e.editable!==!1:!0},set:function(e,t,n){var r=this;r.editable(e)&&(t=r._parse(e,t),K(t,r.get(e))||(r.dirty=!0,J.fn.set.call(r,e,t,n)))},accept:function(e){var t=this,n=function(){return t},r;for(r in e){var i=e[r];r.charAt(0)!="_"&&(i=t.wrap(e[r],r,n)),t._set(r,i)}t.idField&&(t.id=t.get(t.idField)),t.dirty=!1},isNew:function(){return this.id===this._defaultId}});Z.define=function(e,r){r===t&&(r=e,e=Z);var i,s=n({defaults:{}},r),o,u,a,f,l,c,h={},p,d=s.id;d&&(s.idField=d),s.id&&delete s.id,d&&(s.defaults[d]=s._defaultId="");if(R.call(s.fields)==="[object Array]"){for(l=0,c=s.fields.length;l<c;l++)u=s.fields[l],typeof u===m?h[u]={}:u.field&&(h[u.field]=u);s.fields=h}for(o in s.fields)u=s.fields[o],a=u.type||"default",f=null,p=o,o=typeof u.field===m?u.field:o,u.nullable||(f=s.defaults[p!==o?p:o]=u.defaultValue!==t?u.defaultValue:G[a.toLowerCase()]),r.id===o&&(s._defaultId=f),s.defaults[p!==o?p:o]=f,u.parse=u.parse||Q[a];return i=e.extend(s),i.define=function(e){return Z.define(i,e)},s.fields&&(i.fields=s.fields,i.idField=s.idField),i};var et={selector:function(e){return p(e)?e:M(e)},compare:function(e){var t=this.selector(e);return function(e,n){return e=t(e),n=t(n),e==null&&n==null?0:e==null?-1:n==null?1:e.localeCompare?e.localeCompare(n):e>n?1:e<n?-1:0}},create:function(e){var t=e.compare||this.compare(e.field);return e.dir=="desc"?function(e,n){return t(n,e,!0)}:t},combine:function(e){return function(t,n){var r=e[0](t,n),i,s;for(i=1,s=e.length;i<s;i++)r=r||e[i](t,n);return r}}},tt=n({},et,{asc:function(e){var t=this.selector(e);return function(e,n){var r=t(e),i=t(n);return r&&r.getTime&&i&&i.getTime&&(r=r.getTime(),i=i.getTime()),r===i?e.__position-n.__position:r==null?-1:i==null?1:r.localeCompare?r.localeCompare(i):r>i?1:-1}},desc:function(e){var t=this.selector(e);return function(e,n){var r=t(e),i=t(n);return r&&r.getTime&&i&&i.getTime&&(r=r.getTime(),i=i.getTime()),r===i?e.__position-n.__position:r==null?1:i==null?-1:i.localeCompare?i.localeCompare(r):r<i?1:-1}},create:function(e){return this[e.dir](e.field)}});f=function(e,t){var n,r=e.length,i=new Array(r);for(n=0;n<r;n++)i[n]=t(e[n],n,e);return i};var nt=function(){function e(e){return e.replace(X,"\\").replace(W,"")}function t(t,n,r,i){var s;return r!=null&&(typeof r===m&&(r=e(r),s=z.exec(r),s?r=new Date(+s[1]):i?(r="'"+r.toLowerCase()+"'",n="("+n+" || '').toLowerCase()"):r="'"+r+"'"),r.getTime&&(n="("+n+"?"+n+".getTime():"+n+")",r=r.getTime())),n+" "+t+" "+r}return{eq:function(e,n,r){return t("==",e,n,r)},neq:function(e,n,r){return t("!=",e,n,r)},gt:function(e,n,r){return t(">",e,n,r)},gte:function(e,n,r){return t(">=",e,n,r)},lt:function(e,n,r){return t("<",e,n,r)},lte:function(e,n,r){return t("<=",e,n,r)},startswith:function(t,n,r){return r&&(t="("+t+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=e(n)),t+".lastIndexOf('"+n+"', 0) == 0"},endswith:function(t,n,r){return r&&(t="("+t+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=e(n)),t+".indexOf('"+n+"', "+t+".length - "+(n||"").length+") >= 0"},contains:function(t,n,r){return r&&(t="("+t+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=e(n)),t+".indexOf('"+n+"') >= 0"},doesnotcontain:function(t,n,r){return r&&(t="("+t+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=e(n)),t+".indexOf('"+n+"') == -1"}}}();rt.filterExpr=function(e){var n=[],r={and:" && ",or:" || "},i,s,o,u,a=[],f=[],l,c,p=e.filters;for(i=0,s=p.length;i<s;i++)o=p[i],l=o.field,c=o.operator,o.filters?(u=rt.filterExpr(o),o=u.expression.replace(/__o\[(\d+)\]/g,function(e,t){return t=+t,"__o["+(f.length+t)+"]"}).replace(/__f\[(\d+)\]/g,function(e,t){return t=+t,"__f["+(a.length+t)+"]"}),f.push.apply(f,u.operators),a.push.apply(a,u.fields)):(typeof l===g?(u="__f["+a.length+"](d)",a.push(l)):u=h.expr(l),typeof c===g?(o="__o["+f.length+"]("+u+", "+o.value+")",f.push(c)):o=nt[(c||"eq").toLowerCase()](u,o.value,o.ignoreCase!==t?o.ignoreCase:!0)),n.push(o);return{expression:"("+n.join(r[e.logic])+")",fields:a,operators:f}};var st={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"};rt.normalizeFilter=ut,rt.prototype={toArray:function(){return this.data},range:function(e,t){return new rt(this.data.slice(e,e+t))},skip:function(e){return new rt(this.data.slice(e))},take:function(e){return new rt(this.data.slice(0,e))},select:function(e){return new rt(f(this.data,e))},order:function(e,t){var n={dir:t};return e&&(e.compare?n.compare=e.compare:n.field=e),new rt(this.data.slice(0).sort(et.create(n)))},orderBy:function(e){return this.order(e,"asc")},orderByDescending:function(e){return this.order(e,"desc")},sort:function(e,t,n){var r,i,s=it(e,t),o=[];n=n||et;if(s.length){for(r=0,i=s.length;r<i;r++)o.push(n.create(s[r]));return this.orderBy({compare:n.combine(o)})}return this},filter:function(e){var t,n,r,i,s,o=this.data,u,a,f=[],l;e=ut(e);if(!e||e.filters.length===0)return this;i=rt.filterExpr(e),u=i.fields,a=i.operators,s=l=new Function("d, __f, __o","return "+i.expression);if(u.length||a.length)l=function(e){return s(e,u,a)};for(t=0,r=o.length;t<r;t++)n=o[t],l(n)&&f.push(n);return new rt(f)},group:function(e,t){e=ft(e||[]),t=t||this.data;var n=this,r=new rt(n.data),i;return e.length>0&&(i=e[0],r=r.groupBy(i).select(function(n){var r=(new rt(t)).filter([{field:n.field,operator:"eq",value:n.value,ignoreCase:!1}]);return{field:n.field,value:n.value,items:e.length>1?(new rt(n.items)).group(e.slice(1),r.toArray()).toArray():n.items,hasSubgroups:e.length>1,aggregates:r.aggregate(i.aggregates)}})),r},groupBy:function(e){if(s(e)||!this.data.length)return new rt([]);var t=e.field,n=this._sortForGrouping(t,e.dir||"asc"),r=h.accessor(t),i,o=r.get(n[0],t),u={field:t,value:o,items:[]},a,f,l,c=[u];for(f=0,l=n.length;f<l;f++)i=n[f],a=r.get(i,t),lt(o,a)||(o=a,u={field:t,value:o,items:[]},c.push(u)),u.items.push(i);return new rt(c)},_sortForGrouping:function(e,t){var n,r,i=this.data;if(!U){for(n=0,r=i.length;n<r;n++)i[n].__position=n;i=(new rt(i)).sort(e,t,tt).toArray();for(n=0,r=i.length;n<r;n++)delete i[n].__position;return i}return this.sort(e,t).toArray()},aggregate:function(e){var t,n,r={},i={};if(e&&e.length)for(t=0,n=this.data.length;t<n;t++)ct(r,e,this.data[t],t,n,i);return r}};var ht={sum:function(e,t,n){var r=n.get(t);return pt(e)?pt(r)&&(e+=r):e=r,e},count:function(e){return(e||0)+1},average:function(e,n,r,i,s,o){var u=r.get(n);return o.count===t&&(o.count=0),pt(e)?pt(u)&&(e+=u):e=u,pt(u)&&o.count++,i==s-1&&pt(e)&&(e/=o.count),e},max:function(e,t,n){var r=n.get(t);return pt(e)||(e=r),e<r&&pt(r)&&(e=r),e},min:function(e,t,n){var r=n.get(t);return pt(e)||(e=r),e>r&&pt(r)&&(e=r),e}};rt.process=function(e,n){n=n||{};var r=new rt(e),i=n.group,s=ft(i||[]).concat(it(n.sort||[])),o,u=n.filter,a=n.skip,f=n.take;return u&&(r=r.filter(u),o=r.toArray().length),s&&(r=r.sort(s),i&&(e=r.toArray())),a!==t&&f!==t&&(r=r.range(a,f)),i&&(r=r.group(i,e)),{total:o,data:r.toArray()}};var mt=v.extend({init:function(e){this.data=e.data},read:function(e){e.success(this.data)},update:function(e){e.success(e.data)},create:function(e){e.success(e.data)},destroy:function(e){e.success(e.data)}}),gt=v.extend({init:function(e){var t=this,r;e=t.options=n({},t.options,e),l(A,function(t,n){typeof e[n]===m&&(e[n]={url:e[n]})}),t.cache=e.cache?yt.create(e.cache):{find:c,add:c},r=e.parameterMap,p(e.push)&&(t.push=e.push),t.push||(t.push=O),t.parameterMap=p(r)?r:function(e){var t={};return l(e,function(e,n){e in r&&(e=r[e],i(e)&&(n=e.value(n),e=e.key)),t[e]=n}),t}},options:{parameterMap:O},create:function(e){return a(this.setup(e,y))},read:function(n){var r=this,i,s,o,u=r.cache;n=r.setup(n,b),i=n.success||c,s=n.error||c,o=u.find(n.data),o!==t?i(o):(n.success=function(e){u.add(n.data,e),i(e)},e.ajax(n))},update:function(e){return a(this.setup(e,w))},destroy:function(e){return a(this.setup(e,E))},setup:function(e,t){e=e||{};var r=this,i,s=r.options[t],o=p(s.data)?s.data(e.data):s.data;return e=n(!0,{},s,e),i=n(!0,{},o,e.data),e.data=r.parameterMap(i,t),p(e.url)&&(e.url=e.url(i)),e}}),yt=v.extend({init:function(){this._store={}},add:function(e,n){e!==t&&(this._store[_(e)]=n)},find:function(e){return this._store[_(e)]},clear:function(){this._store={}},remove:function(e){delete this._store[_(e)]}});yt.create=function(e){var t={inmemory:function(){return new yt}};return i(e)&&p(e.find)?e:e===!0?new yt:t[e]()};var xt=v.extend({init:function(e){var t=this,n,s,o,u;e=e||{};for(n in e)s=e[n],t[n]=typeof s===m?M(s):s;u=e.modelBase||Z,i(t.model)&&(t.model=o=u.define(t.model));if(t.model){var a=r(t.data,t),f=r(t.groups,t),c=r(t.serialize,t),h={},p={},d={},v={},g=!1,y;o=t.model,o.fields&&(l(o.fields,function(e,t){var n;y=e,i(t)&&t.field?y=t.field:typeof t===m&&(y=t),i(t)&&t.from&&(n=t.from),g=g||n&&n!==e||y!==e,p[e]=M(n||y),d[e]=M(e),h[n||y]=e,v[e]=n||y}),!e.serialize&&g&&(t.serialize=St(c,o,bt,d,h,v))),t._dataAccessFunction=a,t.data=St(a,o,wt,p,h,v),t.groups=St(f,o,Et,p,h,v)}},errors:function(e){return e?e.errors:null},parse:O,data:O,total:function(e){return e.length},groups:O,aggregates:function(){return{}},serialize:function(e){return e}}),Bt=d.extend({init:function(e){var i=this,s,o;e&&(o=e.data),e=i.options=n({},i.options,e),i._map={},i._prefetch={},i._data=[],i._pristineData=[],i._ranges=[],i._view=[],i._pristineTotal=0,i._destroyed=[],i._pageSize=e.pageSize,i._page=e.page||(e.pageSize?1:t),i._sort=it(e.sort),i._filter=ut(e.filter),i._group=ft(e.group),i._aggregate=e.aggregate,i._total=e.total,d.fn.init.call(i),i.transport=jt.create(e,o),p(i.transport.push)&&i.transport.push({pushCreate:r(i._pushCreate,i),pushUpdate:r(i._pushUpdate,i),pushDestroy:r(i._pushDestroy,i)}),i.reader=new h.data.readers[e.schema.type||"json"](e.schema),s=i.reader.model||{},i._data=i._observe(i._data),i.bind(["push",N,S,C,x,L,k],e)},options:{data:[],schema:{modelBase:Z},serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1},_isServerGrouped:function(){var e=this.group()||[];return this.options.serverGrouping&&e.length},_pushCreate:function(e){this._push(e,"pushCreate")},_pushUpdate:function(e){this._push(e,"pushUpdate")},_pushDestroy:function(e){this._push(e,"pushDestroy")},_push:function(e,t){var n=this._readData(e);n||(n=e),this[t](n)},_flatData:function(e){return this._isServerGrouped()?Nt(e):e},parent:c,get:function(e){var t,n,r=this._flatData(this._data);for(t=0,n=r.length;t<n;t++)if(r[t].id==e)return r[t]},getByUid:function(e){var t,n,r=this._flatData(this._data);if(!r)return;for(t=0,n=r.length;t<n;t++)if(r[t].uid==e)return r[t]},indexOf:function(e){return Mt(this._data,e)},at:function(e){return this._data[e]},data:function(e){var n=this;if(e===t)return n._data;n._data=this._observe(e),n._pristineData=e.slice(0),n._ranges=[],n._addRange(n._data),n._total=n._data.length,n._pristineTotal=n._total,n._process(n._data)},view:function(){return this._view},add:function(e){return this.insert(this._data.length,e)},_createNewModel:function(e){return this.reader.model?new this.reader.model(e):new J(e)},insert:function(e,t){return t||(t=e,e=0),t instanceof Z||(t=this._createNewModel(t)),this._isServerGrouped()?this._data.splice(e,0,At(this.group(),t)):this._data.splice(e,0,t),t},pushCreate:function(e){o(e)||(e=[e]);var t=[];for(var n=0;n<e.length;n++){var r=e[n],i=this.add(r);t.push(i);var s=i.toJSON();this._isServerGrouped()&&(s=At(this.group(),s)),this._pristineData.push(s)}t.length&&this.trigger("push",{type:"create",items:t})},pushUpdate:function(e){o(e)||(e=[e]);var t=[];for(var n=0;n<e.length;n++){var r=e[n],i=this._createNewModel(r),s=this.get(i.id);s?(t.push(s),s.accept(r),s.trigger("change"),this._updatePristineForModel(s,r)):this.pushCreate(r)}t.length&&this.trigger("push",{type:"update",items:t})},pushDestroy:function(e){o(e)||(e=[e]);var t=[],n=this.options.autoSync;this.options.autoSync=!1;try{for(var r=0;r<e.length;r++){var i=e[r],s=this._createNewModel(i),u=!1;this._eachItem(this._data,function(e){for(var n=0;n<e.length;n++)if(e[n].id===s.id){t.push(e[n]),e.splice(n,1),u=!0;break}}),u&&(this._removePristineForModel(s),this._destroyed.pop())}}finally{this.options.autoSync=n}t.length&&this.trigger("push",{type:"destroy",items:t})},remove:function(e){var t,n=this,r=n._isServerGrouped();return this._eachItem(n._data,function(i){t=Lt(i,e);if(t&&r)return(!t.isNew||!t.isNew())&&n._destroyed.push(t),!0}),this._removeModelFromRanges(e),this._updateRangesLength(),e},sync:function(){var t=this,n,r,i=[],s=[],o=t._destroyed,u=t._flatData(t._data);if(!t.reader.model)return;for(n=0,r=u.length;n<r;n++)u[n].isNew()?i.push(u[n]):u[n].dirty&&s.push(u[n]);var a=t._send("create",i);a.push.apply(a,t._send("update",s)),a.push.apply(a,t._send("destroy",o)),e.when.apply(null,a).then(function(){var e,n;for(e=0,n=arguments.length;e<n;e++)t._accept(arguments[e]);t._change({action:"sync"}),t.trigger(x)})},cancelChanges:function(e){var t=this;e instanceof h.data.Model?t._cancelModel(e):(t._destroyed=[],t._data=t._observe(t._pristineData),t.options.serverPaging&&(t._total=t._pristineTotal),t._change())},hasChanges:function(){var e,t,n=this._data;if(this._destroyed.length)return!0;for(e=0,t=n.length;e<t;e++)if(n[e].isNew()||n[e].dirty)return!0;return!1},_accept:function(t){var n=this,r=t.models,i=t.response,u=0,a=n._isServerGrouped(),f=n._pristineData,l=t.type,c;n.trigger(L,{response:i,type:l});if(i&&!s(i)){i=n.reader.parse(i);if(n._handleCustomErrors(i))return;i=n.reader.data(i),o(i)||(i=[i])}else i=e.map(r,function(e){return e.toJSON()});l==="destroy"&&(n._destroyed=[]);for(u=0,c=r.length;u<c;u++)l!=="destroy"?(r[u].accept(i[u]),l==="create"?f.push(a?At(n.group(),r[u]):i[u]):l==="update"&&n._updatePristineForModel(r[u],i[u])):n._removePristineForModel(r[u])},_updatePristineForModel:function(e,t){this._executeOnPristineForModel(e,function(e,n){h.deepExtend(n[e],t)})},_executeOnPristineForModel:function(e,t){this._eachPristineItem(function(n){var r=Ot(n,e);if(r>-1)return t(r,n),!0})},_removePristineForModel:function(e){this._executeOnPristineForModel(e,function(e,t){t.splice(e,1)})},_readData:function(e){var t=this._isServerGrouped()?this.reader.groups:this.reader.data;return t(e)},_eachPristineItem:function(e){this._eachItem(this._pristineData,e)},_eachItem:function(e,t){e&&e.length&&(this._isServerGrouped()?kt(e,t):t(e))},_pristineForModel:function(e){var t,n,r=function(r){n=Ot(r,e);if(n>-1)return t=r[n],!0};return this._eachPristineItem(r),t},_cancelModel:function(e){var t=this._pristineForModel(e),n;this._eachItem(this._data,function(r){n=Mt(r,e),n!=-1&&(!e.isNew()&&t?r[n].accept(t):r.splice(n,1))})},_promise:function(t,r,i){var s=this,o=s.transport;return e.Deferred(function(e){s.trigger(C,{type:i}),o[i].call(o,n({success:function(t){e.resolve({response:t,models:r,type:i})},error:function(t,n,r){e.reject(t),s.error(t,n,r)}},t))}).promise()},_send:function(e,t){var n=this,r,i,s=[],o=n.reader.serialize(dt(t));if(n.options.batch)t.length&&s.push(n._promise({data:{models:o}},t,e));else for(r=0,i=t.length;r<i;r++)s.push(n._promise({data:o[r]},[t[r]],e));return s},read:function(e){var t=this,n=t._params(e);t._queueRequest(n,function(){t.trigger(C,{type:"read"})?t._dequeueRequest():(t.trigger(k),t._ranges=[],t.transport.read({data:n,success:r(t.success,t),error:r(t.error,t)}))})},success:function(e){var t=this,n=t.options;t.trigger(L,{response:e,type:"read"}),e=t.reader.parse(e);if(t._handleCustomErrors(e)){t._dequeueRequest();return}t._total=t.reader.total(e),t._pristineTotal=t._total,t._aggregate&&n.serverAggregates&&(t._aggregateResult=t.reader.aggregates(e)),e=t._readData(e),t._pristineData=e.slice(0),t._data=t._observe(e),t._addRange(t._data),t._process(t._data),t._dequeueRequest()},_addRange:function(e){var t=this,n=t._skip||0,r=n+t._flatData(e).length;t._ranges.push({start:n,end:r,data:e}),t._ranges.sort(function(e,t){return e.start-t.start})},error:function(e,t,n){this._dequeueRequest(),this.trigger(L,{}),this.trigger(N,{xhr:e,status:t,errorThrown:n})},_params:function(e){var t=this,r=n({take:t.take(),skip:t.skip(),page:t.page(),pageSize:t.pageSize(),sort:t._sort,filter:t._filter,group:t._group,aggregate:t._aggregate},e);return t.options.serverPaging||(delete r.take,delete r.skip,delete r.page,delete r.pageSize),t.options.serverGrouping?t.reader.model&&r.group&&(r.group=Ht(r.group,t.reader.model)):delete r.group,t.options.serverFiltering?t.reader.model&&r.filter&&(r.filter=Pt(r.filter,t.reader.model)):delete r.filter,t.options.serverSorting?t.reader.model&&r.sort&&(r.sort=Ht(r.sort,t.reader.model)):delete r.sort,t.options.serverAggregates?t.reader.model&&r.aggregate&&(r.aggregate=Ht(r.aggregate,t.reader.model)):delete r.aggregate,r},_queueRequest:function(e,n){var i=this;i._requestInProgress?i._pending={callback:r(n,i),options:e}:(i._requestInProgress=!0,i._pending=t,n())},_dequeueRequest:function(){var e=this;e._requestInProgress=!1,e._pending&&e._queueRequest(e._pending.options,e._pending.callback)},_handleCustomErrors:function(e){if(this.reader.errors){var t=this.reader.errors(e);if(t)return this.trigger(N,{xhr:null,status:"customerror",errorThrown:"custom error",errors:t}),!0}return!1},_observe:function(e){var t=this,n=t.reader.model,i=!1;return n&&e.length&&(i=!(e[0]instanceof n)),e instanceof V?i&&(e.type=t.reader.model,e.wrapAll(e,e)):(e=new V(e,t.reader.model),e.parent=function(){return t.parent()}),t._isServerGrouped()&&Ct(e,n),t._changeHandler&&t._data&&t._data instanceof V?t._data.unbind(S,t._changeHandler):t._changeHandler=r(t._change,t),e.bind(S,t._changeHandler)},_change:function(e){var t=this,n,r,i=e?e.action:"";if(i==="remove")for(n=0,r=e.items.length;n<r;n++)(!e.items[n].isNew||!e.items[n].isNew())&&t._destroyed.push(e.items[n]);if(!t.options.autoSync||i!=="add"&&i!=="remove"&&i!=="itemchange"){var s=parseInt(t._total||t._pristineTotal,10);i==="add"?s+=e.items.length:i==="remove"?s-=e.items.length:i!=="itemchange"&&i!=="sync"&&!t.options.serverPaging?s=t._pristineTotal:i==="sync"&&(s=t._pristineTotal=parseInt(t._total,10)),t._total=s,t._process(t._data,e)}else t.sync()},_process:function(e,n){var r=this,i={},s;r.options.serverPaging!==!0&&(i.skip=r._skip,i.take=r._take||r._pageSize,i.skip===t&&r._page!==t&&r._pageSize!==t&&(i.skip=(r._page-1)*r._pageSize)),r.options.serverSorting!==!0&&(i.sort=r._sort),r.options.serverFiltering!==!0&&(i.filter=r._filter),r.options.serverGrouping!==!0&&(i.group=r._group),r.options.serverAggregates!==!0&&(i.aggregate=r._aggregate,r._aggregateResult=vt(e,i)),s=rt.process(e,i),r._view=s.data,s.total!==t&&!r.options.serverFiltering&&(r._total=s.total),n=n||{},n.items=n.items||r._view,r.trigger(S,n)},_mergeState:function(e){var n=this;return e!==t&&(n._pageSize=e.pageSize,n._page=e.page,n._sort=e.sort,n._filter=e.filter,n._group=e.group,n._aggregate=e.aggregate,n._skip=e.skip,n._take=e.take,n._skip===t&&(n._skip=n.skip(),e.skip=n.skip()),n._take===t&&n._pageSize!==t&&(n._take=n._pageSize,e.take=n._take),e.sort&&(n._sort=e.sort=it(e.sort)),e.filter&&(n._filter=e.filter=ut(e.filter)),e.group&&(n._group=e.group=ft(e.group)),e.aggregate&&(n._aggregate=e.aggregate=at(e.aggregate))),e},query:function(e){var n=this,r,i=n.options.serverSorting||n.options.serverPaging||n.options.serverFiltering||n.options.serverGrouping||n.options.serverAggregates;i||(n._data===t||n._data.length===0)&&!n._destroyed.length?n.read(n._mergeState(e)):n.trigger(C,{type:"read"})||(n.trigger(k),r=rt.process(n._data,n._mergeState(e)),n.options.serverFiltering||(r.total!==t?n._total=r.total:n._total=n._data.length),n._view=r.data,n._aggregateResult=vt(n._data,e),n.trigger(L,{}),n.trigger(S,{items:r.data}))},fetch:function(t){var n=this;return e.Deferred(function(e){var r=function(r){n.unbind(N,i),e.resolve(),t&&t.call(n,r)},i=function(t){e.reject(t)};n.one(S,r),n.one(N,i),n._query()}).promise()},_query:function(e){var t=this;t.query(n({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate()},e))},next:function(e){var t=this,n=t.page(),r=t.total();e=e||{};if(!n||r&&n+1>t.totalPages())return;return t._skip=n*t.take(),n+=1,e.page=n,t._query(e),n},prev:function(e){var t=this,n=t.page();e=e||{};if(!n||n===1)return;return t._skip=t._skip-t.take(),n-=1,e.page=n,t._query(e),n},page:function(e){var n=this,r;if(e!==t){e=D.max(D.min(D.max(e,1),n.totalPages()),1),n._query({page:e});return}return r=n.skip(),r!==t?D.round((r||0)/(n.take()||1))+1:t},pageSize:function(e){var n=this;if(e!==t){n._query({pageSize:e,page:1});return}return n.take()},sort:function(e){var n=this;if(e!==t){n._query({sort:e});return}return n._sort},filter:function(e){var n=this;if(e===t)return n._filter;n._query({filter:e,page:1})},group:function(e){var n=this;if(e!==t){n._query({group:e});return}return n._group},total:function(){return parseInt(this._total||0,10)},aggregate:function(e){var n=this;if(e!==t){n._query({aggregate:e});return}return n._aggregate},aggregates:function(){return this._aggregateResult},totalPages:function(){var e=this,t=e.pageSize()||e.total();return D.ceil((e.total()||0)/t)},inRange:function(e,t){var n=this,r=D.min(e+t,n.total());return!n.options.serverPaging&&n._data.length>0?!0:n._findRange(e,r).length>0},lastRange:function(){var e=this._ranges;return e[e.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var e=this._ranges;return e.length&&e[0].data.length&&e[0].data[0].uid},range:function(e,n){e=D.min(e||0,this.total());var r=this,i=D.max(D.floor(e/n),0)*n,s=D.min(i+n,r.total()),o;o=r._findRange(e,D.min(e+n,r.total()));if(o.length){r._skip=e>r.skip()?D.min(s,(r.totalPages()-1)*r.take()):i,r._take=n;var u=r.options.serverPaging,a=r.options.serverSorting,f=r.options.serverFiltering,l=r.options.serverAggregates;try{r.options.serverPaging=!0,!r._isServerGrouped()&&(!r.group()||!r.group().length)&&(r.options.serverSorting=!0),r.options.serverFiltering=!0,r.options.serverPaging=!0,r.options.serverAggregates=!0,u&&(r._data=o=r._observe(o)),r._process(o)}finally{r.options.serverPaging=u,r.options.serverSorting=a,r.options.serverFiltering=f,r.options.serverAggregates=l}return}n!==t&&(r._rangeExists(i,s)?i<e&&r.prefetch(s,n,function(){r.range(e,n)}):r.prefetch(i,n,function(){e>i&&s<r.total()&&!r._rangeExists(s,D.min(s+n,r.total()))?r.prefetch(s,n,function(){r.range(e,n)}):r.range(e,n)}))},_findRange:function(e,n){var r=this,i=r._ranges,s,o=[],u,a,f,l,c,h,p,d=r.options,v=d.serverSorting||d.serverPaging||d.serverFiltering||d.serverGrouping||d.serverAggregates,m,g,y;for(u=0,y=i.length;u<y;u++){s=i[u];if(e>=s.start&&e<=s.end){g=0;for(a=u;a<y;a++){s=i[a],m=r._flatData(s.data);if(m.length&&e+g>=s.start){c=s.data,h=s.end;if(!v){var b=ft(r.group()||[]).concat(it(r.sort()||[]));p=rt.process(s.data,{sort:b,filter:r.filter()}),m=c=p.data,p.total!==t&&(h=p.total)}f=0,e+g>s.start&&(f=e+g-s.start),l=m.length,h>n&&(l-=h-n),g+=l-f,o=r._mergeGroups(o,c,f,l);if(n<=s.end&&g==n-e)return o}}break}}return[]},_mergeGroups:function(e,t,n,r){if(this._isServerGrouped()){var i=t.toJSON(),s;return e.length&&(s=e[e.length-1]),Tt(s,i,n,r),e.concat(i)}return e.concat(t.slice(n,r))},skip:function(){var e=this;return e._skip===t?e._page!==t?(e._page-1)*(e.take()||1):t:e._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(e,t,n){var r=this;return function(i){var s=!1,o={start:e,end:t,data:[]},u,a,f;r._dequeueRequest(),r.trigger(L,{response:i,type:"read"}),i=r.reader.parse(i),f=r._readData(i);if(f.length){for(u=0,a=r._ranges.length;u<a;u++)if(r._ranges[u].start===e){s=!0,o=r._ranges[u];break}s||r._ranges.push(o)}o.data=r._observe(f),o.end=o.start+r._flatData(o.data).length,r._ranges.sort(function(e,t){return e.start-t.start}),r._total=r.reader.total(i),n&&f.length?n():r.trigger(S,{})}},prefetch:function(e,t,n){var r=this,i=D.min(e+t,r.total()),s={take:t,skip:e,page:e/t+1,pageSize:t,sort:r._sort,filter:r._filter,group:r._group,aggregate:r._aggregate};r._rangeExists(e,i)?n&&n():(clearTimeout(r._timeout),r._timeout=setTimeout(function(){r._queueRequest(s,function(){r.trigger(C,{type:"read"})?r._dequeueRequest():r.transport.read({data:r._params(s),success:r._prefetchSuccessHandler(e,i,n)})})},100))},_rangeExists:function(e,t){var n=this,r=n._ranges,i,s;for(i=0,s=r.length;i<s;i++)if(r[i].start<=e&&r[i].end>=t)return!0;return!1},_removeModelFromRanges:function(e){var t,n,r;for(var i=0,s=this._ranges.length;i<s;i++){r=this._ranges[i],this._eachItem(r.data,function(r){t=Lt(r,e),t&&(n=!0)});if(n)break}},_updateRangesLength:function(){var e=0,t,n;for(var r=0,i=this._ranges.length;r<i;r++)t=this._ranges[r],t.start=t.start-e,n=this._flatData(t.data).length,e=t.end-n,t.end=t.start+n}}),jt={};jt.create=function(e,t){var r,s=e.transport;return s?(s.read=typeof s.read===m?{url:s.read}:s.read,e.type&&(h.data.transports[e.type]&&!i(h.data.transports[e.type])?r=new h.data.transports[e.type](n(s,{data:t})):s=n(!0,{},h.data.transports[e.type],s),e.schema=n(!0,{},h.data.schemas[e.type],e.schema)),r||(r=p(s.read)?s:new gt(s))):r=new mt({data:e.data}),r},Bt.create=function(e){if(o(e)||e instanceof V)e={data:e};var t=e||{},r=t.data,i=t.fields,u=t.table,a=t.select,f,l,c={},p;!r&&i&&!t.transport&&(u?r=It(u,i):a&&(r=Ft(a,i)));if(h.data.Model&&i&&(!t.schema||!t.schema.model)){for(f=0,l=i.length;f<l;f++)p=i[f],p.type&&(c[p.field]=p);s(c)||(t.schema=n(!0,t.schema,{model:{fields:c}}))}return t.data=r,u=null,t.table=null,t instanceof Bt?t:new Bt(t)};var qt=Z.define({init:function(e){var t=this,r=t.hasChildren||e&&e.hasChildren,i="items",s={};h.data.Model.fn.init.call(t,e),typeof t.children===m&&(i=t.children),s={schema:{data:i,model:{hasChildren:r,id:t.idField}}},typeof t.children!==m&&n(s,t.children),s.data=e,r||(r=s.schema.data),typeof r===m&&(r=h.getter(r)),p(r)&&(t.hasChildren=!!r.call(t,t)),t._childrenOptions=s,t.hasChildren&&t._initChildren(),t._loaded=!(!e||!e[i]&&!e._loaded)},_initChildren:function(){var e=this,t,n,r;e.children instanceof Ut||(t=e.children=new Ut(e._childrenOptions),n=t.transport,r=n.parameterMap,n.parameterMap=function(t,n){return t[e.idField||"id"]=e.id,r&&(t=r(t,n)),t},t.parent=function(){return e},t.bind(S,function(t){t.node=t.node||e,e.trigger(S,t)}),t.bind(N,function(t){var n=e.parent();n&&(t.node=t.node||e,n.trigger(N,t))}),e._updateChildrenField())},append:function(e){this._initChildren(),this.loaded(!0),this.children.add(e)},hasChildren:!1,level:function(){var e=this.parentNode(),t=0;while(e&&e.parentNode)t++,e=e.parentNode?e.parentNode():null;return t},_updateChildrenField:function(){var e=this._childrenOptions.schema.data;this[e||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=!0,this._updateChildrenField()},load:function(){var e={},n="_query",i;this.hasChildren?(this._initChildren(),i=this.children,e[this.idField||"id"]=this.id,this._loaded||(i._data=t,n="read"),i.one(S,r(this._childrenLoaded,this)),i[n](e)):this.loaded(!0)},parentNode:function(){var e=this.parent();return e.parent()},loaded:function(e){if(e===t)return this._loaded;this._loaded=e},shouldSerialize:function(e){return Z.fn.shouldSerialize.call(this,e)&&e!=="children"&&e!=="_loaded"&&e!=="hasChildren"&&e!=="_childrenOptions"}}),Ut=Bt.extend({init:function(e){var t=qt.define({children:e});Bt.fn.init.call(this,n(!0,{},{schema:{modelBase:t,model:t}},e)),this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var e=this;e._data.bind(N,function(t){e.trigger(N,t)})},remove:function(e){var t=e.parentNode(),n=this,r;return t&&t._initChildren&&(n=t.children),r=Bt.fn.remove.call(n,e),t&&!n.data().length&&(t.hasChildren=!1),r},success:Rt("success"),data:Rt("data"),insert:function(e,t){var n=this.parent();return n&&n._initChildren&&(n.hasChildren=!0,n._initChildren()),Bt.fn.insert.call(this,e,t)},_find:function(e,t){var n,r,i,s,o;i=Bt.fn[e].call(this,t);if(i)return i;s=this._flatData(this.data());if(!s)return;for(n=0,r=s.length;n<r;n++){o=s[n].children;if(!(o instanceof Ut))continue;i=o[e](t);if(i)return i}},get:function(e){return this._find("get",e)},getByUid:function(e){return this._find("getByUid",e)}});Ut.create=function(e){e=e&&e.push?{data:e}:e;var t=e||{},n=t.data,r=t.fields,i=t.list;return n&&n._dataSource?n._dataSource:(!n&&r&&!t.transport&&i&&(n=zt(i,r)),t.data=n,t instanceof Ut?t:new Ut(t))};var Wt=h.Observable.extend({init:function(e,t,n){h.Observable.fn.init.call(this),this._prefetching=!1,this.dataSource=e,this.prefetch=!n;var r=this;e.bind("change",function(){r._change()}),this._syncWithDataSource(),this.setViewSize(t)},setViewSize:function(e){this.viewSize=e,this._recalculate()},at:function(e){var n=this.pageSize,r;if(e>=this.total()){this.trigger("endreached",{index:e});return}if(!this.useRanges)return this.dataSource.view()[e];if(this.useRanges){if(e<this.dataOffset||e>this.skip+n){var i=Math.floor(e/n)*n;this.range(i)}e===this.prefetchThreshold&&this._prefetch(),e===this.midPageThreshold?this.range(this.nextMidRange):e===this.nextPageThreshold?this.range(this.nextFullRange):e===this.pullBackThreshold&&(this.offset===this.skip?this.range(this.previousMidRange):this.range(this.previousFullRange)),r=this.dataSource.at(e-this.dataOffset)}return r===t&&this.trigger("endreached",{index:e}),r},indexOf:function(e){return this.dataSource.data().indexOf(e)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var e=this,t=e.pageSize,n=e.skip-e.viewSize,r=D.max(D.floor(n/t),0)*t+t;this.offset=n,this.dataSource.prefetch(r,t,function(){e._goToRange(n,!0)})},range:function(e){if(this.offset===e)return;var t=this,n=this.pageSize,r=D.max(D.floor(e/n),0)*n+n,i=this.dataSource;this.offset=e,this._recalculate(),i.inRange(e,n)?this._goToRange(e):this.prefetch&&i.prefetch(r,n,function(){t._goToRange(e,!0)})},syncDataSource:function(){var e=this.offset;this.offset=null,this.range(e)},destroy:function(){this.unbind()},_prefetch:function(){var e=this,t=this.pageSize,n=this.skip+t,r=this.dataSource;!r.inRange(n,t)&&!this._prefetching&&this.prefetch&&(this._prefetching=!0,this.trigger("prefetching",{skip:n,take:t}),r.prefetch(n,t,function(){e._prefetching=!1,e.trigger("prefetched",{skip:n,take:t})}))},_goToRange:function(e,t){if(this.offset!==e)return;this.dataOffset=e,this._expanding=t,this.dataSource.range(e,this.pageSize)},_change:function(){var e=this.dataSource,t=e.firstItemUid();this.length=this.useRanges?e.lastRange().end:e.view().length;if(this._firstItemUid!==t||!this.useRanges)this._syncWithDataSource(),this._recalculate(),this.trigger("reset",{offset:this.offset});this.trigger("resize"),this._expanding&&this.trigger("expand"),delete this._expanding},_syncWithDataSource:function(){var e=this.dataSource;this._firstItemUid=e.firstItemUid(),this.dataOffset=this.offset=e.skip()||0,this.pageSize=e.pageSize(),this.useRanges=e.options.serverPaging},_recalculate:function(){var e=this.pageSize,t=this.offset,n=this.viewSize,r=Math.ceil(t/e)*e;this.skip=r,this.midPageThreshold=r+e-1,this.nextPageThreshold=r+n-1,this.prefetchThreshold=r+Math.floor(e/3*2),this.pullBackThreshold=this.offset-1,this.nextMidRange=r+e-n,this.nextFullRange=r,this.previousMidRange=t-n,this.previousFullRange=r-e}}),Xt=h.Observable.extend({init:function(e,t){var n=this;h.Observable.fn.init.call(n),this.dataSource=e,this.batchSize=t,this._total=0,this.buffer=new Wt(e,t*3),this.buffer.bind({endreached:function(e){n.trigger("endreached",{index:e.index})},prefetching:function(e){n.trigger("prefetching",{skip:e.skip,take:e.take})},prefetched:function(e){n.trigger("prefetched",{skip:e.skip,take:e.take})},reset:function(){n._total=0,n.trigger("reset")},resize:function(){n._total=Math.ceil(this.length/n.batchSize),n.trigger("resize",{total:n.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(e){var n=this.buffer,r=e*this.batchSize,i=this.batchSize,s=[],o;n.offset>r&&n.at(n.offset-1);for(var u=0;u<i;u++){o=n.at(r+u);if(o===t)break;s.push(o)}return s},total:function(){return this._total},destroy:function(){this.buffer.destroy(),this.unbind()}});n(!0,h.data,{readers:{json:xt},Query:rt,DataSource:Bt,HierarchicalDataSource:Ut,Node:qt,ObservableObject:J,ObservableArray:V,LocalTransport:mt,RemoteTransport:gt,Cache:yt,DataReader:xt,Model:Z,Buffer:Wt,BatchBuffer:Xt})}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()}),function(e,t){t("kendo.popup",["./kendo.core"],e)}(function(){return function(e,t){function j(t,n){return t===n||e.contains(t,n)}var n=window.kendo,r=n.ui,i=r.Widget,s=n.support,o=n.getOffset,u=n._activeElement,a="open",f="close",l="deactivate",c="activate",h="center",p="left",d="right",v="top",m="bottom",g="absolute",y="hidden",b="body",w="location",E="position",S="visible",x="effects",T="k-state-active",N="k-state-border",C=/k-state-border-(\w+)/,k=".k-picker-wrap, .k-dropdown-wrap, .k-link",L="down",A=e(window),O=e(document.documentElement),M="resize scroll",_=s.transitions.css,D=_+"transform",P=e.extend,H=".kendoPopup",B=["font-size","font-family","font-stretch","font-style","font-weight","line-height"],F=i.extend({init:function(t,r){var s=this,o;r=r||{},r.isRtl&&(r.origin=r.origin||m+" "+d,r.position=r.position||v+" "+d),i.fn.init.call(s,t,r),t=s.element,r=s.options,s.collisions=r.collision?r.collision.split(" "):[],s.collisions.length===1&&s.collisions.push(s.collisions[0]),o=e(s.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"),r.appendTo=e(e(r.appendTo)[0]||o[0]||b),s.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!r.isRtl).css({position:g}).appendTo(r.appendTo).on("mouseenter"+H,function(){s._hovered=!0}).on("mouseleave"+H,function(){s._hovered=!1}),s.wrapper=e(),r.animation===!1&&(r.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),P(r.animation.open,{complete:function(){s.wrapper.css({overflow:S}),s.trigger(c)}}),P(r.animation.close,{complete:function(){s.wrapper.hide();var i=s.wrapper.data(w),o=e(r.anchor),u,a;i&&s.wrapper.css(i),r.anchor!=b&&(u=(o[0].className.match(C)||["","down"])[1],a=N+"-"+u,o.removeClass(a).children(k).removeClass(T).removeClass(a),t.removeClass(N+"-"+n.directions[u].reverse)),s._closing=!1,s.trigger(l)}}),s._mousedownProxy=function(e){s._mousedown(e)},s._resizeProxy=function(e){s._resize(e)},r.toggleTarget&&e(r.toggleTarget).on(r.toggleEvent+H,e.proxy(s.toggle,s))},events:[a,c,f,l],options:{name:"Popup",toggleEvent:"click",origin:m+" "+p,position:v+" "+p,anchor:b,collision:"flip fit",viewport:window,copyAnchorStyles:!0,autosize:!1,modal:!1,animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},destroy:function(){var t=this,r=t.options,s=t.element.off(H),o;i.fn.destroy.call(t),r.toggleTarget&&e(r.toggleTarget).off(H),r.modal||(O.unbind(L,t._mousedownProxy),A.unbind(M,t._resizeProxy)),n.destroy(t.element.children()),s.removeData(),r.appendTo[0]===document.body&&(o=s.parent(".k-animation-container"),o[0]?o.remove():s.remove())},open:function(t,r){var i=this,o={isFixed:!isNaN(parseInt(r,10)),x:t,y:r},u=i.element,f=i.options,l="down",c,h,p=e(f.anchor),d=u[0]&&u.hasClass("km-widget");if(!i.visible()){f.copyAnchorStyles&&(d&&B[0]=="font-size"&&B.shift(),u.css(n.getComputedStyles(p[0],B)));if(u.data("animating")||i.trigger(a))return;f.modal||(O.unbind(L,i._mousedownProxy).bind(L,i._mousedownProxy),!s.mobileOS.ios&&!s.mobileOS.android&&A.unbind(M,i._resizeProxy).bind(M,i._resizeProxy)),i.wrapper=h=n.wrap(u,f.autosize).css({overflow:y,display:"block",position:g}),s.mobileOS.android&&h.add(p).css(D,"translatez(0)"),h.css(E),e(f.appendTo)[0]==document.body&&h.css(v,"-10000px"),c=P(!0,{},f.animation.open),i.flipped=i._position(o),c.effects=n.parseEffects(c.effects,i.flipped),l=c.effects.slideIn?c.effects.slideIn.direction:l;if(f.anchor!=b){var m=N+"-"+l;u.addClass(N+"-"+n.directions[l].reverse),p.addClass(m).children(k).addClass(T).addClass(m)}u.data(x,c.effects).kendoStop(!0).kendoAnimate(c)}},toggle:function(){var e=this;e[e.visible()?f:a]()},visible:function(){return this.element.is(":"+S)},close:function(){var t=this,r=t.options,i,s,o,u;if(t.visible()){i=t.wrapper[0]?t.wrapper:n.wrap(t.element).hide();if(t._closing||t.trigger(f))return;t.element.find(".k-popup").each(function(){var t=e(this),n=t.data("kendoPopup");n&&n.close()}),O.unbind(L,t._mousedownProxy),A.unbind(M,t._resizeProxy),s=P(!0,{},r.animation.close),o=t.element.data(x),u=s.effects,!u&&!n.size(u)&&o&&n.size(o)&&(s.effects=o,s.reverse=!0),t._closing=!0,t.element.kendoStop(!0),i.css({overflow:y}),t.element.kendoAnimate(s)}},_resize:function(e){var t=this;e.type==="resize"?(clearTimeout(t._resizeTimeout),t._resizeTimeout=setTimeout(function(){t._position(),t._resizeTimeout=null},50)):!t._hovered&&!j(t.element[0],u())&&t.close()},_mousedown:function(t){var r=this,i=r.element[0],s=r.options,o=e(s.anchor)[0],u=s.toggleTarget,a=n.eventTarget(t),f=e(a).closest(".k-popup"),l=f.parent().parent(".km-shim").length;f=f[0];if(!l&&f&&f!==r.element[0])return;if(e(t.target).closest("a").data("rel")==="popover")return;!j(i,a)&&!j(o,a)&&(!u||!j(e(u)[0],a))&&r.close()},_fit:function(e,t,n){var r=0;return e+t>n&&(r=n-(e+t)),e<0&&(r=-e),r},_flip:function(e,t,n,r,i,s,o){var u=0;return o=o||t,s!==i&&s!==h&&i!==h&&(e+o>r&&(u+=-(n+t)),e+u<0&&(u+=n+t)),u},_position:function(t){var n=this,r=n.element.css(E,""),i=n.wrapper,u=n.options,a=e(u.viewport),f=a.offset(),l=e(u.anchor),c=u.origin.toLowerCase().split(" "),h=u.position.toLowerCase().split(" "),p=n.collisions,d=s.zoomLevel(),v,m,y,b=10002,S=!!(a[0]==window&&window.innerWidth&&d<=1.02),x=0,T,N,C;N=S?window.innerWidth:a.width(),C=S?window.innerHeight:a.height(),v=l.parents().filter(i.siblings());if(v[0]){y=Number(e(v).css("zIndex"));if(y)b=y+1;else{m=l.parentsUntil(v);for(T=m.length;x<T;x++)y=Number(e(m[x]).css("zIndex")),y&&b<y&&(b=y+1)}}i.css("zIndex",b),t&&t.isFixed?i.css({left:t.x,top:t.y}):i.css(n._align(c,h));var k=o(i,E,l[0]===i.offsetParent()[0]),L=o(i),A=l.offsetParent().parent(".k-animation-container,.k-popup,.k-group");A.length&&(k=o(i,E,!0),L=o(i)),a[0]===window?(L.top-=window.pageYOffset||document.documentElement.scrollTop||0,L.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(L.top-=f.top,L.left-=f.left),n.wrapper.data(w)||i.data(w,P({},k));var O=P({},L),M=P({},k);p[0]==="fit"&&(M.top+=n._fit(O.top,i.outerHeight(),C/d)),p[1]==="fit"&&(M.left+=n._fit(O.left,i.outerWidth(),N/d));var _=P({},M);return p[0]==="flip"&&(M.top+=n._flip(O.top,r.outerHeight(),l.outerHeight(),C/d,c[0],h[0],i.outerHeight())),p[1]==="flip"&&(M.left+=n._flip(O.left,r.outerWidth(),l.outerWidth(),N/d,c[1],h[1],i.outerWidth())),r.css(E,g),i.css(M),M.left!=_.left||M.top!=_.top},_align:function(t,n){var r=this,i=r.wrapper,s=e(r.options.anchor),u=t[0],a=t[1],f=n[0],l=n[1],c=o(s),p=e(r.options.appendTo),v,g=i.outerWidth(),y=i.outerHeight(),b=s.outerWidth(),w=s.outerHeight(),E=c.top,S=c.left,x=Math.round;return p[0]!=document.body&&(v=o(p),E-=v.top,S-=v.left),u===m&&(E+=w),u===h&&(E+=x(w/2)),f===m&&(E-=y),f===h&&(E-=x(y/2)),a===d&&(S+=b),a===h&&(S+=x(b/2)),l===d&&(S-=g),l===h&&(S-=x(g/2)),{top:E,left:S}}});r.plugin(F)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()}),function(e,t){t("kendo.list",["./kendo.data","./kendo.popup"],e)}(function(){return function(e,t){function O(t,n){t.filters&&(t.filters=e.grep(t.filters,function(e){return O(e,n),e.filters?e.filters.length:e.field!=n}))}var n=window.kendo,r=n.ui,i=r.Widget,s=n.keys,o=n.support,u=n.htmlEncode,a=n._activeElement,f="id",l="li",c="change",h="character",p="k-state-focused",d="k-state-hover",v="k-loading",m="open",g="close",y="select",b="selected",w="progress",E="requestEnd",S="width",x=e.extend,T=e.proxy,N=o.browser,C=N.msie&&N.version<9,k=/"/g,L={ComboBox:"DropDownList",DropDownList:"ComboBox"},A=i.extend({init:function(t,n){var r=this,s=r.ns,u;i.fn.init.call(r,t,n),t=r.element,r._isSelect=t.is(y),r._template(),r.ul=e('<ul unselectable="on" class="k-list k-reset"/>').css({overflow:o.kineticScrollNeeded?"":"auto"}).on("mouseenter"+s,l,function(){e(this).addClass(d)}).on("mouseleave"+s,l,function(){e(this).removeClass(d)}).on("click"+s,l,T(r._click,r)).attr({tabIndex:-1,role:"listbox","aria-hidden":!0}),r.list=e("<div class='k-list-container'/>").append(r.ul).on("mousedown"+s,function(e){e.preventDefault()}),u=t.attr(f),u&&(r.list.attr(f,u+"-list"),r.ul.attr(f,u+"_listbox"),r._optionID=u+"_option_selected"),r._header(),r._accessors(),r._initValue()},options:{valuePrimitive:!1,headerTemplate:""},setOptions:function(e){i.fn.setOptions.call(this,e),e&&e.enable!==t&&(e.enabled=e.enable)},focus:function(){this._focused.focus()},readonly:function(e){this._editable({readonly:e===t?!0:e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)})},_filterSource:function(e){var t=this,n=t.options,r=t.dataSource,i=r.filter()||{};O(i,n.dataTextField),e&&(i=i.filters||[],i.push(e)),r.filter(i)},_header:function(){var t=this.options.headerTemplate,n;e.isFunction(t)&&(t=t({})),t&&(this.list.prepend(t),n=this.ul.prev(),this.header=n[0]?n:null)},_initValue:function(){var e=this,t=e.options.value;t!==null?e.element.val(t):(t=e._accessor(),e.options.value=t),e._old=t},_ignoreCase:function(){var e=this,t=e.dataSource.reader.model,n;t&&t.fields&&(n=t.fields[e.options.dataTextField],n&&n.type&&n.type!=="string"&&(e.options.ignoreCase=!1))},items:function(){return this.ul[0].children},current:function(e){var n=this,r=n._optionID;if(e===t)return n._current;n._current&&(n._current.removeClass(p).removeAttr("aria-selected").removeAttr(f),n._focused.removeAttr("aria-activedescendant")),e&&(e.addClass(p),n._scroll(e),r&&(e.attr("id",r),n._focused.attr("aria-activedescendant",r))),n._current=e},destroy:function(){var e=this,t=e.ns;i.fn.destroy.call(e),e._unbindDataSource(),e.ul.off(t),e.list.off(t),e._touchScroller&&e._touchScroller.destroy(),e.popup.destroy(),e._form&&e._form.off("reset",e._resetHandler)},dataItem:function(e){var n=this;return e===t&&(e=n.selectedIndex),n._data()[e]},_accessors:function(){var e=this,t=e.element,r=e.options,i=n.getter,s=t.attr(n.attr("text-field")),o=t.attr(n.attr("value-field"));s&&(r.dataTextField=s),o&&(r.dataValueField=o),e._text=i(r.dataTextField),e._value=i(r.dataValueField)},_aria:function(e){var n=this,r=n.options,i=n._focused;r.suggest!==t&&i.attr("aria-autocomplete",r.suggest?"both":"list"),e=e?e+" "+n.ul[0].id:n.ul[0].id,i.attr("aria-owns",e),n.ul.attr("aria-live",!r.filter||r.filter==="none"?"off":"polite")},_blur:function(){var e=this;e._change(),e.close()},_change:function(){var e=this,n=e.selectedIndex,r=e.options.value,i=e.value(),s;e._isSelect&&!e._bound&&r&&(i=r),i!==e._old?s=!0:n!==t&&n!==e._oldIndex&&(s=!0),s&&(e._old=i,e._oldIndex=n,e.trigger(c),e.element.trigger(c))},_click:function(t){t.isDefaultPrevented()||this._accept(e(t.currentTarget))},_data:function(){return this.dataSource.view()},_enable:function(){var e=this,n=e.options,r=e.element.is("[disabled]");n.enable!==t&&(n.enabled=n.enable),!n.enabled||r?e.enable(!1):e.readonly(e.element.is("[readonly]"))},_focus:function(e){var t=this,n=!0;if(t.popup.visible()&&e&&t.trigger(y,{item:e})){t.close();return}t._select(e),t._triggerCascade(n),t._blur()},_index:function(e){var t=this,n,r,i=t._data();for(n=0,r=i.length;n<r;n++)if(t._dataValue(i[n])==e)return n;return-1},_dataValue:function(e){var n=this._value(e);return n===t&&(n=this._text(e)),n},_height:function(e){if(e){var t=this,n=t.list,r=t.popup.visible(),i=t.options.height,s=t.header,o;o=n.add(n.parent(".k-animation-container")).show(),i=t.ul[0].scrollHeight>i?i:"auto",o.height(i),s&&t.ul.height(i=="auto"?i:n.height()-s.height()),r||o.hide()}},_adjustListWidth:function(){var e=this.list,t=e[0].style.width,n=this.wrapper,r,i;if(!e.data(S)&&t)return;return r=window.getComputedStyle?window.getComputedStyle(n[0],null):0,i=r?parseFloat(r.width):n.outerWidth(),r&&(N.mozilla||N.msie)&&(i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth)),e.css("box-sizing")!=="border-box"?t=i-(e.outerWidth()-e.width()):t=i,e.css({fontFamily:n.css("font-family"),width:t}).data(S,t),!0},_popup:function(){var e=this,t=e.list,i=e._focused,s=e.options,u=e.wrapper;e.popup=new r.Popup(t,x({},s.popup,{anchor:u,open:function(t){e._adjustListWidth(),e.trigger(m)?t.preventDefault():(i.attr("aria-expanded",!0),e.ul.attr("aria-hidden",!1))},close:function(t){e.trigger(g)?t.preventDefault():(i.attr("aria-expanded",!1),e.ul.attr("aria-hidden",!0))},animation:s.animation,isRtl:o.isRtl(u)})),e.popup.one(m,function(){e._height(e._data().length)}),e._touchScroller=n.touchScroller(e.popup.element)},_makeUnselectable:function(){C&&this.list.find("*").attr("unselectable","on")},_toggleHover:function(t){e(t.currentTarget).toggleClass(d,t.type==="mouseenter")},_toggle:function(e){var n=this,r=o.touch&&o.MSPointers&&o.pointers;e=e!==t?e:!n.popup.visible(),!r&&n._focused[0]!==a()&&n._focused.focus(),n[e?m:g]()},_scroll:function(e){if(!e)return;e[0]&&(e=e[0]);var t=this.ul[0],n=e.offsetTop,r=e.offsetHeight,i=t.scrollTop,s=t.clientHeight,o=n+r,u=this._touchScroller,a,f;u?(a=u.dimensions.y,a.enabled&&n>a.size&&(n=n-a.size+r+4,u.scrollTo(0,-n))):(f=this.header?this.header.outerHeight():0,t.scrollTop=i>n?n-f:o>i+s?o-s-f:i)},_template:function(){var e=this,t=e.options,r=t.template,i=t.dataSource;e._isSelect&&e.element[0].length&&(i||(t.dataTextField=t.dataTextField||"text",t.dataValueField=t.dataValueField||"value")),r?(r=n.template(r),e.template=function(e){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+r(e)+"</li>"}):e.template=n.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+n.expr(t.dataTextField,"data")+"}</li>",{useWithBlock:!1})},_triggerCascade:function(e){var t=this,n=t.value();(!t._bound&&n||t._old!==n)&&t.trigger("cascade",{userTriggered:e})},_unbindDataSource:function(){var e=this;e.dataSource.unbind(c,e._refreshHandler).unbind(w,e._progressHandler).unbind(E,e._requestEndHandler).unbind("error",e._errorHandler)}});x(A,{inArray:function(e,t){var n,r,i=t.children;if(!e||e.parentNode!==t)return-1;for(n=0,r=i.length;n<r;n++)if(e===i[n])return n;return-1}}),n.ui.List=A,r.Select=A.extend({init:function(e,t){A.fn.init.call(this,e,t),this._initial=this.element.val()},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this._bound=!1,this.options.autoBind&&this.dataSource.fetch()},close:function(){this.popup.close()},select:function(e){var n=this;if(e===t)return n.selectedIndex;n._select(e),n._triggerCascade(),n._old=n._accessor(),n._oldIndex=n.selectedIndex},_accessor:function(e,n){var r=this.element[0],i=this._isSelect,s=r.selectedIndex,o;if(e===t)return i?s>-1&&(o=r.options[s],o&&(e=o.value)):e=r.value,e;i?(s>-1&&r.options[s].removeAttribute(b),r.selectedIndex=n,o=r.options[n],o&&o.setAttribute(b,b)):r.value=e},_hideBusy:function(){var e=this;clearTimeout(e._busy),e._arrow.removeClass(v),e._focused.attr("aria-busy",!1),e._busy=null},_showBusy:function(){var e=this;e._request=!0;if(e._busy)return;e._busy=setTimeout(function(){e._focused.attr("aria-busy",!0),e._arrow.addClass(v)},100)},_requestEnd:function(){this._request=!1},_dataSource:function(){var t=this,r=t.element,i=t.options,s=i.dataSource||{},o;s=e.isArray(s)?{data:s}:s,t._isSelect&&(o=r[0].selectedIndex,o>-1&&(i.index=o),s.select=r,s.fields=[{field:i.dataTextField},{field:i.dataValueField}]),t.dataSource&&t._refreshHandler?t._unbindDataSource():(t._refreshHandler=T(t.refresh,t),t._progressHandler=T(t._showBusy,t),t._requestEndHandler=T(t._requestEnd,t),t._errorHandler=T(t._hideBusy,t)),t.dataSource=n.data.DataSource.create(s).bind(c,t._refreshHandler).bind(w,t._progressHandler).bind(E,t._requestEndHandler).bind("error",t._errorHandler)},_get:function(t){var n=this,r=n._data(),i,s;if(typeof t=="function")for(i=0,s=r.length;i<s;i++)if(t(r[i])){t=i;break}if(typeof t=="number"){if(t<0)return e();t=e(n.ul[0].children[t])}return t&&t.nodeType&&(t=e(t)),t},_move:function(e){var t=this,n=e.keyCode,r=t.ul[0],i=t.popup.visible()?"_select":"_accept",o=t._current,u=n===s.DOWN,a,f;if(n===s.UP||u){if(e.altKey)t.toggle(u);else{a=r.firstChild;if(!a&&!t._accessor()&&t._state!=="filter")return t._fetch||(t.dataSource.one(c,function(){t._move(e),t._fetch=!1}),t._fetch=!0,t._filterSource()),e.preventDefault(),!0;u?(!o||t.selectedIndex===-1&&!t.value()&&o[0]===a?o=a:(o=o[0].nextSibling,!o&&a===r.lastChild&&(o=a)),t[i](o)):(o=o?o[0].previousSibling:r.lastChild,!o&&a===r.lastChild&&(o=a),t[i](o))}e.preventDefault(),f=!0}else if(n===s.ENTER||n===s.TAB){t.popup.visible()&&e.preventDefault();if(t._typing||!t.popup.visible()&&(!o||!o.hasClass("k-state-selected")))o=null;t._accept(o),f=!0}else n===s.ESC&&(t.popup.visible()&&e.preventDefault(),t.close(),f=!0);return f},_selectItem:function(){var e=this,n=e._bound===t,r=e.options,i,s;i=e._isSelect&&!e._initial&&!r.value&&r.index&&!e._bound,i||(s=e._selectedValue||n&&r.value||e._accessor()),s?e.value(s):n&&e.select(r.index)},_fetchItems:function(e){var n=this,r=n.ul[0].firstChild;if(n._request)return!0;if(!n._fetch&&!r)return n.options.cascadeFrom?!r:(n.dataSource.one(c,function(){n._old=t,n.value(e),n._fetch=!1}),n._fetch=!0,n.dataSource.fetch(),!0)},_options:function(e,n){var r=this,i=r.element,s=e.length,o="",a,f,l,c,h=0;n&&(h=1,o=n);for(;h<s;h++)a="<option",f=e[h],l=r._text(f),c=r._value(f),c!==t&&(c+="",c.indexOf('"')!==-1&&(c=c.replace(k,"&quot;")),a+=' value="'+c+'"'),a+=">",l!==t&&(a+=u(l)),a+="</option>",o+=a;i.html(o)},_reset:function(){var t=this,n=t.element,r=n.attr("form"),i=r?e("#"+r):n.closest("form");i[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(t._initial)})},t._form=i.on("reset",t._resetHandler))},_cascade:function(){var t=this,n=t.options,r=n.cascadeFrom,i,s,o,u,a;if(r){t._selectedValue=n.value||t._accessor(),s=e("#"+r),i=s.data("kendo"+n.name),i||(i=s.data("kendo"+L[n.name]));if(!i)return;n.autoBind=!1,u=n.cascadeFromField||i.options.dataValueField,a=function(){t.dataSource.unbind(c,a);var e=t._selectedValue||t.value();t._userTriggered?t._clearSelection(i,!0):e?(t.value(e),(!t.dataSource.view()[0]||t.selectedIndex===-1)&&t._clearSelection(i,!0)):t.select(n.index),t.enable(),t._triggerCascade(t._userTriggered),t._userTriggered=!1},o=function(){var e=i.dataItem(),n=e?i._value(e):null,r,s;if(n||n===0){r=t.dataSource.filter()||{},O(r,u),s=r.filters||[],s.push({field:u,operator:"eq",value:n});var o=function(){t.unbind("dataBound",o),a.apply(t,arguments)};t.first("dataBound",o),t.dataSource.filter(s)}else t.enable(!1),t._clearSelection(i),t._triggerCascade(t._userTriggered),t._userTriggered=!1},i.first("cascade",function(e){t._userTriggered=e.userTriggered,o()}),i._bound?o():i.value()||t.enable(!1)}}})}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()}),function(e,t){t("kendo.fx",["./kendo.core"],e)}(function(){return function(e,t){function $(e){return parseInt(e,10)}function J(e,t){return $(e.css(t))}function K(e){var t=[];for(var n in e)t.push(n);return t}function Q(e){for(var t in e)w.indexOf(t)!=-1&&E.indexOf(t)==-1&&delete e[t];return e}function G(e,t){var n=[],r={},i,s,o,a;for(s in t)i=s.toLowerCase(),a=f&&w.indexOf(i)!=-1,!u.hasHW3D&&a&&E.indexOf(i)==-1?delete t[s]:(o=t[s],a?n.push(s+"("+o+")"):r[s]=o);return n.length&&(r[I]=n.join(" ")),r}function Y(e,t){if(f){var n=e.css(I);if(n==k)return t=="scale"?1:0;var r=n.match(new RegExp(t+"\\s*\\(([\\d\\w\\.]+)")),i=0;return r?i=$(r[1]):(r=n.match(d)||[0,0,0,0,0],t=t.toLowerCase(),m.test(t)?i=parseFloat(r[3]/r[2]):t=="translatey"?i=parseFloat(r[4]/r[2]):t=="scale"?i=parseFloat(r[2]):t=="rotate"&&(i=parseFloat(Math.atan2(r[2],r[1])))),i}return parseFloat(e.css(t))}function tt(e){return e.charAt(0).toUpperCase()+e.substring(1)}function nt(e,t){var n=et.extend(t),s=n.prototype.directions;r[tt(e)]=n,r.Element.prototype[e]=function(e,t,r,i){return new n(this.element,e,t,r,i)},i(s,function(t,i){r.Element.prototype[e+tt(i)]=function(e,t,r){return new n(this.element,i,e,t,r)}})}function st(e,t,n,r){nt(e,{directions:it,startValue:function(e){return this._startValue=e,this},endValue:function(e){return this._endValue=e,this},shouldHide:function(){return this._shouldHide},prepare:function(e,i){var s=this,o,u,a=this._direction==="out",f=s.element.data(t),l=!isNaN(f)&&f!=n;l?o=f:typeof this._startValue!="undefined"?o=this._startValue:o=a?n:r,typeof this._endValue!="undefined"?u=this._endValue:u=a?r:n,this._reverse?(e[t]=u,i[t]=o):(e[t]=o,i[t]=u),s._shouldHide=i[t]===r}})}function ft(e,t){var r=n.directions[t].vertical,i=e[r?O:A]()/2+"px";return ut[t].replace("$size",i)}var n=window.kendo,r=n.effects,i=e.each,s=e.extend,o=e.proxy,u=n.support,a=u.browser,f=u.transforms,l=u.transitions,c={scale:0,scalex:0,scaley:0,scale3d:0},h={translate:0,translatex:0,translatey:0,translate3d:0},p=typeof document.documentElement.style.zoom!="undefined"&&!f,d=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,v=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,m=/translatex?$/i,g=/(zoom|fade|expand)(\w+)/,y=/(zoom|fade|expand)/,b=/[xy]$/i,w=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],E=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],S={rotate:"deg",scale:"",skew:"px",translate:"px"},x=f.css,T=Math.round,N="",C="px",k="none",L="auto",A="width",O="height",M="hidden",_="origin",D="abortId",P="overflow",H="translate",B="position",j="completeCallback",F=x+"transition",I=x+"transform",q=x+"backface-visibility",R=x+"perspective",U="1500px",z="perspective("+U+")",W=u.mobileOS&&u.mobileOS.majorVersion==7,X={left:{reverse:"right",property:"left",transition:"translatex",vertical:!1,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:!1,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:!0,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:!0,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};n.directions=X,s(e.fn,{kendoStop:function(e,t){return l?r.stopQueue(this,e||!1,t||!1):this.stop(e,t)}});if(f&&!l){i(E,function(t,n){e.fn[n]=function(t){if(typeof t=="undefined")return Y(this,n);var r=e(this)[0],i=n+"("+t+S[n.replace(b,"")]+")";return r.style.cssText.indexOf(I)==-1?e(this).css(I,i):r.style.cssText=r.style.cssText.replace(new RegExp(n+"\\(.*?\\)","i"),i),this},e.fx.step[n]=function(t){e(t.elem)[n](t.now)}});var V=e.fx.prototype.cur;e.fx.prototype.cur=function(){return E.indexOf(this.prop)!=-1?parseFloat(e(this.elem)[this.prop]()):V.apply(this,arguments)}}n.toggleClass=function(e,t,n,r){return t&&(t=t.split(" "),l&&(n=s({exclusive:"all",duration:400,ease:"ease-out"},n),e.css(F,n.exclusive+" "+n.duration+"ms "+n.ease),setTimeout(function(){e.css(F,"").css(O)},n.duration)),i(t,function(t,n){e.toggleClass(n,r)})),e},n.parseEffects=function(e,t){var n={};return typeof e=="string"?i(e.split(" "),function(e,r){var i=!y.test(r),s=r.replace(g,function(e,t,n){return t+":"+n.toLowerCase()}),o=s.split(":"),u=o[1],a={};o.length>1&&(a.direction=t&&i?X[u].reverse:u),n[o[0]]=a}):i(e,function(e){var r=this.direction;r&&t&&!y.test(e)&&(this.direction=X[r].reverse),n[e]=this}),n},l&&s(r,{transition:function(t,n,r){var i,o=0,u=t.data("keys")||[],a;r=s({duration:200,ease:"ease-out",complete:null,exclusive:"all"},r);var f=!1,c=function(){f||(f=!0,a&&(clearTimeout(a),a=null),t.removeData(D).dequeue().css(F,"").css(F),r.complete.call(t))};r.duration=e.fx?e.fx.speeds[r.duration]||r.duration:r.duration,i=G(t,n),e.merge(u,K(i)),t.data("keys",e.unique(u)).height(),t.css(F,r.exclusive+" "+r.duration+"ms "+r.ease).css(F),t.css(i).css(I),l.event&&(t.one(l.event,c),r.duration!==0&&(o=500)),a=setTimeout(c,r.duration+o),t.data(D,a),t.data(j,c)},stopQueue:function(e,t,r){var i,s=e.data("keys"),o=!r&&s,u=e.data(j);return o&&(i=n.getComputedStyles(e[0],s)),u&&u(),o&&e.css(i),e.removeData("keys").stop(t)}});var Z=n.Class.extend({init:function(e,t){var n=this;n.element=e,n.effects=[],n.options=t,n.restore=[]},run:function(t){var n=this,i,o,u,a=t.length,c=n.element,h=n.options,p=e.Deferred(),d={},v={},m,g,y;n.effects=t,p.then(e.proxy(n,"complete")),c.data("animating",!0);for(o=0;o<a;o++){i=t[o],i.setReverse(h.reverse),i.setOptions(h),n.addRestoreProperties(i.restore),i.prepare(d,v),g=i.children();for(u=0,y=g.length;u<y;u++)g[u].duration(h.duration).run()}for(var b in h.effects)s(v,h.effects[b].properties);c.is(":visible")||s(d,{display:c.data("olddisplay")||"block"}),f&&!h.reset&&(m=c.data("targetTransform"),m&&(d=s(m,d))),d=G(c,d),f&&!l&&(d=Q(d)),c.css(d).css(I);for(o=0;o<a;o++)t[o].setup();return h.init&&h.init(),c.data("targetTransform",v),r.animate(c,v,s({},h,{complete:p.resolve})),p.promise()},stop:function(){e(this.element).kendoStop(!0,!0)},addRestoreProperties:function(e){var t=this.element,n,r=0,i=e.length;for(;r<i;r++)n=e[r],this.restore.push(n),t.data(n)||t.data(n,t.css(n))},restoreCallback:function(){var e=this.element;for(var t=0,n=this.restore.length;t<n;t++){var r=this.restore[t];e.css(r,e.data(r))}},complete:function(){var t=this,n=0,r=t.element,i=t.options,s=t.effects,o=s.length;r.removeData("animating").dequeue(),i.hide&&r.data("olddisplay",r.css("display")).hide(),this.restoreCallback(),p&&!f&&setTimeout(e.proxy(this,"restoreCallback"),0);for(;n<o;n++)s[n].teardown();i.completeCallback&&i.completeCallback(r)}});r.promise=function(e,t){var i=[],s,o=new Z(e,t),u=n.parseEffects(t.effects),a;t.effects=u;for(var f in u)s=r[tt(f)],s&&(a=new s(e,u[f].direction),i.push(a));i[0]?o.run(i):(e.is(":visible")||e.css({display:e.data("olddisplay")||"block"}).css("display"),t.init&&t.init(),e.dequeue(),o.complete())},s(r,{animate:function(n,o,u){var p=u.transition!==!1;delete u.transition,l&&"transition"in r&&p?r.transition(n,o,u):f?n.animate(Q(o),{queue:!1,show:!1,hide:!1,duration:u.duration,complete:u.complete}):n.each(function(){var n=e(this),r={};i(w,function(e,i){var u,a=o?o[i]+" ":null;if(a){var l=o;if(i in c&&o[i]!==t)u=a.match(v),f&&s(l,{scale:+u[0]});else if(i in h&&o[i]!==t){var p=n.css(B),d=p=="absolute"||p=="fixed";n.data(H)||(d?n.data(H,{top:J(n,"top")||0,left:J(n,"left")||0,bottom:J(n,"bottom"),right:J(n,"right")}):n.data(H,{top:J(n,"marginTop")||0,left:J(n,"marginLeft")||0}));var m=n.data(H);u=a.match(v);if(u){var g=i==H+"y"?0:+u[1],y=i==H+"y"?+u[1]:+u[2];d?(isNaN(m.right)?isNaN(g)||s(l,{left:m.left+g}):isNaN(g)||s(l,{right:m.right-g}),isNaN(m.bottom)?isNaN(y)||s(l,{top:m.top+y}):isNaN(y)||s(l,{bottom:m.bottom-y})):(isNaN(g)||s(l,{marginLeft:m.left+g}),isNaN(y)||s(l,{marginTop:m.top+y}))}}!f&&i!="scale"&&i in l&&delete l[i],l&&s(r,l)}}),a.msie&&delete r.scale,n.animate(r,{queue:!1,show:!1,hide:!1,duration:u.duration,complete:u.complete})})}}),r.animatedPromise=r.promise;var et=n.Class.extend({init:function(e,t){var n=this;n.element=e,n._direction=t,n.options={},n._additionalEffects=[],n.restore||(n.restore=[])},reverse:function(){return this._reverse=!0,this.run()},play:function(){return this._reverse=!1,this.run()},add:function(e){return this._additionalEffects.push(e),this},direction:function(e){return this._direction=e,this},duration:function(e){return this._duration=e,this},compositeRun:function(){var e=this,t=new Z(e.element,{reverse:e._reverse,duration:e._duration}),n=e._additionalEffects.concat([e]);return t.run(n)},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var t=this,n=t.element,i=0,o=t.restore,u=o.length,a,c=e.Deferred(),h={},p={},d,v=t.children(),m=v.length;c.then(e.proxy(t,"_complete")),n.data("animating",!0);for(i=0;i<u;i++)a=o[i],n.data(a)||n.data(a,n.css(a));for(i=0;i<m;i++)v[i].duration(t._duration).run();return t.prepare(h,p),n.is(":visible")||s(h,{display:n.data("olddisplay")||"block"}),f&&(d=n.data("targetTransform"),d&&(h=s(d,h))),h=G(n,h),f&&!l&&(h=Q(h)),n.css(h).css(I),t.setup(),n.data("targetTransform",p),r.animate(n,p,{duration:t._duration,complete:c.resolve}),c.promise()},stop:function(){var t=0,n=this.children(),r=n.length;for(t=0;t<r;t++)n[t].stop();return e(this.element).kendoStop(!0,!0),this},restoreCallback:function(){var e=this.element;for(var t=0,n=this.restore.length;t<n;t++){var r=this.restore[t];e.css(r,e.data(r))}},_complete:function(){var t=this,n=t.element;n.removeData("animating").dequeue(),t.restoreCallback(),t.shouldHide()&&n.data("olddisplay",n.css("display")).hide(),p&&!f&&setTimeout(e.proxy(t,"restoreCallback"),0),t.teardown()},setOptions:function(e){s(!0,this.options,e)},children:function(){return[]},shouldHide:e.noop,setup:e.noop,prepare:e.noop,teardown:e.noop,directions:[],setReverse:function(e){return this._reverse=e,this}}),rt=["left","right","up","down"],it=["in","out"];nt("slideIn",{directions:rt,divisor:function(e){return this.options.divisor=e,this},prepare:function(e,t){var n=this,r,i=n.element,s=X[n._direction],o=-s.modifier*(s.vertical?i.outerHeight():i.outerWidth()),u=o/(n.options&&n.options.divisor||1)+C,a="0px";n._reverse&&(r=e,e=t,t=r),f?(e[s.transition]=u,t[s.transition]=a):(e[s.property]=u,t[s.property]=a)}}),nt("tile",{directions:rt,init:function(e,t,n){et.prototype.init.call(this,e,t),this.options={previous:n}},previousDivisor:function(e){return this.options.previousDivisor=e,this},children:function(){var e=this,t=e._reverse,r=e.options.previous,i=e.options.previousDivisor||1,s=e._direction,o=[n.fx(e.element).slideIn(s).setReverse(t)];return r&&o.push(n.fx(r).slideIn(X[s].reverse).divisor(i).setReverse(!t)),o}}),st("fade","opacity",1,0),st("zoom","scale",1,.01),nt("slideMargin",{prepare:function(e,t){var n=this,r=n.element,i=n.options,s=r.data(_),o=i.offset,u,a=n._reverse;!a&&s===null&&r.data(_,parseFloat(r.css("margin-"+i.axis))),u=r.data(_)||0,t["margin-"+i.axis]=a?u:u+o}}),nt("slideTo",{prepare:function(e,t){var n=this,r=n.element,i=n.options,s=i.offset.split(","),o=n._reverse;f?(t.translatex=o?0:s[0],t.translatey=o?0:s[1]):(t.left=o?0:s[0],t.top=o?0:s[1]),r.css("left")}}),nt("expand",{directions:["horizontal","vertical"],restore:[P],prepare:function(e,n){var r=this,i=r.element,s=r.options,o=r._reverse,u=r._direction==="vertical"?O:A,a=i[0].style[u],f=i.data(u),l=parseFloat(f||a),c=T(i.css(u,L)[u]());e.overflow=M,l=s&&s.reset?c||l:l||c,n[u]=(o?0:l)+C,e[u]=(o?l:0)+C,f===t&&i.data(u,a)},shouldHide:function(){return this._reverse},teardown:function(){var e=this,t=e.element,n=e._direction==="vertical"?O:A,r=t.data(n);(r==L||r===N)&&setTimeout(function(){t.css(n,L).css(n)},0)}});var ot={position:"absolute",marginLeft:0,marginTop:0,scale:1};nt("transfer",{init:function(e,t){this.element=e,this.options={target:t},this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(e,t){var n=this,r=n.element,i=n.options,o=n._reverse,u=i.target,a,f=Y(r,"scale"),l=u.offset(),c=u.outerHeight()/r.outerHeight();s(e,ot),t.scale=1,r.css(I,"scale(1)").css(I),a=r.offset(),r.css(I,"scale("+f+")");var h=0,p=0,d=l.left-a.left,v=l.top-a.top,m=h+r.outerWidth(),g=p,y=d+u.outerWidth(),b=v,w=(v-p)/(d-h),E=(b-g)/(y-m),S=(p-g-w*h+E*m)/(E-w),x=p+w*(S-h);e.top=a.top,e.left=a.left,e.transformOrigin=S+C+" "+x+C,o?e.scale=c:t.scale=c}});var ut={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"},at={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}};nt("turningPage",{directions:rt,init:function(e,t,n){et.prototype.init.call(this,e,t),this._container=n},prepare:function(e,t){var r=this,i=r._reverse,s=i?X[r._direction].reverse:r._direction,o=at[s];e.zIndex=1,r._clipInHalf&&(e.clip=ft(r._container,n.directions[s].reverse)),e[q]=M,t[I]=z+(i?o.start:o.end),e[I]=z+(i?o.end:o.start)},setup:function(){this._container.append(this.element)},face:function(e){return this._face=e,this},shouldHide:function(){var e=this,t=e._reverse,n=e._face;return t&&!n||!t&&n},clipInHalf:function(e){return this._clipInHalf=e,this},temporary:function(){return this.element.addClass("temp-page"),this}}),nt("staticPage",{directions:rt,init:function(e,t,n){et.prototype.init.call(this,e,t),this._container=n},restore:["clip"],prepare:function(e,t){var n=this,r=n._reverse?X[n._direction].reverse:n._direction;e.clip=ft(n._container,r),e.opacity=.999,t.opacity=1},shouldHide:function(){var e=this,t=e._reverse,n=e._face;return t&&!n||!t&&n},face:function(e){return this._face=e,this}}),nt("pageturn",{directions:["horizontal","vertical"],init:function(e,t,n,r){et.prototype.init.call(this,e,t),this.options={},this.options.face=n,this.options.back=r},children:function(){var e=this,t=e.options,r=e._direction==="horizontal"?"left":"top",i=n.directions[r].reverse,s=e._reverse,o,u=t.face.clone(!0).removeAttr("id"),a=t.back.clone(!0).removeAttr("id"),f=e.element;return s&&(o=r,r=i,i=o),[n.fx(t.face).staticPage(r,f).face(!0).setReverse(s),n.fx(t.back).staticPage(i,f).setReverse(s),n.fx(u).turningPage(r,f).face(!0).clipInHalf(!0).temporary().setReverse(s),n.fx(a).turningPage(i,f).clipInHalf(!0).temporary().setReverse(s)]},prepare:function(e,t){e[R]=U,e.transformStyle="preserve-3d",e.opacity=.999,t.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}}),nt("flip",{directions:["horizontal","vertical"],init:function(e,t,n,r){et.prototype.init.call(this,e,t),this.options={},this.options.face=n,this.options.back=r},children:function(){var e=this,t=e.options,r=e._direction==="horizontal"?"left":"top",i=n.directions[r].reverse,s=e._reverse,o,u=e.element;return s&&(o=r,r=i,i=o),[n.fx(t.face).turningPage(r,u).face(!0).setReverse(s),n.fx(t.back).turningPage(i,u).setReverse(s)]},prepare:function(e){e[R]=U,e.transformStyle="preserve-3d"}});var lt=!u.mobileOS.android;nt("replace",{init:function(t,n,r){et.prototype.init.call(this,t),this._previous=e(n),this._transitionClass=r},duration:function(){throw new Error("The replace effect does not support duration setting; the effect duration may be customized through the transition class rule")},_both:function(){return e().add(this._element).add(this._previous)},_containerClass:function(){var e=this._direction,t="k-fx k-fx-start k-fx-"+this._transitionClass;return e&&(t+=" k-fx-"+e),this._reverse&&(t+=" k-fx-reverse"),t},complete:function(){if(!this.deferred)return;var e=this.container;e.removeClass("k-fx-end").removeClass(this._containerClass()),this._previous.hide().removeClass("k-fx-current"),this.element.removeClass("k-fx-next"),lt&&e.css(P,""),this.isAbsolute||this._both().css(B,""),this.deferred.resolve(),delete this.deferred},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var t=this,r=t.element,i=t._previous,s=t._direction,o=r.parents().filter(i.parents()).first(),u=t._both(),a=e.Deferred(),f=r.css(B),c;return o.length||(o=r.parent()),this.container=o,this.deferred=a,this.isAbsolute=f=="absolute",this.isAbsolute||u.css(B,"absolute"),lt&&(c=o.css(P),o.css(P,"hidden")),l?(r.addClass("k-fx-hidden"),o.addClass(this._containerClass()),o.one(l.event,e.proxy(this,"complete")),n.animationFrame(function(){r.removeClass("k-fx-hidden").addClass("k-fx-next"),i.css("display","").addClass("k-fx-current"),n.animationFrame(function(){o.removeClass("k-fx-start").addClass("k-fx-end")})})):this.complete(),a.promise()},stop:function(){this.complete()}});var ct=n.Class.extend({init:function(){var e=this;e._tickProxy=o(e._tick,e),e._started=!1},tick:e.noop,done:e.noop,onEnd:e.noop,onCancel:e.noop,start:function(){if(!this.enabled())return;this.done()?this.onEnd():(this._started=!0,n.animationFrame(this._tickProxy))},enabled:function(){return!0},cancel:function(){this._started=!1,this.onCancel()},_tick:function(){var e=this;if(!e._started)return;e.tick(),e.done()?(e._started=!1,e.onEnd()):n.animationFrame(e._tickProxy)}}),ht=ct.extend({init:function(e){var t=this;s(t,e),ct.fn.init.call(t)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,new Date-this.startDate)},moveTo:function(e){var t=this,n=t.movable;t.initial=n[t.axis],t.delta=e.location-t.initial,t.duration=typeof e.duration=="number"?e.duration:300,t.tick=t._easeProxy(e.ease),t.startDate=new Date,t.start()},_easeProxy:function(e){var t=this;return function(){t.movable.moveAxis(t.axis,e(t.timePassed(),t.initial,t.delta,t.duration))}}});s(ht,{easeOutExpo:function(e,t,n,r){return e==r?t+n:n*(-Math.pow(2,-10*e/r)+1)+t},easeOutBack:function(e,t,n,r,i){return i=1.70158,n*((e=e/r-1)*e*((i+1)*e+i)+1)+t}}),r.Animation=ct,r.Transition=ht,r.createEffect=nt}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()}),function(e,t){t("kendo.userevents",["./kendo.core"],e)}(function(){return function(e,t){function C(e,t){var n=e.x.location,r=e.y.location,i=t.x.location,s=t.y.location,o=n-i,u=r-s;return{center:{x:(n+i)/2,y:(r+s)/2},distance:Math.sqrt(o*o+u*u)}}function k(e){var t=[],n=e.originalEvent,i=e.currentTarget,s=0,o,u,a;if(e.api)t.push({id:2,event:e,target:e.target,currentTarget:e.target,location:e});else if(e.type.match(/touch/)){u=n?n.changedTouches:[];for(o=u.length;s<o;s++)a=u[s],t.push({location:a,event:e,target:a.target,currentTarget:i,id:a.identifier})}else r.pointers||r.msPointers?t.push({location:n,event:e,target:e.target,currentTarget:i,id:n.pointerId}):t.push({id:1,event:e,target:e.target,currentTarget:i,location:e});return t}function O(t){t.preventDefault();var n=e(t.data.root),r=n.closest(".k-widget").parent();r[0]||(r=n.parent());var i=e.extend(!0,{},t,{target:n[0]});r.trigger(e.Event(t.type,i))}function M(e){var t=n.eventMap.up.split(" "),r=0,i=t.length;for(;r<i;r++)e(t[r])}var n=window.kendo,r=n.support,i=window.document,s=n.Class,o=n.Observable,u=e.now,a=e.extend,f=r.mobileOS,l=f&&f.android,c=800,h=r.browser.msie?5:0,p="press",d="hold",v="select",m="start",g="move",y="end",b="cancel",w="tap",E="release",S="gesturestart",x="gesturechange",T="gestureend",N="gesturetap",L=s.extend({init:function(e,t){var n=this;n.axis=e,n._updateLocationData(t),n.startLocation=n.location,n.velocity=n.delta=0,n.timeStamp=u()},move:function(e){var t=this,n=e["page"+t.axis],r=u(),i=r-t.timeStamp||1;if(!n&&l)return;t.delta=n-t.location,t._updateLocationData(e),t.initialDelta=n-t.startLocation,t.velocity=t.delta/i,t.timeStamp=r},_updateLocationData:function(e){var t=this,n=t.axis;t.location=e["page"+n],t.client=e["client"+n],t.screen=e["screen"+n]}}),A=s.extend({init:function(e,t,n){a(this,{x:new L("X",n.location),y:new L("Y",n.location),userEvents:e,target:t,currentTarget:n.currentTarget,initialTouch:n.target,id:n.id,pressEvent:n,_moved:!1,_finished:!1})},press:function(){this._holdTimeout=setTimeout(e.proxy(this,"_hold"),this.userEvents.minHold),this._trigger(p,this.pressEvent)},_hold:function(){this._trigger(d,this.pressEvent)},move:function(e){var t=this;if(t._finished)return;t.x.move(e.location),t.y.move(e.location);if(!t._moved){if(t._withinIgnoreThreshold())return;if(!!_.current&&_.current!==t.userEvents)return t.dispose();t._start(e)}t._finished||t._trigger(g,e)},end:function(e){var t=this;t.endTime=u();if(t._finished)return;t._finished=!0,t._moved?t._trigger(y,e):t._trigger(w,e),clearTimeout(t._holdTimeout),t._trigger(E,e),t.dispose()},dispose:function(){var t=this.userEvents,n=t.touches;this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout),n.splice(e.inArray(this,n),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(e){clearTimeout(this._holdTimeout),this.startTime=u(),this._moved=!0,this._trigger(m,e)},_trigger:function(e,t){var n=this,r=t.event,i={touch:n,x:n.x,y:n.y,target:n.target,event:r};n.userEvents.notify(e,i)&&r.preventDefault()},_withinIgnoreThreshold:function(){var e=this.x.initialDelta,t=this.y.initialDelta;return Math.sqrt(e*e+t*t)<=this.userEvents.threshold}}),_=o.extend({init:function(t,s){var u=this,f,l=n.guid();s=s||{},f=u.filter=s.filter,u.threshold=s.threshold||h,u.minHold=s.minHold||c,u.touches=[],u._maxTouches=s.multiTouch?2:1,u.allowSelection=s.allowSelection,u.captureUpIfMoved=s.captureUpIfMoved,u.eventNS=l,t=e(t).handler(u),o.fn.init.call(u),a(u,{element:t,surface:s.global?e(i.documentElement):e(s.surface||t),stopPropagation:s.stopPropagation,pressed:!1}),u.surface.handler(u).on(n.applyEventMap("move",l),"_move").on(n.applyEventMap("up cancel",l),"_end"),t.on(n.applyEventMap("down",l),f,"_start"),(r.pointers||r.msPointers)&&t.css("-ms-touch-action","pinch-zoom double-tap-zoom"),s.preventDragEvent&&t.on(n.applyEventMap("dragstart",l),n.preventDefault),t.on(n.applyEventMap("mousedown selectstart",l),f,{root:t},"_select");if(u.captureUpIfMoved&&r.eventCapture){var C=u.surface[0],k=e.proxy(u.preventIfMoving,u);M(function(e){C.addEventListener(e,k,!0)})}u.bind([p,d,w,m,g,y,E,b,S,x,T,N,v],s)},preventIfMoving:function(e){this._isMoved()&&e.preventDefault()},destroy:function(){var e=this;if(e._destroyed)return;e._destroyed=!0;if(e.captureUpIfMoved&&r.eventCapture){var t=e.surface[0];M(function(n){t.removeEventListener(n,e.preventIfMoving)})}e.element.kendoDestroy(e.eventNS),e.surface.kendoDestroy(e.eventNS),e.element.removeData("handler"),e.surface.removeData("handler"),e._disposeAll(),e.unbind(),delete e.surface,delete e.element,delete e.currentTarget},capture:function(){_.current=this},cancel:function(){this._disposeAll(),this.trigger(b)},notify:function(e,t){var n=this,r=n.touches;if(this._isMultiTouch()){switch(e){case g:e=x;break;case y:e=T;break;case w:e=N}a(t,{touches:r},C(r[0],r[1]))}return this.trigger(e,t)},press:function(e,t,n){this._apiCall("_start",e,t,n)},move:function(e,t){this._apiCall("_move",e,t)},end:function(e,t){this._apiCall("_end",e,t)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){var e=this.touches;while(e.length>0)e.pop().dispose()},_isMoved:function(){return e.grep(this.touches,function(e){return e.isMoved()}).length},_select:function(e){(!this.allowSelection||this.trigger(v,{event:e}))&&O(e)},_start:function(t){var n=this,r=0,i=n.filter,s,o=k(t),u=o.length,a,f=t.which;if(f&&f>1)return;if(n._maxTouchesReached())return;_.current=null,n.currentTarget=t.currentTarget,n.stopPropagation&&t.stopPropagation();for(;r<u;r++){if(n._maxTouchesReached())break;a=o[r],i?s=e(a.currentTarget):s=n.element;if(!s.length)continue;a=new A(n,s,a),n.touches.push(a),a.press(),n._isMultiTouch()&&n.notify("gesturestart",{})}},_move:function(e){this._eachTouch("move",e)},_end:function(e){this._eachTouch("end",e)},_eachTouch:function(e,t){var n=this,r={},i=k(t),s=n.touches,o,u,a,f;for(o=0;o<s.length;o++)u=s[o],r[u.id]=u;for(o=0;o<i.length;o++)a=i[o],f=r[a.id],f&&f[e](a)},_apiCall:function(t,n,r,i){this[t]({api:!0,pageX:n,pageY:r,clientX:n,clientY:r,target:e(i||this.element)[0],stopPropagation:e.noop,preventDefault:e.noop})}});_.minHold=function(e){c=e},n.getTouches=k,n.touchDelta=C,n.UserEvents=_}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()}),function(e,t){t("kendo.draganddrop",["./kendo.core","./kendo.userevents"],e)}(function(){return function(e,t){function k(t,n){try{return e.contains(t,n)||t==n}catch(r){return!1}}function L(e,t){return parseInt(e.css(t),10)||0}function A(e,t){return Math.min(Math.max(e,t.min),t.max)}function O(e,t){var n=c(e),r=n.left+L(e,"borderLeftWidth")+L(e,"paddingLeft"),i=n.top+L(e,"borderTopWidth")+L(e,"paddingTop"),s=r+e.width()-t.outerWidth(!0),o=i+e.height()-t.outerHeight(!0);return{x:{min:r,max:s},y:{min:i,max:o}}}function M(e,n,i){var s,o,u=0,a=n&&n.length,f=i&&i.length;while(e&&e.parentNode){for(u=0;u<a;u++){s=n[u];if(s.element[0]===e)return{target:s,targetElement:e}}for(u=0;u<f;u++){o=i[u];if(r.matchesSelector.call(e,o.options.filter))return{target:o,targetElement:e}}e=e.parentNode}return t}var n=window.kendo,r=n.support,i=window.document,s=n.Class,o=n.ui.Widget,u=n.Observable,a=n.UserEvents,f=e.proxy,l=e.extend,c=n.getOffset,h={},p={},d={},v,m=n.elementUnderCursor,g="keyup",y="change",b="dragstart",w="hold",E="drag",S="dragend",x="dragcancel",T="dragenter",N="dragleave",C="drop",_=u.extend({init:function(t,r){var i=this,s=t[0];i.capture=!1,s.addEventListener?(e.each(n.eventMap.down.split(" "),function(){s.addEventListener(this,f(i._press,i),!0)}),e.each(n.eventMap.up.split(" "),function(){s.addEventListener(this,f(i._release,i),!0)})):(e.each(n.eventMap.down.split(" "),function(){s.attachEvent(this,f(i._press,i))}),e.each(n.eventMap.up.split(" "),function(){s.attachEvent(this,f(i._release,i))})),u.fn.init.call(i),i.bind(["press","release"],r||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(e){var t=this;t.trigger("press"),t.capture&&e.preventDefault()},_release:function(e){var t=this;t.trigger("release"),t.capture&&(e.preventDefault(),t.cancelCapture())}}),D=u.extend({init:function(t){var n=this;u.fn.init.call(n),n.forcedEnabled=!1,e.extend(n,t),n.scale=1,n.horizontal?(n.measure="offsetWidth",n.scrollSize="scrollWidth",n.axis="x"):(n.measure="offsetHeight",n.scrollSize="scrollHeight",n.axis="y")},makeVirtual:function(){e.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},virtualSize:function(e,t){if(this._virtualMin!==e||this._virtualMax!==t)this._virtualMin=e,this._virtualMax=t,this.update()},outOfBounds:function(e){return e>this.max||e<this.min},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(e){this.scale=e},update:function(e){var t=this,n=t.virtual?t._virtualMax:t.getTotal(),r=n*t.scale,i=t.getSize();t.max=t.virtual?-t._virtualMin:0,t.size=i,t.total=r,t.min=Math.min(t.max,i-r),t.minScale=i/n,t.centerOffset=(r-i)/2,t.enabled=t.forcedEnabled||r>i,e||t.trigger(y,t)}}),P=u.extend({init:function(e){var t=this;u.fn.init.call(t),t.x=new D(l({horizontal:!0},e)),t.y=new D(l({horizontal:!1},e)),t.container=e.container,t.forcedMinScale=e.minScale,t.maxScale=e.maxScale||100,t.bind(y,e)},rescale:function(e){this.x.rescale(e),this.y.rescale(e),this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var e=this;e.x.update(),e.y.update(),e.enabled=e.x.enabled||e.y.enabled,e.minScale=e.forcedMinScale||Math.min(e.x.minScale,e.y.minScale),e.fitScale=Math.max(e.x.minScale,e.y.minScale),e.trigger(y)}}),H=u.extend({init:function(e){var t=this;l(t,e),u.fn.init.call(t)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(e){var t=this,n=t.dimension,r=t.axis,i=t.movable,s=i[r]+e;if(!n.enabled)return;if(s<n.min&&e<0||s>n.max&&e>0)e*=t.resistance;i.translateAxis(r,e),t.trigger(y,t)}}),B=s.extend({init:function(e){var t=this,n,r,i,s;l(t,{elastic:!0},e),i=t.elastic?.5:0,s=t.movable,t.x=n=new H({axis:"x",dimension:t.dimensions.x,resistance:i,movable:s}),t.y=r=new H({axis:"y",dimension:t.dimensions.y,resistance:i,movable:s}),t.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(e){t.gesture=e,t.offset=t.dimensions.container.offset()},gesturechange:function(e){var i=t.gesture,o=i.center,u=e.center,a=e.distance/i.distance,f=t.dimensions.minScale,l=t.dimensions.maxScale,c;s.scale<=f&&a<1&&(a+=(1-a)*.8),s.scale*a>=l&&(a=l/s.scale);var h=s.x+t.offset.left,p=s.y+t.offset.top;c={x:(h-o.x)*a+u.x-h,y:(p-o.y)*a+u.y-p},s.scaleWith(a),n.dragMove(c.x),r.dragMove(c.y),t.dimensions.rescale(s.scale),t.gesture=e,e.preventDefault()},move:function(e){if(e.event.target.tagName.match(/textarea|input/i))return;n.dimension.enabled||r.dimension.enabled?(n.dragMove(e.x.delta),r.dragMove(e.y.delta),e.preventDefault()):e.touch.skip()},end:function(e){e.preventDefault()}})}}),j=r.transitions.prefix+"Transform",F;r.hasHW3D?F=function(e,t,n){return"translate3d("+e+"px,"+t+"px,0) scale("+n+")"}:F=function(e,t,n){return"translate("+e+"px,"+t+"px) scale("+n+")"};var I=u.extend({init:function(t){var n=this;u.fn.init.call(n),n.element=e(t),n.element[0].style.webkitTransformOrigin="left top",n.x=0,n.y=0,n.scale=1,n._saveCoordinates(F(n.x,n.y,n.scale))},translateAxis:function(e,t){this[e]+=t,this.refresh()},scaleTo:function(e){this.scale=e,this.refresh()},scaleWith:function(e){this.scale*=e,this.refresh()},translate:function(e){this.x+=e.x,this.y+=e.y,this.refresh()},moveAxis:function(e,t){this[e]=t,this.refresh()},moveTo:function(e){l(this,e),this.refresh()},refresh:function(){var e=this,t=e.x,r=e.y,i;e.round&&(t=Math.round(t),r=Math.round(r)),i=F(t,r,e.scale),i!=e.coordinates&&(n.support.browser.msie&&n.support.browser.version<10?(e.element[0].style.position="absolute",e.element[0].style.left=e.x+"px",e.element[0].style.top=e.y+"px"):e.element[0].style[j]=i,e._saveCoordinates(i),e.trigger(y))},_saveCoordinates:function(e){this.coordinates=e}}),q=o.extend({init:function(e,t){var n=this;o.fn.init.call(n,e,t);var r=n.options.group;r in p?p[r].push(n):p[r]=[n]},events:[T,N,C],options:{name:"DropTarget",group:"default"},destroy:function(){var e=this.options.group,t=p[e]||d[e],n;if(t.length>1){o.fn.destroy.call(this);for(n=0;n<t.length;n++)if(t[n]==this){t.splice(n,1);break}}else q.destroyGroup(e)},_trigger:function(e,t){var n=this,r=h[n.options.group];if(r)return n.trigger(e,l({},t.event,{draggable:r,dropTarget:t.dropTarget}))},_over:function(e){this._trigger(T,e)},_out:function(e){this._trigger(N,e)},_drop:function(e){var t=this,n=h[t.options.group];n&&(n.dropped=!t._trigger(C,e))}});q.destroyGroup=function(e){var t=p[e]||d[e],n;if(t){for(n=0;n<t.length;n++)o.fn.destroy.call(t[n]);t.length=0,delete p[e],delete d[e]}},q._cache=p;var R=q.extend({init:function(e,t){var n=this;o.fn.init.call(n,e,t);var r=n.options.group;r in d?d[r].push(n):d[r]=[n]},options:{name:"DropTargetArea",group:"default",filter:null}}),U=o.extend({init:function(e,t){var r=this;o.fn.init.call(r,e,t),r._activated=!1,r.userEvents=new a(r.element,{global:!0,allowSelection:!0,stopPropagation:!0,filter:r.options.filter,threshold:r.options.distance,start:f(r._start,r),hold:f(r._hold,r),move:f(r._drag,r),end:f(r._end,r),cancel:f(r._cancel,r),select:f(r._select,r)}),r._afterEndHandler=f(r._afterEnd,r),r.captureEscape=function(e){e.keyCode===n.keys.ESC&&(r._trigger(x,{event:e}),r.userEvents.cancel())}},events:[w,b,E,S,x],options:{name:"Draggable",distance:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:!1,dropped:!1},cancelHold:function(){this._activated=!1},_updateHint:function(t){var n=this,r,i=n.options,s=n.boundaries,o=i.axis,u=n.options.cursorOffset;u?r={left:t.x.location+u.left,top:t.y.location+u.top}:(n.hintOffset.left+=t.x.delta,n.hintOffset.top+=t.y.delta,r=e.extend({},n.hintOffset)),s&&(r.top=A(r.top,s.y),r.left=A(r.left,s.x)),o==="x"?delete r.top:o==="y"&&delete r.left,n.hint.css(r)},_shouldIgnoreTarget:function(t){var n=this.options.ignore;return n&&e(t).is(n)},_select:function(e){this._shouldIgnoreTarget(e.event.target)||e.preventDefault()},_start:function(t){var r=this,s=r.options,o=s.container,u=s.hint;if(this._shouldIgnoreTarget(t.touch.initialTouch)||s.holdToDrag&&!r._activated){r.userEvents.cancel();return}r.currentTarget=t.target,r.currentTargetOffset=c(r.currentTarget);if(u){r.hint&&r.hint.stop(!0,!0).remove(),r.hint=n.isFunction(u)?e(u.call(r,r.currentTarget)):u;var a=c(r.currentTarget);r.hintOffset=a,r.hint.css({position:"absolute",zIndex:2e4,left:a.left,top:a.top}).appendTo(i.body)}h[s.group]=r,r.dropped=!1,o&&(r.boundaries=O(o,r.hint)),r._trigger(b,t)&&(r.userEvents.cancel(),r._afterEnd()),e(i).on(g,r.captureEscape)},_hold:function(e){this.currentTarget=e.target,this._trigger(w,e)?this.userEvents.cancel():this._activated=!0},_drag:function(t){var n=this;t.preventDefault(),n._withDropTarget(t,function(n,r){if(!n){v&&(v._trigger(N,l(t,{dropTarget:e(v.targetElement)})),v=null);return}if(v){if(r===v.targetElement)return;v._trigger(N,l(t,{dropTarget:e(v.targetElement)}))}n._trigger(T,l(t,{dropTarget:e(r)})),v=l(n,{targetElement:r})}),n._trigger(E,t),n.hint&&n._updateHint(t)},_end:function(t){var n=this;n._withDropTarget(t,function(n,r){n&&(n._drop(l({},t,{dropTarget:e(r)})),v=null)}),n._trigger(S,t),n._cancel(t.event)},_cancel:function(){var e=this;e._activated=!1,e.hint&&!e.dropped?setTimeout(function(){e.hint.stop(!0,!0).animate(e.currentTargetOffset,"fast",e._afterEndHandler)},0):e._afterEnd()},_trigger:function(e,t){var n=this;return n.trigger(e,l({},t.event,{x:t.x,y:t.y,currentTarget:n.currentTarget,dropTarget:t.dropTarget}))},_withDropTarget:function(e,t){var n=this,r,i,s=n.options,o=p[s.group],u=d[s.group];if(o&&o.length||u&&u.length)r=m(e),n.hint&&k(n.hint[0],r)&&(n.hint.hide(),r=m(e),r||(r=m(e)),n.hint.show()),i=M(r,o,u),i?t(i.target,i.targetElement):t()},destroy:function(){var e=this;o.fn.destroy.call(e),e._afterEnd(),e.userEvents.destroy(),e.currentTarget=null},_afterEnd:function(){var t=this;t.hint&&t.hint.remove(),delete h[t.options.group],t.trigger("destroy"),e(i).off(g,t.captureEscape)}});n.ui.plugin(q),n.ui.plugin(R),n.ui.plugin(U),n.TapCapture=_,n.containerBoundaries=O,l(n.ui,{Pane:B,PaneDimensions:P,Movable:I})}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()}),function(e,t){t("kendo.mobile.scroller",["./kendo.fx","./kendo.draganddrop"],e)}(function(){return function(e,t){var n=window.kendo,r=n.mobile,i=n.effects,s=r.ui,o=e.proxy,u=e.extend,a=s.Widget,f=n.Class,l=n.ui.Movable,c=n.ui.Pane,h=n.ui.PaneDimensions,p=i.Transition,d=i.Animation,v=Math.abs,m=500,g=.7,y=.96,b=10,w=55,E=.5,S=5,x="km-scroller-release",T="km-scroller-refresh",N="pull",C="change",k="resize",L="scroll",A=2,O=d.extend({init:function(e){var t=this;d.fn.init.call(t),u(t,e),t.userEvents.bind("gestureend",o(t.start,t)),t.tapCapture.bind("press",o(t.cancel,t))},enabled:function(){return this.movable.scale<this.dimensions.minScale},done:function(){return this.dimensions.minScale-this.movable.scale<.01},tick:function(){var e=this.movable;e.scaleWith(1.1),this.dimensions.rescale(e.scale)},onEnd:function(){var e=this.movable;e.scaleTo(this.dimensions.minScale),this.dimensions.rescale(e.scale)}}),M=d.extend({init:function(e){var t=this;d.fn.init.call(t),u(t,e,{transition:new p({axis:e.axis,movable:e.movable,onEnd:function(){t._end()}})}),t.tapCapture.bind("press",function(){t.cancel()}),t.userEvents.bind("end",o(t.start,t)),t.userEvents.bind("gestureend",o(t.start,t)),t.userEvents.bind("tap",o(t.onEnd,t))},onCancel:function(){this.transition.cancel()},freeze:function(e){var t=this;t.cancel(),t._moveTo(e)},onEnd:function(){var e=this;e.paneAxis.outOfBounds()?e._snapBack():e._end()},done:function(){return v(this.velocity)<1},start:function(e){var t=this,n;if(!t.dimension.enabled)return;t.paneAxis.outOfBounds()?t._snapBack():(n=e.touch.id===A?0:e.touch[t.axis].velocity,t.velocity=Math.max(Math.min(n*t.velocityMultiplier,w),-w),t.tapCapture.captureNext(),d.fn.start.call(t))},tick:function(){var e=this,t=e.dimension,n=e.paneAxis.outOfBounds()?E:e.friction,r=e.velocity*=n,i=e.movable[e.axis]+r;!e.elastic&&t.outOfBounds(i)&&(i=Math.max(Math.min(i,t.max),t.min),e.velocity=0),e.movable.moveAxis(e.axis,i)},_end:function(){this.tapCapture.cancelCapture(),this.end()},_snapBack:function(){var e=this,t=e.dimension,n=e.movable[e.axis]>t.max?t.max:t.min;e._moveTo(n)},_moveTo:function(e){this.transition.moveTo({location:e,duration:m,ease:p.easeOutExpo})}}),_=d.extend({init:function(e){var t=this;n.effects.Animation.fn.init.call(this),u(t,e,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates(),this.moveTo(this.origin)},done:function(){return v(this.offset.y)<S&&v(this.offset.x)<S},onEnd:function(){this.moveTo(this.destination)},setCoordinates:function(e,t){this.offset={},this.origin=e,this.destination=t},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}),D=f.extend({init:function(t){var n=this,r=t.axis==="x",i=e('<div class="km-touch-scrollbar km-'+(r?"horizontal":"vertical")+'-scrollbar" />');u(n,t,{element:i,elementSize:0,movable:new l(i),scrollMovable:t.movable,size:r?"width":"height"}),n.scrollMovable.bind(C,o(n._move,n)),n.container.append(i)},_move:function(){var e=this,t=e.axis,n=e.dimension,r=n.size,i=e.scrollMovable,s=r/n.total,o=Math.round(-i[t]*s),u=Math.round(r*s);o+u>r?u=r-o:o<0&&(u+=o,o=0),e.elementSize!=u&&(e.element.css(e.size,u+"px"),e.elementSize=u),e.movable.moveAxis(t,o)},show:function(){this.element.css({opacity:g,visibility:"visible"})},hide:function(){this.element.css({opacity:0})}}),P=a.extend({init:function(t,r){var i=this;a.fn.init.call(i,t,r),t=i.element,i._native=i.options.useNative&&n.support.hasNativeScrolling;if(i._native){t.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>'),u(i,{scrollElement:t,fixedContainer:t.children().first()});return}t.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');var s=t.children().eq(1),f=new n.TapCapture(t),p=new l(s),d=new h({element:s,container:t,forcedEnabled:i.options.zoom}),m=this.options.avoidScrolling,g=new n.UserEvents(t,{allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:i.options.zoom,start:function(t){d.refresh();var n=v(t.x.velocity),r=v(t.y.velocity),s=n*2>=r,o=e.contains(i.fixedContainer[0],t.event.target),u=r*2>=n;!o&&!m(t)&&i.enabled&&(d.x.enabled&&s||d.y.enabled&&u)?g.capture():g.cancel()}}),y=new c({movable:p,dimensions:d,userEvents:g,elastic:i.options.elastic}),b=new O({movable:p,dimensions:d,userEvents:g,tapCapture:f}),w=new _({moveTo:function(e){i.scrollTo(e.x,e.y)}});p.bind(C,function(){i.scrollTop=-p.y,i.scrollLeft=-p.x,i.trigger(L,{scrollTop:i.scrollTop,scrollLeft:i.scrollLeft})}),i.options.mousewheelScrolling&&t.on("DOMMouseScroll mousewheel",o(this,"_wheelScroll")),u(i,{movable:p,dimensions:d,zoomSnapBack:b,animatedScroller:w,userEvents:g,pane:y,tapCapture:f,pulled:!1,enabled:!0,scrollElement:s,scrollTop:0,scrollLeft:0,fixedContainer:t.children().first()}),i._initAxis("x"),i._initAxis("y"),i._wheelEnd=function(){i._wheel=!1,i.userEvents.end(0,i._wheelY)},d.refresh(),i.options.pullToRefresh&&i._initPullToRefresh()},_wheelScroll:function(e){this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);var t=n.wheelDeltaY(e);t&&(this._wheelY+=t,this.userEvents.move(0,this._wheelY)),e.preventDefault()},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(e,t){this.dimensions.y.virtualSize(e,t)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:!1,pullOffset:140,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:function(){return!1},pullToRefresh:!1,pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"},events:[N,L,k],_resize:function(){this._native||this.contentResized()},setOptions:function(e){var t=this;a.fn.setOptions.call(t,e),e.pullToRefresh&&t._initPullToRefresh()},reset:function(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))},contentResized:function(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)},zoomOut:function(){var e=this.dimensions;e.refresh(),this._scale(e.fitScale),this.movable.moveTo(e.centerCoordinates())},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},scrollTo:function(e,t){this._native?(this.scrollElement.scrollLeft(v(e)),this.scrollElement.scrollTop(v(t))):(this.dimensions.refresh(),this.movable.moveTo({x:e,y:t}))},animatedScrollTo:function(e,t){var n,r;this._native?this.scrollTo(e,t):(n={x:this.movable.x,y:this.movable.y},r={x:e,y:t},this.animatedScroller.setCoordinates(n,r),this.animatedScroller.start())},pullHandled:function(){var e=this;e.refreshHint.removeClass(T),e.hintContainer.html(e.pullTemplate({})),e.yinertia.onEnd(),e.xinertia.onEnd(),e.userEvents.cancel()},destroy:function(){a.fn.destroy.call(this),this.userEvents&&this.userEvents.destroy()},_scale:function(e){this.dimensions.rescale(e),this.movable.scaleTo(e)},_initPullToRefresh:function(){var e=this;e.dimensions.y.forceEnabled(),e.pullTemplate=n.template(e.options.pullTemplate),e.releaseTemplate=n.template(e.options.releaseTemplate),e.refreshTemplate=n.template(e.options.refreshTemplate),e.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+e.pullTemplate({})+"</span></span>"),e.refreshHint=e.scrollElement.children().first(),e.hintContainer=e.refreshHint.children(".km-template"),e.pane.y.bind("change",o(e._paneChange,e)),e.userEvents.bind("end",o(e._dragEnd,e))},_dragEnd:function(){var e=this;if(!e.pulled)return;e.pulled=!1,e.refreshHint.removeClass(x).addClass(T),e.hintContainer.html(e.refreshTemplate({})),e.yinertia.freeze(e.options.pullOffset/2),e.trigger("pull")},_paneChange:function(){var e=this;e.movable.y/E>e.options.pullOffset?e.pulled||(e.pulled=!0,e.refreshHint.removeClass(T).addClass(x),e.hintContainer.html(e.releaseTemplate({}))):e.pulled&&(e.pulled=!1,e.refreshHint.removeClass(x),e.hintContainer.html(e.pullTemplate({})))},_initAxis:function(e){var t=this,n=t.movable,r=t.dimensions[e],i=t.tapCapture,s=t.pane[e],o=new D({axis:e,movable:n,dimension:r,container:t.element});s.bind(C,function(){o.show()}),t[e+"inertia"]=new M({axis:e,paneAxis:s,movable:n,tapCapture:i,userEvents:t.userEvents,dimension:r,elastic:t.options.elastic,friction:t.options.friction||y,velocityMultiplier:t.options.velocityMultiplier||b,end:function(){o.hide(),t.trigger("scrollEnd",{axis:e,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft})}})}});s.plugin(P)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()}),function(e,t){t("kendo.combobox",["./kendo.list","./kendo.mobile.scroller"],e)}(function(){return function(e,t){var n=window.kendo,r=n.ui,i=r.List,s=r.Select,o=n.caret,u=n.support,a=u.placeholder,f=n._activeElement,l=n.keys,c=".kendoComboBox",h="click"+c,p="mousedown"+c,d="disabled",v="readonly",m="change",g="k-state-default",y="k-state-focused",b="k-state-disabled",w="aria-disabled",E="aria-readonly",S="k-state-selected",x="filter",T="accept",N="rebind",C="mouseenter"+c+" mouseleave"+c,k=null,L=e.proxy,A=s.extend({init:function(t,r){var i=this,o;i.ns=c,r=e.isArray(r)?{dataSource:r}:r,s.fn.init.call(i,t,r),i._focusHandler=function(){i.input.focus()},r=i.options,t=i.element.on("focus"+c,i._focusHandler),r.placeholder=r.placeholder||t.attr("placeholder"),i._reset(),i._wrapper(),i._input(),i._tabindex(i.input),i._popup(),i._dataSource(),i._ignoreCase(),i._enable(),i._cascade(),i._aria(),i._oldIndex=i.selectedIndex=-1,r.autoBind?i._filterSource():(o=r.text,!o&&i._isSelect&&(o=t.children(":selected").text()),o&&(i.input.val(o),i._prev=o)),o||i._placeholder(),n.notify(i)},options:{name:"ComboBox",enabled:!0,index:-1,text:null,value:null,autoBind:!0,delay:200,dataTextField:"",dataValueField:"",minLength:0,height:200,highlightFirst:!0,template:"",filter:"none",placeholder:"",suggest:!1,cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{}},events:["open","close",m,"select","dataBinding","dataBound","cascade"],setOptions:function(e){s.fn.setOptions.call(this,e),this._template(),this._accessors(),this._aria()},current:function(e){var n=this,r=n._current;if(e===t)return r;r&&r.removeClass(S),s.fn.current.call(n,e)},destroy:function(){var e=this;e.input.off(c),e.element.off(c),e._inputWrapper.off(c),s.fn.destroy.call(e)},_editable:function(e){var t=this,n=e.disable,r=e.readonly,i=t._inputWrapper.off(c),s=t.element.add(t.input.off(c)),o=t._arrow.parent().off(h+" "+p);!r&&!n?(i.addClass(g).removeClass(b).on(C,t._toggleHover),s.removeAttr(d).removeAttr(v).attr(w,!1).attr(E,!1),o.on(h,function(){t.toggle()}).on(p,function(e){e.preventDefault()}),t.input.on("keydown"+c,L(t._keydown,t)).on("focus"+c,function(){i.addClass(y),t._placeholder(!1)}).on("blur"+c,function(){i.removeClass(y),clearTimeout(t._typing),t.options.text!==t.input.val()&&t.text(t.text()),t._placeholder(),t._blur(),t.element.blur()})):(i.addClass(n?b:g).removeClass(n?g:b),s.attr(d,n).attr(v,r).attr(w,n).attr(E,r))},open:function(){var e=this,t=e.dataSource.options.serverFiltering;if(e.popup.visible())return;!e.ul[0].firstChild||e._state===T&&!t?(e._open=!0,e._state=N,e._filterSource()):(e.popup.open(),e._scroll(e._current))},refresh:function(){var r=this,i=r.ul[0],s=r.options,o=r._state,u=r._data(),a=u.length,l=!0,c,h,p;r.trigger("dataBinding"),i.innerHTML=n.render(r.template,u),r._height(a),r.popup.visible()&&r.popup._position(),r._isSelect&&(c=r.element[0].children[0],o===N&&(r._state=""),p=r._option,r._option=t,r._options(u),p&&p[0].selected?r._custom(p.val(),l):!r._bound&&!c&&r._custom("",l)),a&&(s.highlightFirst&&r.current(e(i.firstChild)),s.suggest&&r.input.val()&&r._request!==t&&r.suggest(e(i.firstChild))),o!==x&&!r._fetch&&r._selectItem(),r._open&&(r._open=!1,h=!!a,r._typing&&r.input[0]!==f()&&(h=!1),r.toggle(h),r._typing=t),r._touchScroller&&r._touchScroller.reset(),r._makeUnselectable(),r._hideBusy(),r._bound=!0,r.trigger("dataBound")},search:function(e){e=typeof e=="string"?e:this.text();var t=this,n=e.length,r=t.options,i=r.ignoreCase,s=r.filter,o=r.dataTextField;clearTimeout(t._typing),n>=r.minLength&&(t._state=x,s==="none"?t._filter(e):(t._open=!0,t._filterSource({value:i?e.toLowerCase():e,field:o,operator:s,ignoreCase:i})))},suggest:function(e){var n=this,r=n.input[0],s=n.text(),u=o(r)[0],a=n._last,c;if(a==l.BACKSPACE||a==l.DELETE){n._last=t;return}e=e||"",typeof e!="string"&&(c=i.inArray(e[0],n.ul[0]),c>-1?e=n._text(n.dataSource.view()[c]):e=""),u<=0&&(u=s.toLowerCase().indexOf(e.toLowerCase())+1),e?(c=e.toLowerCase().indexOf(s.toLowerCase()),c>-1&&(s+=e.substring(c+s.length))):s=s.substring(0,u);if(s.length!==u||!e)r.value=s,r===f()&&o(r,u,s.length)},text:function(e){e=e===null?"":e;var n=this,r=n.input[0],i=n.options.ignoreCase,s=e,o,u;if(e===t)return r.value;o=n.dataItem();if(o&&n._text(o)===e){u=n._value(o),u===null?u="":u+="";if(u===n._old){n._triggerCascade();return}}i&&(s=s.toLowerCase()),n._select(function(e){return e=n._text(e),i&&(e=(e+"").toLowerCase()),e===s}),n.selectedIndex<0&&(n._custom(e),r.value=e),n._prev=r.value,n._triggerCascade()},toggle:function(e){var t=this;t._toggle(e)},value:function(e){var n=this,r=n.options,i;if(e===t)return n._accessor();e!==null&&(e=e.toString()),n._selectedValue=e;if(!n._open&&e&&n._fetchItems(e))return;i=n._index(e);if(i>-1)n.select(i);else{n.current(k),n._custom(e);if(r.value!==e||r.text!==n.input.val())n.text(e),n._placeholder()}n._old=n._accessor(),n._oldIndex=n.selectedIndex},_accept:function(e){var t=this;e?t._focus(e):(t.text(t.text()),t._change())},_custom:function(t,n){var r=this,i=r.element,s=r._option;r._state===x&&!n&&(r._state=T),r._isSelect?(s||(s=r._option=e("<option/>"),i.append(s)),s.text(t),s[0].selected=!0):i.val(t),r._selectedValue=t},_filter:function(e){var n=this,r=n.options,i=n.dataSource,s=r.ignoreCase,o=function(r){var i=n._text(r);if(i!==t)return i+="",i!==""&&e===""?!1:(s&&(i=i.toLowerCase()),i.indexOf(e)===0)};s&&(e=e.toLowerCase());if(!n.ul[0].firstChild){i.one(m,function(){i.data()[0]&&n.search(e)}).fetch();return}n._highlight(o)!==-1&&(r.suggest&&n._current&&n.suggest(n._current),n.open()),n._hideBusy()},_highlight:function(n){var r=this,s;return n===t||n===null?-1:(n=r._get(n),s=i.inArray(n[0],r.ul[0]),s==-1&&(r.options.highlightFirst&&!r.text()?(n=r.ul[0].firstChild,n&&(n=e(n))):n=k),r.current(n),s)},_input:function(){var t=this,n=t.element.removeClass("k-input")[0],r=n.accessKey,i=t.wrapper,s="input.k-input",o=n.name||"",u;o&&(o='name="'+o+'_input" '),u=i.find(s),u[0]||(i.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+o+'class="k-input" type="text" autocomplete="off"/><span tabindex="-1" unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(t.element),u=i.find(s)),u[0].style.cssText=n.style.cssText,n.maxLength>-1&&(u[0].maxLength=n.maxLength),u.addClass(n.className).val(this.options.text||n.value).css({width:"100%",height:n.style.height}).attr({role:"combobox","aria-expanded":!1}).show(),a&&u.attr("placeholder",t.options.placeholder),r&&(n.accessKey="",u[0].accessKey=r),t._focused=t.input=u,t._inputWrapper=e(i[0].firstChild),t._arrow=i.find(".k-icon").attr({role:"button",tabIndex:-1}),n.id&&t._arrow.attr("aria-controls",t.ul[0].id)},_keydown:function(e){var t=this,n=e.keyCode;t._last=n,clearTimeout(t._typing),n!=l.TAB&&!t._move(e)&&t._search()},_placeholder:function(e){if(a)return;var n=this,r=n.input,i=n.options.placeholder,s;if(i){s=n.value(),e===t&&(e=!s),r.toggleClass("k-readonly",e);if(!e){if(!!s)return;i=""}r.val(i),!i&&r[0]===f()&&o(r[0],0,0)}},_search:function(){var e=this;e._typing=setTimeout(function(){var t=e.text();e._prev!==t&&(e._prev=t,e.search(t)),e._typing=null},e.options.delay)},_select:function(e){var n=this,r,i,s=n._data(),o=n._highlight(e);n.selectedIndex=o,o!==-1&&(n._state===x&&(n._state=T),n._current.addClass(S),s=s[o],r=n._text(s),i=n._value(s),n._prev=n.input[0].value=r,n._accessor(i!==t?i:r,o),n._selectedValue=n._accessor(),n._placeholder(),n._optionID&&n._current.attr("aria-selected",!0))},_wrapper:function(){var e=this,t=e.element,n=t.parent();n.is("span.k-widget")||(n=t.hide().wrap("<span />").parent(),n[0].style.cssText=t[0].style.cssText),e.wrapper=n.addClass("k-widget k-combobox k-header").addClass(t[0].className).css("display","")},_clearSelection:function(e,t){var n=this,r=e._selectedValue||e.value(),i=r&&e.selectedIndex===-1;if(t||!r||i)n.value(""),n.options.value=""}});r.plugin(A)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()}),function(e,t){t("kendo.dropdownlist",["./kendo.list","./kendo.mobile.scroller"],e)}(function(){return function(e,t){function w(e,t,n){var r=0,i=t.length-1,s;for(;r<i;++r)s=t[r],s in e||(e[s]={}),e=e[s];e[t[i]]=n}var n=window.kendo,r=n.ui,i=r.Select,s=n.support.mobileOS,o=".kendoDropDownList",u="disabled",a="readonly",f="change",l="k-state-focused",c="k-state-default",h="k-state-disabled",p="aria-disabled",d="aria-readonly",v="k-state-selected",m="mouseenter"+o+" mouseleave"+o,g="tabindex",y=e.proxy,b=i.extend({init:function(r,s){var u=this,a=s&&s.index,f,l,c;u.ns=o,s=e.isArray(s)?{dataSource:s}:s,i.fn.init.call(u,r,s),u._focusHandler=function(){u.wrapper.focus()},s=u.options,r=u.element.on("focus"+o,u._focusHandler),this._inputTemplate(),u._reset(),u._word="",u._wrapper(),u._tabindex(),u.wrapper.data(g,u.wrapper.attr(g)),u._aria(),u._span(),u._popup(),u._mobile(),u._dataSource(),u._ignoreCase(),u._enable(),u._oldIndex=u.selectedIndex=-1,u._cascade(),a!==t&&(s.index=a),s.autoBind?u.dataSource.fetch():u.selectedIndex===-1&&(c=s.text||"",c||(f=s.optionLabel,l=f&&s.index===0,u._isSelect?l?c=f:c=r.children(":selected").text():!r[0].value&&l&&(c=f)),u._textAccessor(c)),n.notify(u)},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,template:"",valueTemplate:"",delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{}},events:["open","close",f,"select","dataBinding","dataBound","cascade"],setOptions:function(e){i.fn.setOptions.call(this,e),this._template(),this._inputTemplate(),this._accessors(),this._aria()},destroy:function(){var e=this;e.wrapper.off(o),e.element.off(o),e._inputWrapper.off(o),i.fn.destroy.call(e)},open:function(){var e=this;e.ul[0].firstChild?(e.popup.open(),e._scroll(e._current)):(e._open=!0,e._request||e.dataSource.fetch())},toggle:function(e){this._toggle(e)},refresh:function(){var e=this,t=e._data(),r=t.length,i=e.options.optionLabel,s=e.element[0],o;e.trigger("dataBinding"),e._current&&e.current(null),e.ul[0].innerHTML=n.render(e.template,t),e._height(r),e.popup.visible()&&e.popup._position(),e._isSelect&&(o=s.selectedIndex,i&&r&&(i='<option value="">'+e._optionLabelText(i)+"</option>"),e._options(t,i),s.selectedIndex=o===-1?0:o),e._open&&(e._open=!1,e.toggle(!!r)),e._hideBusy(),e._makeUnselectable(),e._fetch||(r?e._selectItem():e._textAccessor()!==i&&(e.element.val(""),e._textAccessor(""))),e._bound=!!r,e.trigger("dataBound")},search:function(e){if(e){var n=this,r=n.options.ignoreCase;r&&(e=e.toLowerCase()),n._select(function(i){var s=n._text(i);if(s!==t)return s+="",r&&(s=s.toLowerCase()),s.indexOf(e)===0})}},text:function(e){var n=this,r,i,s=n.options.ignoreCase;e=e===null?"":e;if(e===t)return n._textAccessor();typeof e=="string"&&(i=s?e.toLowerCase():e,r=n._select(function(e){return e=n._text(e),s&&(e=(e+"").toLowerCase()),e===i}),r&&(e=r)),n._textAccessor(e)},value:function(e){var n=this,r,i;if(e===t)return n._accessor();e!==null&&(e=e.toString()),n._selectedValue=e,i=e||n.options.optionLabel&&!n.element[0].disabled&&e==="";if(i&&n._fetchItems(e))return;r=n._index(e),n.select(r>-1?r:0)},_editable:function(e){var t=this,r=t.element,i=e.disable,s=e.readonly,f=t.wrapper.off(o),v=t._inputWrapper.off(m),b=function(){v.addClass(l),t._blured=!1},w=function(){if(!t._blured){t._triggerCascade();var e=window.self!==window.top;n.support.mobileOS.ios&&e?t._change():t._blur(),v.removeClass(l),t._blured=!0,r.blur()}};!s&&!i?(r.removeAttr(u).removeAttr(a),v.addClass(c).removeClass(h).on(m,t._toggleHover),f.attr(g,f.data(g)).attr(p,!1).attr(d,!1).on("click"+o,function(e){t._blured=!1,e.preventDefault(),t.toggle()}).on("keydown"+o,y(t._keydown,t)).on("keypress"+o,y(t._keypress,t)).on("focusin"+o,b).on("focusout"+o,w)):(i?(f.removeAttr(g),v.addClass(h).removeClass(c)):(v.addClass(c).removeClass(h),f.on("focusin"+o,b).on("focusout"+o,w)),r.attr(u,i).attr(a,s),f.attr(p,i).attr(d,s))},_accept:function(e){this._focus(e)},_optionLabelText:function(){var e=this.options,t=e.dataTextField,n=e.optionLabel;return n&&t&&typeof n=="object"?this._text(n):n},_data:function(){var e=this,t=e.options,r=t.optionLabel,i=t.dataTextField,s=t.dataValueField,o=e.dataSource.view(),u=o.length,a=r,f=0;if(r&&u){typeof r=="object"?a=r:i&&(a={},i=i.split("."),s=s.split("."),w(a,s,""),w(a,i,r)),a=new n.data.ObservableArray([a]);for(;f<u;f++)a.push(o[f]);o=a}return o},_selectItem:function(){i.fn._selectItem.call(this),this.current()||this.select(0)},_keydown:function(e){var t=this,r=e.keyCode,i=n.keys,s=t.ul[0];r===i.LEFT?r=i.UP:r===i.RIGHT&&(r=i.DOWN),e.keyCode=r,t._move(e),r===i.HOME?(e.preventDefault(),t._select(s.firstChild)):r===i.END&&(e.preventDefault(),t._select(s.lastChild))},_selectNext:function(e,t){var n=this,r,i=t,s=n._data(),o=s.length,u=n.options.ignoreCase,a=function(t,r){t+="",u&&(t=t.toLowerCase());if(t.indexOf(e)===0)return n._select(r),n._triggerEvents(),!0};for(;t<o;t++){r=n._text(s[t]);if(r&&a(r,t))return!0}if(i>0){console.log(i),t=0;for(;t<=i;t++){r=n._text(s[t]);if(r&&a(r,t))return!0}}return!1},_keypress:function(e){if(e.which===0||e.keyCode===n.keys.ENTER)return;var t=this,r=String.fromCharCode(e.charCode||e.keyCode),i=t.selectedIndex,s=t._word;t.options.ignoreCase&&(r=r.toLowerCase()),r===" "&&e.preventDefault();if(t._last===r&&s.length<=1&&i>-1){s||(s=r);if(t._selectNext(s,i+1))return}t._word=s+r,t._last=r,t._search()},_popup:function(){i.fn._popup.call(this),this.popup.one("open",y(function(){var e=this.popup;e.wrapper=n.wrap(e.element),e.element.closest(".km-root")[0]&&(e.wrapper.addClass("km-popup km-widget"),this.wrapper.addClass("km-widget"))},this))},_search:function(){var e=this,t=e.dataSource,n=e.selectedIndex,r=e._word;clearTimeout(e._typing),e._typing=setTimeout(function(){e._word=""},e.options.delay),n===-1&&(n=0);if(!e.ul[0].firstChild){t.one(f,function(){t.data()[0]&&n>-1&&e._selectNext(r,n)}).fetch();return}e._selectNext(r,n),e._triggerEvents()},_select:function(e){var n=this,i=n._current,s=null,o,u;return e=n._get(e),e&&e[0]&&!e.hasClass(v)&&(i&&i.removeClass(v),u=r.List.inArray(e[0],n.ul[0]),u>-1&&(s=n._data()[u],o=n._value(s),n.selectedIndex=u,n._textAccessor(s),n._accessor(o!==t?o:n._text(s),u),n._selectedValue=n._accessor(),n.current(e.addClass(v)),n._optionID&&n._current.attr("aria-selected",!0))),s},_triggerEvents:function(){this.popup.visible()||(this._triggerCascade(),this._change())},_mobile:function(){var e=this,t=e.popup,n=t.element.parents(".km-root").eq(0);n.length&&s&&(t.options.animation.open.effects=s.android||s.meego?"fadeIn":s.ios||s.wp?"slideIn:up":t.options.animation.open.effects)},_span:function(){var t=this,n=t.wrapper,r="span.k-input",i;i=n.find(r),i[0]||(n.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(t.element),i=n.find(r)),t.span=i,t._inputWrapper=e(n[0].firstChild),t._arrow=n.find(".k-icon").mousedown(function(e){e.preventDefault()})},_wrapper:function(){var e=this,t=e.element,n=t[0],r;r=t.parent(),r.is("span.k-widget")||(r=t.wrap("<span />").parent(),r[0].style.cssText=n.style.cssText),t.hide(),e._focused=e.wrapper=r.addClass("k-widget k-dropdown k-header").addClass(n.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1})},_clearSelection:function(){var e=this,t=e.options.optionLabel;e.options.value="",e._selectedValue="";if(e.dataSource.view()[0]&&(t||e._userTriggered)){e.select(0);return}e.selectedIndex=-1,e.element.val(""),e._textAccessor(e.options.optionLabel)},_inputTemplate:function(){var t=this,r=t.options.valueTemplate;r?r=n.template(r):r=e.proxy(n.template("#:this._text(data)#",{useWithBlock:!1}),t),t.valueTemplate=r},_textAccessor:function(r){var i=this.dataItem(),s=this.options,o=this.span;if(r===t)return o.text();if(e.isPlainObject(r)||r instanceof n.data.ObservableObject)i=r;else if(!i||this._text(i)!==r)s.dataTextField?(i={},w(i,s.dataTextField.split("."),r),w(i,s.dataValueField.split("."),this._accessor())):i=r;o.html(this.valueTemplate(i))}});r.plugin(b)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()}),function(e,t){t("kendo.window",["./kendo.draganddrop"],e)}(function(){return function(e,t){function V(e){return typeof e!="undefined"}function $(e,t,n){return Math.max(Math.min(parseInt(e,10),n===Infinity?n:parseInt(n,10)),parseInt(t,10))}function J(e,t){return function(){var n=this,r=n.wrapper,i=r[0].style,s=n.options;if(s.isMaximized||s.isMinimized)return;return n.restoreOptions={width:i.width,height:i.height},r.children(y).hide().end().children(m).find(I).parent().hide().eq(0).before(h.action({name:"Restore"})),t.call(n),e=="maximize"?n.wrapper.children(m).find(U).parent().hide():n.wrapper.children(m).find(U).parent().show(),n}}function K(){return!this.type||this.type.toLowerCase().indexOf("script")>=0}function G(e){this.owner=e,this._draggable=new i(e.wrapper,{filter:y,group:e.wrapper.id+"-resizing",dragstart:u(this.dragstart,this),drag:u(this.drag,this),dragend:u(this.dragend,this)})}function Y(e,t){this.owner=e,this._draggable=new i(e.wrapper,{filter:t,group:e.wrapper.id+"-moving",dragstart:u(this.dragstart,this),drag:u(this.drag,this),dragend:u(this.dragend,this),dragcancel:u(this.dragcancel,this)}),this._draggable.userEvents.stopPropagation=!1}var n=window.kendo,r=n.ui.Widget,i=n.ui.Draggable,s=e.isPlainObject,o=n._activeElement,u=e.proxy,a=e.extend,f=e.each,l=n.template,c="body",h,p=".kendoWindow",d=".k-window",v=".k-window-title",m=v+"bar",g=".k-window-content",y=".k-resize-handle",b=".k-overlay",w="k-content-frame",E="k-loading",S="k-state-hover",x="k-state-focused",T="k-window-maximized",N=":visible",C="hidden",k="cursor",L="open",A="activate",O="deactivate",M="close",_="refresh",D="resize",P="dragstart",H="dragend",B="error",j="overflow",F="zIndex",I=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",q=".k-i-pin",R=".k-i-unpin",U=q+","+R,z=".k-window-titlebar .k-window-action",W=".k-window-titlebar .k-i-refresh",X=n.isLocalUrl,Q=r.extend({init:function(i,o){var a=this,f,l={},c,h,y,b=!1,w,E,S=o&&o.actions&&!o.actions.length,x;r.fn.init.call(a,i,o),o=a.options,y=o.position,i=a.element,w=o.content,S&&(o.actions=[]),a.appendTo=e(o.appendTo),a._animations(),w&&!s(w)&&(w=o.content={url:w}),i.find("script").filter(K).remove(),!i.parent().is(a.appendTo)&&(y.top===t||y.left===t)&&(i.is(N)?(l=i.offset(),b=!0):(c=i.css("visibility"),h=i.css("display"),i.css({visibility:C,display:""}),l=i.offset(),i.css({visibility:c,display:h})),y.top===t&&(y.top=l.top),y.left===t&&(y.left=l.left));if(!V(o.visible)||o.visible===null)o.visible=i.is(N);f=a.wrapper=i.closest(d);if(!i.is(".k-content")||!f[0])i.addClass("k-window-content k-content"),a._createWindow(i,o),f=a.wrapper=i.closest(d),a._dimensions();a._position(),o.pinned&&a.pin(!0),w&&a.refresh(w),o.visible&&a.toFront(),E=f.children(g),a._tabindex(E),o.visible&&o.modal&&a._overlay(f.is(N)).css({opacity:.5}),f.on("mouseenter"+p,z,u(a._buttonEnter,a)).on("mouseleave"+p,z,u(a._buttonLeave,a)).on("click"+p,"> "+z,u(a._windowActionHandler,a)),E.on("keydown"+p,u(a._keydown,a)).on("focus"+p,u(a._focus,a)).on("blur"+p,u(a._blur,a)),this._resizable(),this._draggable(),x=i.attr("id"),x&&(x+="_wnd_title",f.children(m).children(v).attr("id",x),E.attr({role:"dialog","aria-labelledby":x})),f.add(f.children(".k-resize-handle,"+m)).on("mousedown"+p,u(a.toFront,a)),a.touchScroller=n.touchScroller(i),a._resizeHandler=u(a._onDocumentResize,a),e(window).on("resize",a._resizeHandler),o.visible&&(a.trigger(L),a.trigger(A)),n.notify(a)},_buttonEnter:function(){e(this).addClass(S)},_buttonLeave:function(){e(this).removeClass(S)},_focus:function(){this.wrapper.addClass(x)},_blur:function(){this.wrapper.removeClass(x)},_dimensions:function(){var e=this.wrapper,t=this.options,n=t.width,r=t.height,i=t.maxHeight,s=["minWidth","minHeight","maxWidth","maxHeight"];this.title(t.title);for(var o=0;o<s.length;o++){var u=t[s[o]];u&&u!=Infinity&&e.css(s[o],u)}i&&i!=Infinity&&this.element.css("maxHeight",i),n&&(n.toString().indexOf("%")>0?e.width(n):e.width($(n,t.minWidth,t.maxWidth))),r&&(r.toString().indexOf("%")>0?e.height(r):e.height($(r,t.minHeight,t.maxHeight))),t.visible||e.hide()},_position:function(){var e=this.wrapper,t=this.options.position;t.top===0&&(t.top=t.top.toString()),t.left===0&&(t.left=t.left.toString()),e.css({top:t.top||"",left:t.left||""})},_animations:function(){var e=this.options;e.animation===!1&&(e.animation={open:{effects:{}},close:{hide:!0,effects:{}}})},_resize:function(){n.resize(this.element.children())},_resizable:function(){var t=this.options.resizable,n=this.wrapper;this.resizing&&(n.off("dblclick"+p).children(y).remove(),this.resizing.destroy(),this.resizing=null),t&&(n.on("dblclick"+p,m,u(function(t){e(t.target).closest(".k-window-action").length||this.toggleMaximization()},this)),f("n e s w se sw ne nw".split(" "),function(e,t){n.append(h.resizeHandle(t))}),this.resizing=new G(this)),n=null},_draggable:function(){var e=this.options.draggable;this.dragging&&(this.dragging.destroy(),this.dragging=null),e&&(this.dragging=new Y(this,e.dragHandle||m))},setOptions:function(e){r.fn.setOptions.call(this,e),this._animations(),this._dimensions(),this._position(),this._resizable(),this._draggable()},events:[L,A,O,M,_,D,P,H,B],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:!0}},title:"",actions:["Close"],autoFocus:!0,modal:!1,resizable:!0,draggable:!0,minWidth:90,minHeight:50,maxWidth:Infinity,maxHeight:Infinity,pinned:!1,position:{},content:null,visible:null,height:null,width:null,appendTo:"body"},_closable:function(){return e.inArray("close",e.map(this.options.actions,function(e){return e.toLowerCase()}))>-1},_keydown:function(e){var t=this,r=t.options,i=n.keys,s=e.keyCode,o=t.wrapper,u,a,f=10,l=t.options.isMaximized,c,h,p,d;if(e.target!=e.currentTarget||t._closing)return;s==i.ESC&&t._closable()&&t._close(!1),r.draggable&&!e.ctrlKey&&!l&&(u=n.getOffset(o),s==i.UP?a=o.css("top",u.top-f):s==i.DOWN?a=o.css("top",u.top+f):s==i.LEFT?a=o.css("left",u.left-f):s==i.RIGHT&&(a=o.css("left",u.left+f))),r.resizable&&e.ctrlKey&&!l&&(s==i.UP?(a=!0,h=o.height()-f):s==i.DOWN&&(a=!0,h=o.height()+f),s==i.LEFT?(a=!0,c=o.width()-f):s==i.RIGHT&&(a=!0,c=o.width()+f),a&&(p=$(c,r.minWidth,r.maxWidth),d=$(h,r.minHeight,r.maxHeight),isNaN(p)||(o.width(p),t.options.width=p+"px"),isNaN(d)||(o.height(d),t.options.height=d+"px"),t.resize())),a&&e.preventDefault()},_overlay:function(t){var n=this.appendTo.children(b),r=this.wrapper;return n.length||(n=e("<div class='k-overlay' />")),n.insertBefore(r[0]).toggle(t).css(F,parseInt(r.css(F),10)-1),n},_actionForIcon:function(e){var t=/\bk-i-\w+\b/.exec(e[0].className)[0];return{"k-i-close":"_close","k-i-maximize":"maximize","k-i-minimize":"minimize","k-i-restore":"restore","k-i-refresh":"refresh","k-i-pin":"pin","k-i-unpin":"unpin"}[t]},_windowActionHandler:function(t){if(this._closing)return;var n=e(t.target).closest(".k-window-action").find(".k-icon"),r=this._actionForIcon(n);if(r)return t.preventDefault(),this[r](),!1},_modals:function(){var t=this,n=e(d).filter(function(){var n=e(this),r=t._object(n),i=r&&r.options;return i&&i.modal&&i.visible&&n.is(N)}).sort(function(t,n){return+e(t).css("zIndex")- +e(n).css("zIndex")});return t=null,n},_object:function(e){var t=e.children(g);return t.data("kendoWindow")||t.data("kendo"+this.options.name)},center:function(){var t=this,n=t.options.position,r=t.wrapper,i=e(window),s=0,o=0,u,a;return t.options.isMaximized?t:(t.options.pinned||(s=i.scrollTop(),o=i.scrollLeft()),a=o+Math.max(0,(i.width()-r.width())/2),u=s+Math.max(0,(i.height()-r.height())/2),r.css({left:a,top:u}),n.top=u,n.left=a,t)},title:function(e){var t=this,n=t.wrapper,r=t.options,i=n.children(m),s=i.children(v),o=i.outerHeight();return arguments.length?(e===!1?(n.addClass("k-window-titleless"),i.remove()):(i.length||n.prepend(h.titlebar(a(h,r))),n.css("padding-top",o),i.css("margin-top",-o)),s.text(e),t.options.title=e,t):s.text()},content:function(e){var t=this.wrapper.children(g),r=t.children(".km-scroll-container");return t=r[0]?r:t,V(e)?(n.destroy(this.element.children()),t.empty().html(e),this):t.html()},open:function(){var t=this,r=t.wrapper,i=t.options,s=i.animation.open,o=r.children(g),a;if(!t.trigger(L)){t._closing&&r.kendoStop(!0,!0),t._closing=!1,t.toFront(),i.autoFocus&&t.element.focus(),i.visible=!0;if(i.modal){a=t._overlay(!1),a.kendoStop(!0,!0);if(s.duration&&n.effects.Fade){var f=n.fx(a).fadeIn();f.duration(s.duration||0),f.endValue(.5),f.play()}else a.css("opacity",.5);a.show()}r.is(N)||(o.css(j,C),r.show().kendoStop().kendoAnimate({effects:s.effects,duration:s.duration,complete:u(this._activate,this)}))}return i.isMaximized&&(t._documentScrollTop=e(document).scrollTop(),e("html, body").css(j,C)),t},_activate:function(){this.options.autoFocus&&this.element.focus(),this.trigger(A),this.wrapper.children(g).css(j,"")},_removeOverlay:function(r){var i=this._modals(),s=this.options,o=s.modal&&!i.length,u=s.modal?this._overlay(!0):e(t),a=s.animation.close;if(o)if(!r&&a.duration&&n.effects.Fade){var f=n.fx(u).fadeOut();f.duration(a.duration||0),f.startValue(.5),f.play()}else this._overlay(!1).remove();else i.length&&this._object(i.last())._overlay(!0)},_close:function(t){var n=this,r=n.wrapper,i=n.options,s=i.animation.open,o=i.animation.close;r.is(N)&&!n.trigger(M,{userTriggered:!t})&&(n._closing=!0,i.visible=!1,e(d).each(function(t,n){var i=e(n).children(g);n!=r&&i.find("> ."+w).length>0&&i.children(b).remove()}),this._removeOverlay(),r.kendoStop().kendoAnimate({effects:o.effects||s.effects,reverse:o.reverse===!0,duration:o.duration,complete:u(this._deactivate,this)})),n.options.isMaximized&&(e("html, body").css(j,""),n._documentScrollTop&&n._documentScrollTop>0&&e(document).scrollTop(n._documentScrollTop))},_deactivate:function(){this.wrapper.hide().css("opacity",""),this.trigger(O);var e=this._object(this._modals().last());e&&e.toFront()},close:function(){return this._close(!0),this},_actionable:function(t){return e(t).is(z+","+z+" .k-icon,:input,a")},_shouldFocus:function(t){var n=o(),r=this.element;return this.options.autoFocus&&!e(n).is(r)&&!this._actionable(t)&&(!r.find(n).length||!r.find(t).length)},toFront:function(t){var n=this,r=n.wrapper,i=r[0],s=+r.css(F),o=s,u=t&&t.target||null;e(d).each(function(t,n){var r=e(n),o=r.css(F),u=r.children(g);isNaN(o)||(s=Math.max(+o,s)),n!=i&&u.find("> ."+w).length>0&&u.append(h.overlay)}),(!r[0].style.zIndex||o<s)&&r.css(F,s+2),n.element.find("> .k-overlay").remove();if(n._shouldFocus(u)){n.element.focus();var a=e(window).scrollTop(),f=parseInt(r.position().top,10);f>0&&f<a&&(a>0?e(window).scrollTop(f):r.css("top",a))}return r=null,n},toggleMaximization:function(){return this._closing?this:this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var t=this,n=t.options,r=n.minHeight,i=t.restoreOptions;return!n.isMaximized&&!n.isMinimized?t:(r&&r!=Infinity&&t.wrapper.css("min-height",r),t.wrapper.css({position:n.pinned?"fixed":"absolute",left:i.left,top:i.top,width:i.width,height:i.height}).removeClass(T).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(I).parent().show().end().end().find(U).parent().show(),t.options.width=i.width,t.options.height=i.height,e("html, body").css(j,""),this._documentScrollTop&&this._documentScrollTop>0&&e(document).scrollTop(this._documentScrollTop),n.isMaximized=n.isMinimized=!1,t.resize(),t)},maximize:J("maximize",function(){var t=this,n=t.wrapper,r=n.position();a(t.restoreOptions,{left:r.left,top:r.top}),n.css({left:0,top:0,position:"fixed"}).addClass(T),this._documentScrollTop=e(document).scrollTop(),e("html, body").css(j,C),t.options.isMaximized=!0,t._onDocumentResize()}),minimize:J("minimize",function(){var e=this;e.wrapper.css({height:"",minHeight:""}),e.element.hide(),e.options.isMinimized=!0}),pin:function(t){var n=this,r=e(window),i=n.wrapper,s=parseInt(i.css("top"),10),o=parseInt(i.css("left"),10);if(t||!n.options.pinned&&!n.options.isMaximized)i.css({position:"fixed",top:s-r.scrollTop(),left:o-r.scrollLeft()}),i.children(m).find(q).addClass("k-i-unpin").removeClass("k-i-pin"),n.options.pinned=!0},unpin:function(){var t=this,n=e(window),r=t.wrapper,i=parseInt(r.css("top"),10),s=parseInt(r.css("left"),10);t.options.pinned&&!t.options.isMaximized&&(r.css({position:"",top:i+n.scrollTop(),left:s+n.scrollLeft()}),r.children(m).find(R).addClass("k-i-pin").removeClass("k-i-unpin"),t.options.pinned=!1)},_onDocumentResize:function(){var t=this,n=t.wrapper,r=e(window),i,s;if(!t.options.isMaximized)return;i=r.width(),s=r.height()-parseInt(n.css("padding-top"),10),n.css({width:i,height:s}),t.options.width=i,t.options.height=s,t.resize()},refresh:function(t){var n=this,r=n.options,i=e(n.element),o,f,c;return s(t)||(t={url:t}),t=a({},r.content,t),f=V(r.iframe)?r.iframe:t.iframe,c=t.url,c?(V(f)||(f=!X(c)),f?(o=i.find("."+w)[0],o?o.src=c||o.src:i.html(h.contentFrame(a({},r,{content:t}))),i.find("."+w).unbind("load"+p).on("load"+p,u(this._triggerRefresh,this))):n._ajaxRequest(t)):(t.template&&n.content(l(t.template)({})),n.trigger(_)),i.toggleClass("k-window-iframecontent",f),n},_triggerRefresh:function(){this.trigger(_)},_ajaxComplete:function(){clearTimeout(this._loadingIconTimeout),this.wrapper.find(W).removeClass(E)},_ajaxError:function(e,t){this.trigger(B,{status:t,xhr:e})},_ajaxSuccess:function(e){return function(t){e&&(t=l(e)(t||{})),this.content(t),this.element.prop("scrollTop",0),this.trigger(_)}},_showLoading:function(){this.wrapper.find(W).addClass(E)},_ajaxRequest:function(t){this._loadingIconTimeout=setTimeout(u(this._showLoading,this),100),e.ajax(a({type:"GET",dataType:"html",cache:!1,error:u(this._ajaxError,this),complete:u(this._ajaxComplete,this),success:u(this._ajaxSuccess(t.template),this)},t))},destroy:function(){this.resizing&&this.resizing.destroy(),this.dragging&&this.dragging.destroy(),this.wrapper.off(p).children(g).off(p).end().find(".k-resize-handle,.k-window-titlebar").off(p),e(window).off("resize",this._resizeHandler),clearTimeout(this._loadingIconTimeout),r.fn.destroy.call(this),this.unbind(t),n.destroy(this.wrapper),this._removeOverlay(!0),this.wrapper.empty().remove(),this.wrapper=this.appendTo=this.element=e()},_createWindow:function(){var t=this.element,r=this.options,i,s,o=n.support.isRtl(t);r.scrollable===!1&&t.attr("style","overflow:hidden;"),s=e(h.wrapper(r)),r.title!==!1&&s.append(h.titlebar(a(h,r))),i=t.find("iframe:not(.k-content)").map(function(){var e=this.getAttribute("src");return this.src="",e}),s.toggleClass("k-rtl",o).appendTo(this.appendTo).append(t).find("iframe:not(.k-content)").each(function(e){this.src=i[e]}),s.find(".k-window-title").css(o?"left":"right",s.find(".k-window-actions").outerWidth()+10),t.show(),t.find("[data-role=editor]").each(function(){var t=e(this).data("kendoEditor");t&&t.refresh()}),s=t=null}});h={wrapper:l("<div class='k-widget k-window' />"),action:l("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #</span></a>"),titlebar:l("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #</span><div class='k-window-actions'># for (var i = 0; i < actions.length; i++) { ##= action({ name: actions[i] }) ## } #</div></div>"),overlay:"<div class='k-overlay' />",contentFrame:l("<iframe frameborder='0' title='#= title #' class='"+w+"' "+"src='#= content.url #'>"+"This page requires frames in order to show content"+"</iframe>"),resizeHandle:l("<div class='k-resize-handle k-resize-#= data #'></div>")},G.prototype={dragstart:function(t){var r=this.owner,i=r.wrapper;this.elementPadding=parseInt(r.wrapper.css("padding-top"),10),this.initialCursorPosition=n.getOffset(i,"position"),this.resizeDirection=t.currentTarget.prop("className").replace("k-resize-handle k-resize-",""),this.initialSize={width:i.width(),height:i.height()},this.containerOffset=n.getOffset(r.appendTo),i.append(h.overlay).children(y).not(t.currentTarget).hide(),e(c).css(k,t.currentTarget.css(k))},drag:function(e){var t=this,n=t.owner,r=n.wrapper,i=n.options,s=t.resizeDirection,o=t.containerOffset,u=t.initialCursorPosition,a=t.initialSize,f,l,c,h,p=Math.max(e.x.location,o.left),d=Math.max(e.y.location,o.top);s.indexOf("e")>=0?(f=p-u.left,r.width($(f,i.minWidth,i.maxWidth))):s.indexOf("w")>=0&&(h=u.left+a.width,f=$(h-p,i.minWidth,i.maxWidth),r.css({left:h-f-o.left,width:f})),s.indexOf("s")>=0?(l=d-u.top-t.elementPadding,r.height($(l,i.minHeight,i.maxHeight))):s.indexOf("n")>=0&&(c=u.top+a.height,l=$(c-d,i.minHeight,i.maxHeight),r.css({top:c-l-o.top,height:l})),f&&(n.options.width=f+"px"),l&&(n.options.height=l+"px"),n.resize()},dragend:function(t){var n=this,r=n.owner,i=r.wrapper;return i.find(b).remove().end().children(y).not(t.currentTarget).show(),e(c).css(k,""),r.touchScroller&&r.touchScroller.reset(),t.keyCode==27&&i.css(n.initialCursorPosition).css(n.initialSize),!1},destroy:function(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null}},Y.prototype={dragstart:function(t){var r=this.owner,i=r.element,s=i.find(".k-window-actions"),o=n.getOffset(r.appendTo);r.trigger(P),r.initialWindowPosition=n.getOffset(r.wrapper,"position"),r.startPosition={left:t.x.client-r.initialWindowPosition.left,top:t.y.client-r.initialWindowPosition.top},s.length>0?r.minLeftPosition=s.outerWidth()+parseInt(s.css("right"),10)-i.outerWidth():r.minLeftPosition=20-i.outerWidth(),r.minLeftPosition-=o.left,r.minTopPosition=-o.top,r.wrapper.append(h.overlay).children(y).hide(),e(c).css(k,t.currentTarget.css(k))},drag:function(t){var n=this.owner,r=n.options.position,i=Math.max(t.y.client-n.startPosition.top,n.minTopPosition),s=Math.max(t.x.client-n.startPosition.left,n.minLeftPosition),o={left:s,top:i};e(n.wrapper).css(o),r.top=i,r.left=s},_finishDrag:function(){var t=this.owner;t.wrapper.children(y).toggle(!t.options.isMinimized).end().find(b).remove(),e(c).css(k,"")},dragcancel:function(e){this._finishDrag(),e.currentTarget.closest(d).css(this.owner.initialWindowPosition)},dragend:function(){return this._finishDrag(),this.owner.trigger(H),!1},destroy:function(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null}},n.ui.plugin(Q)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()}),function(e,t){t("kendo.slider",["./kendo.draganddrop"],e)}(function(){return function(e,t){function q(e,t,n){var r=n?" k-slider-horizontal":" k-slider-vertical",i=e.style?e.style:t.attr("style"),s=t.attr("class")?" "+t.attr("class"):"",o="";return e.tickPlacement=="bottomRight"?o=" k-slider-bottomright":e.tickPlacement=="topLeft"&&(o=" k-slider-topleft"),i=i?" style='"+i+"'":"","<div class='k-widget k-slider"+r+s+"'"+i+">"+"<div class='k-slider-wrap"+(e.showButtons?" k-slider-buttons":"")+o+"'></div></div>"}function R(e,t,n){var r="";return t=="increase"?r=n?"k-i-arrow-e":"k-i-arrow-n":r=n?"k-i-arrow-w":"k-i-arrow-s","<a class='k-button k-button-"+t+"'><span class='k-icon "+r+"' title='"+e[t+"ButtonTitle"]+"'>"+e[t+"ButtonTitle"]+"</span></a>"}function U(e,t){var n="<ul class='k-reset k-slider-items'>",r=l.floor($(t/e.smallStep))+1,i;for(i=0;i<r;i++)n+="<li class='k-tick' role='presentation'>&nbsp;</li>";return n+="</ul>",n}function z(e,t){var n=t.is("input")?1:2,r=n==2?e.leftDragHandleTitle:e.dragHandleTitle;return"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div><a href='#' class='k-draghandle' title='"+r+"' role='slider' aria-valuemin='"+e.min+"' aria-valuemax='"+e.max+"' aria-valuenow='"+(n>1?e.selectionStart||e.min:e.value||e.min)+"'>Drag</a>"+(n>1?"<a href='#' class='k-draghandle' title='"+e.rightDragHandleTitle+"'role='slider' aria-valuemin='"+e.min+"' aria-valuemax='"+e.max+"' aria-valuenow='"+(e.selectionEnd||e.max)+"'>Drag</a>":"")+"</div>"}function W(e){return function(t){return t+e}}function X(e){return function(){return e}}function V(e){return(e+"").replace(".",n.cultures.current.numberFormat["."])}function $(e){e=parseFloat(e,10);var t=l.pow(10,P||0);return l.round(e*t)/t}function J(e,n){var r=u(e.getAttribute(n));return r===null&&(r=t),r}function K(e){return typeof e!==B}var n=window.kendo,r=n.ui.Widget,i=n.ui.Draggable,s=e.extend,o=n.format,u=n.parseFloat,a=e.proxy,f=e.isArray,l=Math,c=n.support,h=c.pointers,p=c.msPointers,d="change",v="slide",m=".slider",g="touchstart"+m+" mousedown"+m,y=h?"pointerdown"+m:p?"MSPointerDown"+m:g,b="touchend"+m+" mouseup"+m,w=h?"pointerup":p?"MSPointerUp"+m:b,E="moveSelection",S="keydown"+m,x="click"+m,T="mouseover"+m,N="focus"+m,C="blur"+m,k=".k-draghandle",L=".k-slider-track",A=".k-tick",O="k-state-selected",M="k-state-focused",_="k-state-default",D="k-state-disabled",P=3,H="disabled",B="undefined",j="tabindex",F=n.getTouches,I=r.extend({init:function(e,t){var i=this;r.fn.init.call(i,e,t),t=i.options,i._distance=t.max-t.min,i._isHorizontal=t.orientation=="horizontal",i._isRtl=i._isHorizontal&&n.support.isRtl(e),i._position=i._isHorizontal?"left":"bottom",i._sizeFn=i._isHorizontal?"width":"height",i._outerSize=i._isHorizontal?"outerWidth":"outerHeight",t.tooltip.format=t.tooltip.enabled?t.tooltip.format||"{0}":"{0}",i._createHtml(),i.wrapper=i.element.closest(".k-slider"),i._trackDiv=i.wrapper.find(L),i._setTrackDivWidth(),i._maxSelection=i._trackDiv[i._sizeFn](),i._sliderItemsInit(),i._tabindex(i.wrapper.find(k)),i[t.enabled?"enable":"disable"]();var s=n.support.isRtl(i.wrapper)?-1:1;i._keyMap={37:W(-1*s*t.smallStep),40:W(-t.smallStep),39:W(1*s*t.smallStep),38:W(+t.smallStep),35:X(t.max),36:X(t.min),33:W(+t.largeStep),34:W(-t.largeStep)},n.notify(i)},events:[d,v],options:{enabled:!0,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:!0,format:"{0}"}},_resize:function(){this._setTrackDivWidth(),this.wrapper.find(".k-slider-items").remove(),this._maxSelection=this._trackDiv[this._sizeFn](),this._sliderItemsInit(),this._refresh()},_sliderItemsInit:function(){var e=this,t=e.options,n=e._maxSelection/((t.max-t.min)/t.smallStep),r=e._calculateItemsWidth(l.floor(e._distance/t.smallStep));t.tickPlacement!="none"&&n>=2&&(e._trackDiv.before(U(t,e._distance)),e._setItemsWidth(r),e._setItemsTitle()),e._calculateSteps(r),t.tickPlacement!="none"&&n>=2&&t.largeStep>=t.smallStep&&e._setItemsLargeTick()},getSize:function(){return n.dimensions(this.wrapper)},_setTrackDivWidth:function(){var e=this,t=parseFloat(e._trackDiv.css(e._isRtl?"right":e._position),10)*2;e._trackDiv[e._sizeFn](e.wrapper[e._sizeFn]()-2-t)},_setItemsWidth:function(t){var n=this,r=n.options,i=0,s=t.length-1,o=n.wrapper.find(A),u,a=0,f=2,l=o.length,c=0;for(u=0;u<l-2;u++)e(o[u+1])[n._sizeFn](t[u]);n._isHorizontal?(e(o[i]).addClass("k-first")[n._sizeFn](t[s-1]),e(o[s]).addClass("k-last")[n._sizeFn](t[s])):(e(o[s]).addClass("k-first")[n._sizeFn](t[s]),e(o[i]).addClass("k-last")[n._sizeFn](t[s-1]));if(n._distance%r.smallStep!==0&&!n._isHorizontal){for(u=0;u<t.length;u++)c+=t[u];a=n._maxSelection-c,a+=parseFloat(n._trackDiv.css(n._position),10)+f,n.wrapper.find(".k-slider-items").css("padding-top",a)}},_setItemsTitle:function(){var t=this,n=t.options,r=t.wrapper.find(A),i=n.min,s=r.length,u=t._isHorizontal&&!t._isRtl?0:s-1,a=t._isHorizontal&&!t._isRtl?s:-1,f=t._isHorizontal&&!t._isRtl?1:-1;for(;u-a!==0;u+=f)e(r[u]).attr("title",o(n.tooltip.format,$(i))),i+=n.smallStep},_setItemsLargeTick:function(){var t=this,n=t.options,r=t.wrapper.find(A),i=0,s,o;if(1e3*n.largeStep%(1e3*n.smallStep)===0||t._distance/n.largeStep>=3){t._isHorizontal&&!t._isRtl&&(r=e.makeArray(r).reverse());for(i=0;i<r.length;i++)s=e(r[i]),o=t._values[i],o%n.smallStep===0&&o%n.largeStep===0&&(s.addClass("k-tick-large").html("<span class='k-label'>"+s.attr("title")+"</span>"),i!==0&&i!==r.length-1&&s.css("line-height",s[t._sizeFn]()+"px"))}},_calculateItemsWidth:function(e){var t=this,n=t.options,r=parseFloat(t._trackDiv.css(t._sizeFn))+1,i=r/t._distance,s,o,u;t._distance/n.smallStep-l.floor(t._distance/n.smallStep)>0&&(r-=t._distance%n.smallStep*i),s=r/e,o=[];for(u=0;u<e-1;u++)o[u]=s;return o[e-1]=o[e]=s/2,t._roundWidths(o)},_roundWidths:function(e){var t=0,n=e.length,r;for(r=0;r<n;r++)t+=e[r]-l.floor(e[r]),e[r]=l.floor(e[r]);return t=l.round(t),this._addAdditionalSize(t,e)},_addAdditionalSize:function(e,t){if(e===0)return t;var n=parseFloat(t.length-1)/parseFloat(e==1?e:e-1),r;for(r=0;r<e;r++)t[parseInt(l.round(n*r),10)]+=1;return t},_calculateSteps:function(e){var t=this,n=t.options,r=n.min,i=0,s=l.ceil(t._distance/n.smallStep),o=1,u;s+=t._distance/n.smallStep%1===0?1:0,e.splice(0,0,e[s-2]*2),e.splice(s-1,1,e.pop()*2),t._pixelSteps=[i],t._values=[r];if(s===0)return;while(o<s)i+=(e[o-1]+e[o])/2,t._pixelSteps[o]=i,t._values[o]=r+=n.smallStep,o++;u=t._distance%n.smallStep===0?s-1:s,t._pixelSteps[u]=t._maxSelection,t._values[u]=n.max,t._isRtl&&(t._pixelSteps.reverse(),t._values.reverse())},_getValueFromPosition:function(e,t){var n=this,r=n.options,i=l.max(r.smallStep*(n._maxSelection/n._distance),0),s=0,o=i/2,u;n._isHorizontal?(s=e-t.startPoint,n._isRtl&&(s=n._maxSelection-s)):s=t.startPoint-e;if(n._maxSelection-(parseInt(n._maxSelection%i,10)-3)/2<s)return r.max;for(u=0;u<n._pixelSteps.length;u++)if(l.abs(n._pixelSteps[u]-s)-1<=o)return $(n._values[u])},_getFormattedValue:function(e,t){var r=this,i="",s=r.options.tooltip,u,a,l;return f(e)?(a=e[0],l=e[1]):t&&t.type&&(a=t.selectionStart,l=t.selectionEnd),t&&(u=t.tooltipTemplate),!u&&s.template&&(u=n.template(s.template)),f(e)||t&&t.type?u?i=u({selectionStart:a,selectionEnd:l}):(a=o(s.format,a),l=o(s.format,l),i=a+" - "+l):(t&&(t.val=e),u?i=u({value:e}):i=o(s.format,e)),i},_getDraggableArea:function(){var e=this,t=n.getOffset(e._trackDiv);return{startPoint:e._isHorizontal?t.left:t.top+e._maxSelection,endPoint:e._isHorizontal?t.left+e._maxSelection:t.top}},_createHtml:function(){var e=this,t=e.element,n=e.options,r=t.find("input");r.length==2?(r.eq(0).val(n.selectionStart),r.eq(1).val(n.selectionEnd)):t.val(n.value),t.wrap(q(n,t,e._isHorizontal)).hide(),n.showButtons&&t.before(R(n,"increase",e._isHorizontal)).before(R(n,"decrease",e._isHorizontal)),t.before(z(n,t))},_focus:function(t){var n=this,r=t.target,i=n.value(),s=n._drag;s||(r==n.wrapper.find(k).eq(0)[0]?(s=n._firstHandleDrag,n._activeHandle=0):(s=n._lastHandleDrag,n._activeHandle=1),i=i[n._activeHandle]),e(r).addClass(M+" "+O),s&&(n._activeHandleDrag=s,s.selectionStart=n.options.selectionStart,s.selectionEnd=n.options.selectionEnd,s._updateTooltip(i))},_focusWithMouse:function(t){t=e(t);var n=this,r=t.is(k)?t.index():0;window.setTimeout(function(){n.wrapper.find(k)[r==2?1:0].focus()},1),n._setTooltipTimeout()},_blur:function(t){var n=this,r=n._activeHandleDrag;e(t.target).removeClass(M+" "+O),r&&(r._removeTooltip(),delete n._activeHandleDrag,delete n._activeHandle)},_setTooltipTimeout:function(){var e=this;e._tooltipTimeout=window.setTimeout(function(){var t=e._drag||e._activeHandleDrag;t&&t._removeTooltip()},300)},_clearTooltipTimeout:function(){var e=this;window.clearTimeout(this._tooltipTimeout);var t=e._drag||e._activeHandleDrag;t&&t.tooltipDiv&&t.tooltipDiv.stop(!0,!1).css("opacity",1)}}),Q=I.extend({init:function(n,r){var i=this,o;n.type="text",r=s({},{value:J(n,"value"),min:J(n,"min"),max:J(n,"max"),smallStep:J(n,"step")},r),n=e(n),r&&r.enabled===t&&(r.enabled=!n.is("[disabled]")),I.fn.init.call(i,n,r),r=i.options;if(!K(r.value)||r.value===null)r.value=r.min,n.val(r.min);r.value=l.max(l.min(r.value,r.max),r.min),o=i.wrapper.find(k),new Q.Selection(o,i,r),i._drag=new Q.Drag(o,"",i,r)},options:{name:"Slider",showButtons:!0,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},value:null},enable:function(t){var r=this,i=r.options,s,o;r.disable();if(t===!1)return;r.wrapper.removeClass(D).addClass(_),r.wrapper.find("input").removeAttr(H),s=function(t){var n=F(t)[0];if(!n)return;var i=r._isHorizontal?n.location.pageX:n.location.pageY,s=r._getDraggableArea(),o=e(t.target);if(o.hasClass("k-draghandle")){o.addClass(M+" "+O);return}r._update(r._getValueFromPosition(i,s)),r._focusWithMouse(t.target),r._drag.dragstart(t),t.preventDefault()},r.wrapper.find(A+", "+L).on(y,s).end().on(y,function(){e(document.documentElement).one("selectstart",n.preventDefault)}).on(w,function(){r._drag._end()}),r.wrapper.find(k).attr(j,0).on(b,function(){r._setTooltipTimeout()}).on(x,function(e){r._focusWithMouse(e.target),e.preventDefault()}).on(N,a(r._focus,r)).on(C,a(r._blur,r)),o=a(function(e){var t=r._nextValueByIndex(r._valueIndex+e*1);r._setValueInRange(t),r._drag._updateTooltip(t)},r);if(i.showButtons){var u=a(function(e,t){this._clearTooltipTimeout();if(e.which===1||c.touch&&e.which===0)o(t),this.timeout=setTimeout(a(function(){this.timer=setInterval(function(){o(t)},60)},this),200)},r);r.wrapper.find(".k-button").on(b,a(function(e){this._clearTimer(),r._focusWithMouse(e.target)},r)).on(T,function(t){e(t.currentTarget).addClass("k-state-hover")}).on("mouseout"+m,a(function(t){e(t.currentTarget).removeClass("k-state-hover"),this._clearTimer()},r)).eq(0).on(g,a(function(e){u(e,1)},r)).click(!1).end().eq(1).on(g,a(function(e){u(e,-1)},r)).click(n.preventDefault)}r.wrapper.find(k).off(S,!1).on(S,a(this._keydown,r)),i.enabled=!0},disable:function(){var t=this;t.wrapper.removeClass(_).addClass(D),e(t.element).prop(H,H),t.wrapper.find(".k-button").off(g).on(g,n.preventDefault).off(b).on(b,n.preventDefault).off("mouseleave"+m).on("mouseleave"+m,n.preventDefault).off(T).on(T,n.preventDefault),t.wrapper.find(A+", "+L).off(y).off(w),t.wrapper.find(k).attr(j,-1).off(b).off(S).off(x).off(N).off(C),t.options.enabled=!1},_update:function(e){var t=this,n=t.value()!=e;t.value(e),n&&t.trigger(d,{value:t.options.value})},value:function(e){var t=this,n=t.options;e=$(e);if(isNaN(e))return n.value;e>=n.min&&e<=n.max&&n.value!=e&&(t.element.prop("value",V(e)),n.value=e,t._refreshAriaAttr(e),t._refresh())},_refresh:function(){this.trigger(E,{value:this.options.value})},_refreshAriaAttr:function(e){var t=this,n=t._drag,r;n&&n._tooltipDiv?r=n._tooltipDiv.text():r=t._getFormattedValue(e,null),this.wrapper.find(k).attr("aria-valuenow",e).attr("aria-valuetext",r)},_clearTimer:function(){clearTimeout(this.timeout),clearInterval(this.timer)},_keydown:function(e){var t=this;e.keyCode in t._keyMap&&(t._clearTooltipTimeout(),t._setValueInRange(t._keyMap[e.keyCode](t.options.value)),t._drag._updateTooltip(t.value()),e.preventDefault())},_setValueInRange:function(e){var t=this,n=t.options;e=$(e);if(isNaN(e)){t._update(n.min);return}e=l.max(l.min(e,n.max),n.min),t._update(e)},_nextValueByIndex:function(e){var t=this._values.length;return this._isRtl&&(e=t-1-e),this._values[l.max(0,l.min(e,t-1))]},destroy:function(){var e=this;r.fn.destroy.call(e),e.wrapper.off(m).find(".k-button").off(m).end().find(k).off(m).end().find(A+", "+L).off(m).end(),e._drag.draggable.destroy(),e._drag._removeTooltip(!0)}});Q.Selection=function(e,t,n){function r(r){var i=r-n.min,s=t._valueIndex=l.ceil($(i/n.smallStep)),o=parseInt(t._pixelSteps[s],10),u=t._trackDiv.find(".k-slider-selection"),a=parseInt(e[t._outerSize]()/2,10),f=t._isRtl?2:0;u[t._sizeFn](t._isRtl?t._maxSelection-o:o),e.css(t._position,o-a-f)}r(n.value),t.bind([d,v,E],function(e){r(parseFloat(e.value,10))})},Q.Drag=function(e,t,n,r){var s=this;s.owner=n,s.options=r,s.element=e,s.type=t,s.draggable=new i(e,{distance:0,dragstart:a(s._dragstart,s),drag:a(s.drag,s),dragend:a(s.dragend,s),dragcancel:a(s.dragcancel,s)}),e.click(!1)},Q.Drag.prototype={dragstart:function(e){this.owner._activeDragHandle=this,this.draggable.userEvents.cancel(),this.draggable.userEvents._start(e)},_dragstart:function(t){var n=this,r=n.owner,i=n.options;if(!i.enabled){t.preventDefault();return}this.owner._activeDragHandle=this,r.element.off(T),n.element.addClass(M+" "+O),e(document.documentElement).css("cursor","pointer"),n.dragableArea=r._getDraggableArea(),n.step=l.max(i.smallStep*(r._maxSelection/r._distance),0),n.type?(n.selectionStart=i.selectionStart,n.selectionEnd=i.selectionEnd,r._setZIndex(n.type)):n.oldVal=n.val=i.value,n._removeTooltip(!0),n._createTooltip()},_createTooltip:function(){var t=this,r=t.owner,i=t.options.tooltip,s="",o=e(window),u,a;if(!i.enabled)return;i.template&&(u=t.tooltipTemplate=n.template(i.template)),e(".k-slider-tooltip").remove(),t.tooltipDiv=e("<div class='k-widget k-tooltip k-slider-tooltip'><!-- --></div>").appendTo(document.body),s=r._getFormattedValue(t.val||r.value(),t),t.type||(a="k-callout-"+(r._isHorizontal?"s":"e"),t.tooltipInnerDiv="<div class='k-callout "+a+"'><!-- --></div>",s+=t.tooltipInnerDiv),t.tooltipDiv.html(s),t._scrollOffset={top:o.scrollTop(),left:o.scrollLeft()},t.moveTooltip()},drag:function(e){var t=this,n=t.owner,r=e.x.location,i=e.y.location,s=t.dragableArea.startPoint,o=t.dragableArea.endPoint,u;e.preventDefault(),n._isHorizontal?n._isRtl?t.val=t.constrainValue(r,s,o,r<o):t.val=t.constrainValue(r,s,o,r>=o):t.val=t.constrainValue(i,o,s,i<=o),t.oldVal!=t.val&&(t.oldVal=t.val,t.type?(t.type=="firstHandle"?t.val<t.selectionEnd?t.selectionStart=t.val:t.selectionStart=t.selectionEnd=t.val:t.val>t.selectionStart?t.selectionEnd=t.val:t.selectionStart=t.selectionEnd=t.val,u={values:[t.selectionStart,t.selectionEnd],value:[t.selectionStart,t.selectionEnd]}):u={value:t.val},n.trigger(v,u)),t._updateTooltip(t.val)},_updateTooltip:function(e){var t=this,n=t.options,r=n.tooltip,i="";if(!r.enabled)return;t.tooltipDiv||t._createTooltip(),i=t.owner._getFormattedValue($(e),t),t.type||(i+=t.tooltipInnerDiv),t.tooltipDiv.html(i),t.moveTooltip()},dragcancel:function(){return this.owner._refresh(),e(document.documentElement).css("cursor",""),this._end()},dragend:function(){var t=this,n=t.owner;return e(document.documentElement).css("cursor",""),t.type?n._update(t.selectionStart,t.selectionEnd):(n._update(t.val),t.draggable.userEvents._disposeAll()),t._end()},_end:function(){var e=this,t=e.owner;return t._focusWithMouse(e.element),t.element.on(T),!1},_removeTooltip:function(t){var n=this,r=n.owner;n.tooltipDiv&&r.options.tooltip.enabled&&r.options.enabled&&(t?(n.tooltipDiv.remove(),n.tooltipDiv=null):n.tooltipDiv.fadeOut("slow",function(){e(this).remove(),n.tooltipDiv=null}))},moveTooltip:function(){var t=this,r=t.owner,i=0,s=0,o=t.element,u=n.getOffset(o),a=8,f=e(window),l=t.tooltipDiv.find(".k-callout"),c=t.tooltipDiv.outerWidth(),h=t.tooltipDiv.outerHeight(),p,d,v,m;t.type?(p=r.wrapper.find(k),u=n.getOffset(p.eq(0)),d=n.getOffset(p.eq(1)),r._isHorizontal?(i=d.top,s=u.left+(d.left-u.left)/2):(i=u.top+(d.top-u.top)/2,s=d.left),m=p.eq(0).outerWidth()+2*a):(i=u.top,s=u.left,m=o.outerWidth()+2*a),r._isHorizontal?(s-=parseInt((c-o[r._outerSize]())/2,10),i-=h+l.height()+a):(i-=parseInt((h-o[r._outerSize]())/2,10),s-=c+l.width()+a),r._isHorizontal?(v=t._flip(i,h,m,f.outerHeight()+t._scrollOffset.top),i+=v,s+=t._fit(s,c,f.outerWidth()+t._scrollOffset.left)):(v=t._flip(s,c,m,f.outerWidth()+t._scrollOffset.left),i+=t._fit(i,h,f.outerHeight()+t._scrollOffset.top),s+=v),v>0&&l&&(l.removeClass(),l.addClass("k-callout k-callout-"+(r._isHorizontal?"n":"w"))),t.tooltipDiv.css({top:i,left:s})},_fit:function(e,t,n){var r=0;return e+t>n&&(r=n-(e+t)),e<0&&(r=-e),r},_flip:function(e,t,n,r){var i=0;return e+t>r&&(i+=-(n+t)),e+i<0&&(i+=n+t),i},constrainValue:function(e,t,n,r){var i=this,s=0;return t<e&&e<n?s=i.owner._getValueFromPosition(e,i.dragableArea):r?s=i.options.max:s=i.options.min,s}},n.ui.plugin(Q);var G=I.extend({init:function(n,r){var i=this,o=e(n).find("input"),u=o.eq(0)[0],a=o.eq(1)[0];u.type="text",a.type="text",r=s({},{selectionStart:J(u,"value"),min:J(u,"min"),max:J(u,"max"),smallStep:J(u,"step")},{selectionEnd:J(a,"value"),min:J(a,"min"),max:J(a,"max"),smallStep:J(a,"step")},r),r&&r.enabled===t&&(r.enabled=!o.is("[disabled]")),I.fn.init.call(i,n,r),r=i.options;if(!K(r.selectionStart)||r.selectionStart===null)r.selectionStart=r.min,o.eq(0).val(r.min);if(!K(r.selectionEnd)||r.selectionEnd===null)r.selectionEnd=r.max,o.eq(1).val(r.max);var f=i.wrapper.find(k);new G.Selection(f,i,r),i._firstHandleDrag=new Q.Drag(f.eq(0),"firstHandle",i,r),i._lastHandleDrag=new Q.Drag(f.eq(1),"lastHandle",i,r)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},selectionStart:null,selectionEnd:null},enable:function(t){var r=this,i=r.options,s;r.disable();if(t===!1)return;r.wrapper.removeClass(D).addClass(_),r.wrapper.find("input").removeAttr(H),s=function(t){var n=F(t)[0];if(!n)return;var s=r._isHorizontal?n.location.pageX:n.location.pageY,o=r._getDraggableArea(),u=r._getValueFromPosition(s,o),a=e(t.target),f,l,c;if(a.hasClass("k-draghandle")){a.addClass(M+" "+O);return}u<i.selectionStart?(f=u,l=i.selectionEnd,c=r._firstHandleDrag):u>r.selectionEnd?(f=i.selectionStart,l=u,c=r._lastHandleDrag):u-i.selectionStart<=i.selectionEnd-u?(f=u,l=i.selectionEnd,c=r._firstHandleDrag):(f=i.selectionStart,l=u,c=r._lastHandleDrag),c.dragstart(t),r._setValueInRange(f,l),r._focusWithMouse(c.element)},r.wrapper.find(A+", "+L).on(y,s).end().on(y,function(){e(document.documentElement).one("selectstart",n.preventDefault)}).on(w,function(){r._activeDragHandle&&r._activeDragHandle._end()}),r.wrapper.find(k).attr(j,0).on(b,function(){r._setTooltipTimeout()}).on(x,function(e){r._focusWithMouse(e.target),e.preventDefault()}).on(N,a(r._focus,r)).on(C,a(r._blur,r)),r.wrapper.find(k).off(S,n.preventDefault).eq(0).on(S,a(function(e){this._keydown(e,"firstHandle")},r)).end().eq(1).on(S,a(function(e){this._keydown(e,"lastHandle")},r)),r.options.enabled=!0},disable:function(){var e=this;e.wrapper.removeClass(_).addClass(D),e.wrapper.find("input").prop(H,H),e.wrapper.find(A+", "+L).off(y).off(w),e.wrapper.find(k).attr(j,-1).off(b).off(S).off(x).off(N).off(C),e.options.enabled=!1},_keydown:function(e,t){var n=this,r=n.options.selectionStart,i=n.options.selectionEnd,s,o,u;e.keyCode in n._keyMap&&(n._clearTooltipTimeout(),t=="firstHandle"?(u=n._activeHandleDrag=n._firstHandleDrag,r=n._keyMap[e.keyCode](r),r>i&&(i=r)):(u=n._activeHandleDrag=n._lastHandleDrag,i=n._keyMap[e.keyCode](i),r>i&&(r=i)),n._setValueInRange(r,i),s=Math.max(r,n.options.selectionStart),o=Math.min(i,n.options.selectionEnd),u.selectionEnd=Math.max(o,n.options.selectionStart),u.selectionStart=Math.min(s,n.options.selectionEnd),u._updateTooltip(n.value()[n._activeHandle]),e.preventDefault())},_update:function(e,t){var n=this,r=n.value(),i=r[0]!=e||r[1]!=t;n.value([e,t]),i&&n.trigger(d,{values:[e,t],value:[e,t]})},value:function(e){return e&&e.length?this._value(e[0],e[1]):this._value()},_value:function(e,t){var n=this,r=n.options,i=r.selectionStart,s=r.selectionEnd;if(isNaN(e)&&isNaN(t))return[i,s];e=$(e),t=$(t),e>=r.min&&e<=r.max&&t>=r.min&&t<=r.max&&e<=t&&(i!=e||s!=t)&&(n.element.find("input").eq(0).prop("value",V(e)).end().eq(1).prop("value",V(t)),r.selectionStart=e,r.selectionEnd=t,n._refresh(),n._refreshAriaAttr(e,t))},values:function(e,t){return f(e)?this._value(e[0],e[1]):this._value(e,t)},_refresh:function(){var e=this,t=e.options;e.trigger(E,{values:[t.selectionStart,t.selectionEnd],value:[t.selectionStart,t.selectionEnd]}),t.selectionStart==t.max&&t.selectionEnd==t.max&&e._setZIndex("firstHandle")},_refreshAriaAttr:function(e,t){var n=this,r=n.wrapper.find(k),i=n._activeHandleDrag,s;s=n._getFormattedValue([e,t],i),r.eq(0).attr("aria-valuenow",e),r.eq(1).attr("aria-valuenow",t),r.attr("aria-valuetext",s)},_setValueInRange:function(e,t){var n=this.options;e=l.max(l.min(e,n.max),n.min),t=l.max(l.min(t,n.max),n.min),e==n.max&&t==n.max&&this._setZIndex("firstHandle"),this._update(l.min(e,t),l.max(e,t))},_setZIndex:function(t){this.wrapper.find(k).each(function(n){e(this).css("z-index",t=="firstHandle"?1-n:n)})},destroy:function(){var e=this;r.fn.destroy.call(e),e.wrapper.off(m).find(A+", "+L).off(m).end().find(k).off(m),e._firstHandleDrag.draggable.destroy(),e._lastHandleDrag.draggable.destroy()}});G.Selection=function(e,t,n){function r(r){r=r||[];var s=r[0]-n.min,o=r[1]-n.min,u=l.ceil($(s/n.smallStep)),a=l.ceil($(o/n.smallStep)),f=t._pixelSteps[u],c=t._pixelSteps[a],h=parseInt(e.eq(0)[t._outerSize]()/2,10),p=t._isRtl?2:0;e.eq(0).css(t._position,f-h-p).end().eq(1).css(t._position,c-h-p),i(f,c)}function i(e,n){var r,i,s=t._trackDiv.find(".k-slider-selection");r=l.abs(e-n),s[t._sizeFn](r),t._isRtl?(i=l.max(e,n),s.css("right",t._maxSelection-i-1)):(i=l.min(e,n),s.css(t._position,i-1))}r(t.value()),t.bind([d,v,E],function(e){r(e.values)})},n.ui.plugin(G)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()}),function(e,t){t("kendo.colorpicker",["./kendo.core","./kendo.popup","./kendo.slider","./kendo.userevents"],e)}(function(){return function(e,t,n){function b(e,t,n){n=L(n),n&&!n.equals(e.color())&&(t=="change"&&(e._value=n),n.a!=1?n=n.toCssRgba():n=n.toCss(),e.trigger(t,{value:n}))}function S(e,t,n){n||(n="0"),e=e.toString(16);while(t>e.length)e="0"+e;return e}function x(e){return parseFloat((+e).toFixed(3))}function L(e,r){if(e==null||e=="transparent")return null;if(e instanceof T)return e;var i=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e);if(i)return new C(t(i[1],16),t(i[2],16),t(i[3],16),1);i=/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(e);if(i)return new C(t(i[1]+i[1],16),t(i[2]+i[2],16),t(i[3]+i[3],16),1);i=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(e);if(i)return new C(t(i[1],10),t(i[2],10),t(i[3],10),1);i=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(e);if(i)return new C(t(i[1],10),t(i[2],10),t(i[3],10),parseFloat(i[4]));i=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(e);if(i)return new N(parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])/100,1);i=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(e);if(i)return new N(parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])/100,parseFloat(i[4]));if(!r)throw new Error("Cannot parse color: "+e);return n}function A(e,t,n){e=Array.prototype.slice.call(e);var r=e.length,i=e.indexOf(t);return i<0?n<0?e[r-1]:e[0]:(i+=n,i<0?i+=r:i%=r,e[i])}function M(e){e.preventDefault()}function _(e,t){return function(){return e.apply(t,arguments)}}var r=window.kendo,i=r.Class,s=r.ui,o=s.Widget,u=r.keys,a="background-color",f="k-state-selected",l="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7",c="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",h={apply:"Apply",cancel:"Cancel"},p=".kendoColorTools",d="click"+p,v="keydown"+p,m=r.support.browser,g=m.msie&&m.version<9,y=o.extend({init:function(e,t){var n=this,r;o.fn.init.call(n,e,t),e=n.element,t=n.options,n._value=t.value=L(t.value),n._tabIndex=e.attr("tabIndex")||0,r=n._ariaId=t.ariaId,r&&e.attr("aria-labelledby",r),t._standalone&&(n._triggerSelect=n._triggerChange)},options:{name:"ColorSelector",value:null,_standalone:!0},events:["change","select","cancel"],color:function(e){return e!==n&&(this._value=L(e),this._updateUI(this._value)),this._value},value:function(e){return e=this.color(e),e&&(this.options.opacity?e=e.toCssRgba():e=e.toCss()),e||null},enable:function(t){arguments.length===0&&(t=!0),e(".k-disabled-overlay",this.wrapper).remove(),t||this.wrapper.append("<div class='k-disabled-overlay'></div>"),this._onEnable(t)},_select:function(e,t){var n=this._value;e=this.color(e),t||(this.element.trigger("blur"),e.equals(n)?this._standalone||this.trigger("cancel"):this.trigger("change",{value:this.value()}))},_triggerSelect:function(e){b(this,"select",e)},_triggerChange:function(e){b(this,"change",e)},destroy:function(){this.element&&this.element.off(p),this.wrapper&&this.wrapper.off(p).find("*").off(p),this.wrapper=null,o.fn.destroy.call(this)},_updateUI:e.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}}),w=y.extend({init:function(t,n){var i=this;y.fn.init.call(i,t,n),t=i.wrapper=i.element,n=i.options;var s=n.palette;s=="websafe"?(s=c,n.columns=18):s=="basic"&&(s=l),typeof s=="string"&&(s=s.split(",")),e.isArray(s)&&(s=e.map(s,function(e){return L(e)})),i._selectedID=(n.ariaId||r.guid())+"_selected",t.addClass("k-widget k-colorpalette").attr("role","grid").attr("aria-readonly","true").append(e(i._template({colors:s,columns:n.columns,tileSize:n.tileSize,value:i._value,id:n.ariaId}))).on(d,".k-item",function(t){i._select(e(t.currentTarget).css(a))}).attr("tabIndex",i._tabIndex).on(v,_(i._keydown,i));var o=n.tileSize,u,f;if(o){if(/number|string/.test(typeof o))u=f=parseFloat(o);else{if(typeof o!="object")throw new Error("Unsupported value for the 'tileSize' argument");u=parseFloat(o.width),f=parseFloat(o.height)}t.find(".k-item").css({width:u,height:f})}},focus:function(){this.wrapper.focus()},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(e){e?this.wrapper.attr("tabIndex",this._tabIndex):this.wrapper.removeAttr("tabIndex")},_keydown:function(t){var n,r=this.wrapper,i=r.find(".k-item"),s=i.filter("."+f).get(0),o=t.keyCode;o==u.LEFT?n=A(i,s,-1):o==u.RIGHT?n=A(i,s,1):o==u.DOWN?n=A(i,s,this.options.columns):o==u.UP?n=A(i,s,-this.options.columns):o==u.ENTER?(M(t),s&&this._select(e(s).css(a))):o==u.ESC&&this._cancel();if(n){M(t),this._current(n);try{var l=L(n.css(a));this._triggerSelect(l)}catch(c){}}},_current:function(t){this.wrapper.find("."+f).removeClass(f).attr("aria-selected",!1).removeAttr("id"),e(t).addClass(f).attr("aria-selected",!0).attr("id",this._selectedID),this.element.removeAttr("aria-activedescendant").attr("aria-activedescendant",this._selectedID)},_updateUI:function(t){var n=null;this.wrapper.find(".k-item").each(function(){var r=L(e(this).css(a));if(r&&r.equals(t))return n=this,!1}),this._current(n)},_template:r.template('<table class="k-palette k-reset" role="presentation"><tr role="row"># for (var i = 0; i < colors.length; ++i) { ## var selected = colors[i].equals(value); ## if (i && i % columns == 0) { # </tr><tr role="row"> # } #<td role="gridcell" unselectable="on" style="background-color:#= colors[i].toCss() #"#= selected ? " aria-selected=true" : "" # #=(id && i === 0) ? "id=\\""+id+"\\" " : "" # class="k-item#= selected ? " '+f+'" : "" #" '+'aria-label="#= colors[i].toCss() #"></td>'+"# } #"+"</tr></table>")}),E=y.extend({init:function(t,n){var r=this;y.fn.init.call(r,t,n),n=r.options,t=r.element,r.wrapper=t.addClass("k-widget k-flatcolorpicker").append(r._template(n)),r._hueElements=e(".k-hsv-rectangle, .k-transparency-slider .k-slider-track",t),r._selectedColor=e(".k-selected-color-display",t),r._colorAsText=e("input.k-color-value",t),r._sliders(),r._hsvArea(),r._updateUI(r._value||new N(1,0,0,1)),t.find("input.k-color-value").on(v,function(t){var n=this;if(t.keyCode==u.ENTER)try{var i=L(n.value),s=r.color();r._select(i,i.equals(s))}catch(o){e(n).addClass("k-state-error")}else r.options.autoupdate&&setTimeout(function(){var e=L(n.value,!0);e&&r._updateUI(e,!0)},10)}).end().on(d,".k-controls button.apply",function(){r._select(r._getHSV())}).on(d,".k-controls button.cancel",function(){r._updateUI(r.color()),r._cancel()}),g&&r._applyIEFilter()},destroy:function(){this._hueSlider.destroy(),this._opacitySlider&&this._opacitySlider.destroy(),this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null,y.fn.destroy.call(this)},options:{name:"FlatColorPicker",opacity:!1,buttons:!1,input:!0,preview:!0,autoupdate:!0,messages:h},_applyIEFilter:function(){var e=this.element.find(".k-hue-slider .k-slider-track")[0],t=e.currentStyle.backgroundImage;t=t.replace(/^url\([\'\"]?|[\'\"]?\)$/g,""),e.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"', sizingMethod='scale')"},_sliders:function(){function n(t){e._updateUI(e._getHSV(t.value,null,null,null))}function r(t){e._updateUI(e._getHSV(null,null,null,t.value/100))}var e=this,t=e.element;e._hueSlider=t.find(".k-hue-slider").kendoSlider({min:0,max:359,tickPlacement:"none",showButtons:!1,slide:n,change:n}).data("kendoSlider"),e._opacitySlider=t.find(".k-transparency-slider").kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:!1,slide:r,change:r}).data("kendoSlider")},_hsvArea:function(){function s(t,n){var r=this.offset,i=t-r.left,s=n-r.top,o=this.width,u=this.height;i=i<0?0:i>o?o:i,s=s<0?0:s>u?u:s,e._svChange(i/o,1-s/u)}var e=this,t=e.element,n=t.find(".k-hsv-rectangle"),i=n.find(".k-draghandle").attr("tabIndex",0).on(v,_(e._keydown,e));e._hsvEvents=new r.UserEvents(n,{global:!0,press:function(e){this.offset=r.getOffset(n),this.width=n.width(),this.height=n.height(),i.focus(),s.call(this,e.x.location,e.y.location)},start:function(){n.addClass("k-dragging"),i.focus()},move:function(e){e.preventDefault(),s.call(this,e.x.location,e.y.location)},end:function(){n.removeClass("k-dragging")}}),e._hsvRect=n,e._hsvHandle=i},_onEnable:function(e){this._hueSlider.enable(e),this._opacitySlider&&this._opacitySlider.enable(e),this.wrapper.find("input").attr("disabled",!e);var t=this._hsvRect.find(".k-draghandle");e?t.attr("tabIndex",this._tabIndex):t.removeAttr("tabIndex")},_keydown:function(e){function n(n,r){var i=t._getHSV();i[n]+=r*(e.shiftKey?.01:.05),i[n]<0&&(i[n]=0),i[n]>1&&(i[n]=1),t._updateUI(i),M(e)}function r(n){var r=t._getHSV();r.h+=n*(e.shiftKey?1:5),r.h<0&&(r.h=0),r.h>359&&(r.h=359),t._updateUI(r),M(e)}var t=this;switch(e.keyCode){case u.LEFT:e.ctrlKey?r(-1):n("s",-1);break;case u.RIGHT:e.ctrlKey?r(1):n("s",1);break;case u.UP:n(e.ctrlKey&&t._opacitySlider?"a":"v",1);break;case u.DOWN:n(e.ctrlKey&&t._opacitySlider?"a":"v",-1);break;case u.ENTER:t._select(t._getHSV());break;case u.F2:t.wrapper.find("input.k-color-value").focus().select();break;case u.ESC:t._cancel()}},focus:function(){this._hsvHandle.focus()},_getHSV:function(e,t,n,r){var i=this._hsvRect,s=i.width(),o=i.height(),u=this._hsvHandle.position();return e==null&&(e=this._hueSlider.value()),t==null&&(t=u.left/s),n==null&&(n=1-u.top/o),r==null&&(r=this._opacitySlider?this._opacitySlider.value()/100:1),new k(e,t,n,r)},_svChange:function(e,t){var n=this._getHSV(null,e,t,null);this._updateUI(n)},_updateUI:function(e,t){var n=this,r=n._hsvRect;if(!e)return;this._colorAsText.removeClass("k-state-error"),n._selectedColor.css(a,e.toDisplay()),t||n._colorAsText.val(n._opacitySlider?e.toCssRgba():e.toCss()),n._triggerSelect(e),e=e.toHSV(),n._hsvHandle.css({left:e.s*r.width()+"px",top:(1-e.v)*r.height()+"px"}),n._hueElements.css(a,(new k(e.h,1,1,1)).toCss()),n._hueSlider.value(e.h),n._opacitySlider&&n._opacitySlider.value(100*e.a)},_selectOnHide:function(){return this.options.buttons?null:this._getHSV()},_template:r.template('# if (preview) { #<div class="k-selected-color"><div class="k-selected-color-display"><input class="k-color-value" #= !data.input ? \'style="visibility: hidden;"\' : "" #></div></div># } #<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-draghandle"></div></div><input class="k-hue-slider" /># if (opacity) { #<input class="k-transparency-slider" /># } ## if (buttons) { #<div unselectable="on" class="k-controls"><button class="k-button apply">#: messages.apply #</button> <button class="k-button cancel">#: messages.cancel #</button></div># } #')}),T=i.extend({toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var e=this.toBytes();return"rgba("+e.r+", "+e.g+", "+e.b+", "+x(this.a)+")"},toDisplay:function(){return g?this.toCss():this.toCssRgba()},equals:function(e){return e===this||e!==null&&this.toCssRgba()==L(e).toCssRgba()},diff:function(e){if(e==null)return NaN;var t=this.toBytes();return e=e.toBytes(),Math.sqrt(Math.pow((t.r-e.r)*.3,2)+Math.pow((t.g-e.g)*.59,2)+Math.pow((t.b-e.b)*.11,2))},clone:function(){var e=this.toBytes();return e===this&&(e=new C(e.r,e.g,e.b,e.a)),e}}),N=T.extend({init:function(e,t,n,r){this.r=e,this.g=t,this.b=n,this.a=r},toHSV:function(){var e,t,n,r,i,s,o=this.r,u=this.g,a=this.b;return e=Math.min(o,u,a),t=Math.max(o,u,a),s=t,n=t-e,n===0?new k(0,0,s,this.a):(t!==0?(i=n/t,o==t?r=(u-a)/n:u==t?r=2+(a-o)/n:r=4+(o-u)/n,r*=60,r<0&&(r+=360)):(i=0,r=-1),new k(r,i,s,this.a))},toBytes:function(){return new C(this.r*255,this.g*255,this.b*255,this.a)}}),C=N.extend({init:function(e,t,n,r){this.r=Math.round(e),this.g=Math.round(t),this.b=Math.round(n),this.a=r},toRGB:function(){return new N(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHex:function(){return S(this.r,2)+S(this.g,2)+S(this.b,2)},toBytes:function(){return this}}),k=T.extend({init:function(e,t,n,r){this.h=e,this.s=t,this.v=n,this.a=r},toRGB:function(){var e=this.h,t=this.s,n=this.v,r,i,s,o,u,a,f,l;if(t===0)i=s=o=n;else{e/=60,r=Math.floor(e),u=e-r,a=n*(1-t),f=n*(1-t*u),l=n*(1-t*(1-u));switch(r){case 0:i=n,s=l,o=a;break;case 1:i=f,s=n,o=a;break;case 2:i=a,s=n,o=l;break;case 3:i=a,s=f,o=n;break;case 4:i=l,s=a,o=n;break;default:i=n,s=a,o=f}}return new N(i,s,o,this.a)},toBytes:function(){return this.toRGB().toBytes()}}),O=o.extend({init:function(t,n){var r=this;o.fn.init.call(r,t,n),n=r.options,t=r.element;var i=t.attr("value")||t.val();i?i=L(i,!0):i=L(n.value,!0),r._value=n.value=i;var s=r.wrapper=e(r._template(n));t.hide().after(s),t.is("input")&&t.appendTo(s),r._tabIndex=t.attr("tabIndex")||0,r.enable(!t.attr("disabled"));var u=t.attr("accesskey");u&&(t.attr("accesskey",null),s.attr("accesskey",u)),r.bind("activate",function(e){e.isDefaultPrevented()||r.toggle()}),r._updateUI(i)},destroy:function(){this.wrapper.off(p).find("*").off(p),this._popup&&(this._selector.destroy(),this._popup.destroy()),this._selector=this._popup=this.wrapper=null,o.fn.destroy.call(this)},enable:function(e){var t=this,n=t.wrapper,r=n.children(".k-picker-wrap"),i=r.find(".k-select");arguments.length===0&&(e=!0),t.element.attr("disabled",!e),n.attr("aria-disabled",!e),i.off(p).on("mousedown"+p,M),n.addClass("k-state-disabled").removeAttr("tabIndex").add("*",n).off(p),e&&n.removeClass("k-state-disabled").attr("tabIndex",t._tabIndex).on("mouseenter"+p,function(){r.addClass("k-state-hover")}).on("mouseleave"+p,function(){r.removeClass("k-state-hover")}).on("focus"+p,function(){r.addClass("k-state-focused")}).on("blur"+p,function(){r.removeClass("k-state-focused")}).on(v,_(t._keydown,t)).on(d,".k-icon",_(t.toggle,t)).on(d,t.options.toolIcon?".k-tool-icon":".k-selected-color",function(){t.trigger("activate")})},_template:r.template('<span role="textbox" aria-haspopup="true" class="k-widget k-colorpicker k-header"><span class="k-picker-wrap k-state-default"># if (toolIcon) { #<span class="k-tool-icon #= toolIcon #"><span class="k-selected-color"></span></span># } else { #<span class="k-selected-color"></span># } #<span class="k-select" unselectable="on"><span class="k-icon k-i-arrow-s" unselectable="on"></span></span></span></span>'),options:{name:"ColorPicker",palette:null,columns:10,toolIcon:null,value:null,messages:h,opacity:!1,buttons:!0,preview:!0,ARIATemplate:'Current selected color is #=data || ""#'},events:["activate","change","select","open","close"],open:function(){this._getPopup().open()},close:function(){this._getPopup().close()},toggle:function(){this._getPopup().toggle()},color:y.fn.color,value:y.fn.value,_select:y.fn._select,_triggerSelect:y.fn._triggerSelect,_isInputTypeColor:function(){var e=this.element[0];return/^input$/i.test(e.tagName)&&/^color$/i.test(e.type)},_updateUI:function(e){var t="";e&&(this._isInputTypeColor()||e.a==1?t=e.toCss():t=e.toCssRgba(),this.element.val(t)),this._ariaTemplate||(this._ariaTemplate=r.template(this.options.ARIATemplate)),this.wrapper.attr("aria-label",this._ariaTemplate(t)),this._triggerSelect(e),this.wrapper.find(".k-selected-color").css(a,e?e.toDisplay():"transparent")},_keydown:function(e){var t=e.keyCode;if(this._getPopup().visible())t==u.ESC?this._selector._cancel():this._selector._keydown(e),M(e);else if(t==u.ENTER||t==u.DOWN)this.open(),M(e)},_getPopup:function(){var t=this,n=t._popup;if(!n){var i=t.options,s;i.palette?s=w:s=E,i._standalone=!1,delete i.select,delete i.change,delete i.cancel;var o=r.guid(),u=t._selector=new s(e('<div id="'+o+'"/>').appendTo(document.body),i);t.wrapper.attr("aria-owns",o),t._popup=n=u.wrapper.kendoPopup({anchor:t.wrapper}).data("kendoPopup"),u.bind({select:function(e){t._updateUI(L(e.value))},change:function(){t._select(u.color()),t.close()},cancel:function(){t.close()}}),n.bind({close:function(e){if(t.trigger("close")){e.preventDefault();return}t.wrapper.children(".k-picker-wrap").removeClass("k-state-focused");var n=u._selectOnHide();n?t._select(n):(t.wrapper.focus(),t._updateUI(t.color()))},open:function(e){t.trigger("open")?e.preventDefault():t.wrapper.children(".k-picker-wrap").addClass("k-state-focused")},activate:function(){u._select(t.color(),!0),u.focus(),t.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}})}return n}});s.plugin(w),s.plugin(E),s.plugin(O),r.parseColor=L,r.Color={fromBytes:function(e,t,n,r){return new C(e,t,n,r!=null?r:1)},fromRGB:function(e,t,n,r){return new N(e,t,n,r!=null?r:1)},fromHSV:function(e,t,n,r){return new k(e,t,n,r!=null?r:1)}}}(jQuery,parseInt),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()}),function(e,t){t("kendo.calendar",["./kendo.core"],e)}(function(){return function(e,t){function tt(e,t,n,r){var i=e.getFullYear(),s=t.getFullYear(),o=n.getFullYear(),u;return i-=i%r,u=i+(r-1),i<s&&(i=s),u>o&&(u=o),i+"-"+u}function nt(e){var t=0,n,r=e.min,i=e.max,s=e.start,o=e.setter,u=e.build,a=e.cells||12,f=e.perRow||4,l=e.content||d,c=e.empty||v,h=e.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';for(;t<a;t++)t>0&&t%f===0&&(h+='</tr><tr role="row">'),n=u(s,t),h+=ot(s,r,i)?l(n):c(n),o(s,1);return h+"</tr></tbody></table>"}function rt(e,t,n){var r=e.getFullYear(),i=t.getFullYear(),s=i,o=0;return n&&(i-=i%n,s=i-i%n+n-1),r>s?o=1:r<i&&(o=-1),o}function it(){var e=new G;return new G(e.getFullYear(),e.getMonth(),e.getDate())}function st(e,t,n){var r=it();return e&&(r=new G(+e)),t>r?r=new G(+t):n<r&&(r=new G(+n)),r}function ot(e,t,n){return+e>=+t&&+e<=+n}function ut(e,t){return e.slice(t).concat(e.slice(0,t))}function at(e,t,n){t=t instanceof G?t.getFullYear():e.getFullYear()+n*t,e.setFullYear(t)}function ft(t){e(this).toggleClass(O,q.indexOf(t.type)>-1||t.type==F)}function lt(e){e.preventDefault()}function ct(e){return c(e).calendars.standard}function ht(e){var n=Y[e.start],r=Y[e.depth],i=c(e.culture);e.format=f(e.format||i.calendars.standard.patterns.d),isNaN(n)&&(n=0,e.start=N);if(r===t||r>n)e.depth=N;e.dates||(e.dates=[])}function pt(e){g&&e.find("*").attr("unselectable","on")}function dt(e,t){for(var n=0,r=t.length;n<r;n++)if(e===+t[n])return!0;return!1}function vt(e,t){return e?e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate():!1}function mt(e,t){return e?e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth():!1}var n=window.kendo,r=n.support,i=n.ui,s=i.Widget,o=n.keys,u=n.parseDate,a=n.date.adjustDST,f=n._extractFormat,l=n.template,c=n.getCulture,h=n.support.transitions,p=h?h.css+"transform-origin":"",d=l('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:!1}),v=l('<td role="gridcell">&nbsp;</td>',{useWithBlock:!1}),m=n.support.browser,g=m.msie&&m.version<9,y=".kendoCalendar",b="click"+y,w="keydown"+y,E="id",S="min",x="left",T="slideIn",N="month",C="century",k="change",L="navigate",A="value",O="k-state-hover",M="k-state-disabled",_="k-state-focused",D="k-other-month",P=' class="'+D+'"',H="k-nav-today",B="td:has(.k-link)",j="blur"+y,F="focus",I=F+y,q=r.touch?"touchstart":"mouseenter",R=r.touch?"touchstart"+y:"mouseenter"+y,U=r.touch?"touchend"+y+" touchmove"+y:"mouseleave"+y,z=6e4,W=864e5,X="_prevArrow",V="_nextArrow",$="aria-disabled",J="aria-selected",K=e.proxy,Q=e.extend,G=Date,Y={month:0,year:1,decade:2,century:3},Z=s.extend({init:function(t,r){var i=this,o,a;s.fn.init.call(i,t,r),t=i.wrapper=i.element,r=i.options,r.url=window.unescape(r.url),i._templates(),i._header(),i._footer(i.footer),a=t.addClass("k-widget k-calendar").on(R+" "+U,B,ft).on(w,"table.k-content",K(i._move,i)).on(b,B,function(t){var n=t.currentTarget.firstChild;n.href.indexOf("#")!=-1&&t.preventDefault(),i._click(e(n))}).on("mouseup"+y,"table.k-content, .k-footer",function(){i._focusView(i.options.focusOnNav!==!1)}).attr(E),a&&(i._cellID=a+"_cell_selected"),ht(r),o=u(r.value,r.format,r.culture),i._index=Y[r.start],i._current=new G(+st(o,r.min,r.max)),i._addClassProxy=function(){i._active=!0,i._cell.addClass(_)},i._removeClassProxy=function(){i._active=!1,i._cell.removeClass(_)},i.value(o),n.notify(i)},options:{name:"Calendar",value:null,min:new G(1900,0,1),max:new G(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:N,depth:N,animation:{horizontal:{effects:T,reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[k,L],setOptions:function(e){var t=this;ht(e),e.dates[0]||(e.dates=t.options.dates),s.fn.setOptions.call(t,e),t._templates(),t._footer(t.footer),t._index=Y[t.options.start],t.navigate()},destroy:function(){var e=this,t=e._today;e.element.off(y),e._title.off(y),e[X].off(y),e[V].off(y),n.destroy(e._table),t&&n.destroy(t.off(y)),s.fn.destroy.call(e)},current:function(){return this._current},view:function(){return this._view},focus:function(e){e=e||this._table,this._bindTable(e),e.focus()},min:function(e){return this._option(S,e)},max:function(e){return this._option("max",e)},navigateToPast:function(){this._navigate(X,-1)},navigateToFuture:function(){this._navigate(V,1)},navigateUp:function(){var e=this,t=e._index;if(e._title.hasClass(M))return;e.navigate(e._current,++t)},navigateDown:function(e){var t=this,n=t._index,r=t.options.depth;if(!e)return;if(n===Y[r]){+t._value!=+e&&(t.value(e),t.trigger(k));return}t.navigate(e,--n)},navigate:function(n,r){r=isNaN(r)?Y[r]:r;var i=this,s=i.options,o=s.culture,u=s.min,a=s.max,f=i._title,l=i._table,c=i._oldTable,h=i._value,p=i._current,d=n&&+n>+p,v=r!==t&&r!==i._index,m,g,y,b;n||(n=p),i._current=n=new G(+st(n,u,a)),r===t?r=i._index:i._index=r,i._view=g=et.views[r],y=g.compare,b=r===Y[C],f.toggleClass(M,b).attr($,b),b=y(n,u)<1,i[X].toggleClass(M,b).attr($,b),b=y(n,a)>-1,i[V].toggleClass(M,b).attr($,b),l&&c&&c.data("animating")&&(c.kendoStop(!0,!0),l.kendoStop(!0,!0)),i._oldTable=l;if(!l||i._changeView)f.html(g.title(n,u,a,o)),i._table=m=e(g.content(Q({min:u,max:a,date:n,url:s.url,dates:s.dates,format:s.format,culture:o},i[g.name]))),pt(m),i._animate({from:l,to:m,vertical:v,future:d}),i._focus(n),i.trigger(L);r===Y[s.depth]&&h&&i._class("k-state-selected",g.toDateString(h)),i._class(_,g.toDateString(n)),!l&&i._cell&&i._cell.removeClass(_),i._changeView=!0},value:function(e){var n=this,r=n._view,i=n.options,s=n._view,o=i.min,a=i.max;if(e===t)return n._value;e=u(e,i.format,i.culture),e!==null&&(e=new G(+e),ot(e,o,a)||(e=null)),n._value=e,s&&e===null&&n._cell?n._cell.removeClass("k-state-selected"):(n._changeView=!e||r&&r.compare(e,n._current)!==0,n.navigate(e))},_move:function(t){var r=this,i=r.options,s=t.keyCode,u=r._view,a=r._index,f=new G(+r._current),l=n.support.isRtl(r.wrapper),c,h,p,d;t.target===r._table[0]&&(r._active=!0);if(t.ctrlKey)s==o.RIGHT&&!l||s==o.LEFT&&l?(r.navigateToFuture(),h=!0):s==o.LEFT&&!l||s==o.RIGHT&&l?(r.navigateToPast(),h=!0):s==o.UP?(r.navigateUp(),h=!0):s==o.DOWN&&(r._click(e(r._cell[0].firstChild)),h=!0);else{s==o.RIGHT&&!l||s==o.LEFT&&l?(c=1,h=!0):s==o.LEFT&&!l||s==o.RIGHT&&l?(c=-1,h=!0):s==o.UP?(c=a===0?-7:-4,h=!0):s==o.DOWN?(c=a===0?7:4,h=!0):s==o.ENTER?(r._click(e(r._cell[0].firstChild)),h=!0):s==o.HOME||s==o.END?(p=s==o.HOME?"first":"last",d=u[p](f),f=new G(d.getFullYear(),d.getMonth(),d.getDate(),f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds()),h=!0):s==o.PAGEUP?(h=!0,r.navigateToPast()):s==o.PAGEDOWN&&(h=!0,r.navigateToFuture());if(c||p)p||u.setDate(f,c),r._focus(st(f,i.min,i.max))}return h&&t.preventDefault(),r._current},_animate:function(e){var t=this,n=e.from,r=e.to,i=t._active;n?n.parent().data("animating")?(n.parent().kendoStop(!0,!0).remove(),n.remove(),r.insertAfter(t.element[0].firstChild),t._focusView(i)):!n.is(":visible")||t.options.animation===!1?(r.insertAfter(n),n.remove(),t._focusView(i)):t[e.vertical?"_vertical":"_horizontal"](n,r,e.future):(r.insertAfter(t.element[0].firstChild),t._bindTable(r))},_horizontal:function(e,n,r){var i=this,s=i._active,o=i.options.animation.horizontal,u=o.effects,a=e.outerWidth();u&&u.indexOf(T)!=-1&&(e.add(n).css({width:a}),e.wrap("<div/>"),i._focusView(s,e),e.parent().css({position:"relative",width:a*2,"float":x,"margin-left":r?0:-a}),n[r?"insertAfter":"insertBefore"](e),Q(o,{effects:T+":"+(r?"right":x),complete:function(){e.remove(),n.unwrap(),i._focusView(s),i._oldTable=t}}),e.parent().kendoStop(!0,!0).kendoAnimate(o))},_vertical:function(e,n){var r=this,i=r.options.animation.vertical,s=i.effects,o=r._active,u,a;s&&s.indexOf("zoom")!=-1&&(n.css({position:"absolute",top:e.prev().outerHeight(),left:0}).insertBefore(e),p&&(u=r._cellByDate(r._view.toDateString(r._current)),a=u.position(),a=a.left+parseInt(u.width()/2,10)+"px"+" "+(a.top+parseInt(u.height()/2,10)+"px"),n.css(p,a)),e.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){e.remove(),n.css({position:"static",top:0,left:0}),r._focusView(o),r._oldTable=t}}),n.kendoStop(!0,!0).kendoAnimate(i))},_cellByDate:function(t){return this._table.find("td:not(."+D+")").filter(function(){return e(this.firstChild).attr(n.attr(A))===t})},_class:function(t,r){var i=this,s=i._cellID,o=i._cell;o&&o.removeAttr(J).removeAttr("aria-label").removeAttr(E),o=i._table.find("td:not(."+D+")").removeClass(t).filter(function(){return e(this.firstChild).attr(n.attr(A))===r}).attr(J,!0),t===_&&!i._active&&i.options.focusOnNav!==!1&&(t=""),o.addClass(t),o[0]&&(i._cell=o),s&&(o.attr(E,s),i._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",s))},_bindTable:function(e){e.on(I,this._addClassProxy).on(j,this._removeClassProxy)},_click:function(e){var t=this,r=t.options,i=new Date(+t._current),s=e.attr(n.attr(A)).split("/");s=new G(s[0],s[1],s[2]),a(s,0),t._view.setDate(i,s),t.navigateDown(st(i,r.min,r.max))},_focus:function(e){var t=this,n=t._view;n.compare(e,t._current)!==0?t.navigate(e):(t._current=e,t._class(_,n.toDateString(e)))},_focusView:function(e,t){e&&this.focus(t)},_footer:function(t){var r=this,i=it(),s=r.element,o=s.find(".k-footer");if(!t){r._toggle(!1),o.hide();return}o[0]||(o=e('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(s)),r._today=o.show().find(".k-link").html(t(i)).attr("title",n.toString(i,"D",r.options.culture)),r._toggle()},_header:function(){var e=this,t=e.element,n;t.find(".k-header")[0]||t.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"></span></a></div>'),n=t.find(".k-link").on(R+" "+U+" "+I+" "+j,ft).click(!1),e._title=n.eq(1).on(b,function(){e._focusView(e.options.focusOnNav!==!1),e.navigateUp()}),e[X]=n.eq(0).on(b,function(){e._focusView(e.options.focusOnNav!==!1),e.navigateToPast()}),e[V]=n.eq(2).on(b,function(){e._focusView(e.options.focusOnNav!==!1),e.navigateToFuture()})},_navigate:function(e,t){var n=this,r=n._index+1,i=new G(+n._current);e=n[e],e.hasClass(M)||(r>3?i.setFullYear(i.getFullYear()+100*t):et.views[r].setDate(i,t),n.navigate(i))},_option:function(e,n){var r=this,i=r.options,s=r._value||r._current,o;if(n===t)return i[e];n=u(n,i.format,i.culture);if(!n)return;i[e]=new G(+n),e===S?o=n>s:o=s>n;if(o||mt(s,n))o&&(r._value=null),r._changeView=!0;r._changeView||(r._changeView=!!i.month.content||!!i.month.empty),r.navigate(r._value),r._toggle()},_toggle:function(e){var n=this,r=n.options,i=n._today;e===t&&(e=ot(it(),r.min,r.max)),i&&(i.off(b),e?i.addClass(H).removeClass(M).on(b,K(n._todayClick,n)):i.removeClass(H).addClass(M).on(b,lt))},_todayClick:function(e){var t=this,n=Y[t.options.depth],r=it();e.preventDefault(),t._view.compare(t._current,r)===0&&t._index==n&&(t._changeView=!1),t._value=r,t.navigate(r,n),t.trigger(k)},_templates:function(){var e=this,t=e.options,r=t.footer,i=t.month,s=i.content,o=i.empty;e.month={content:l('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+n.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(s||"#=data.value#")+"</a></td>",{useWithBlock:!!s}),empty:l('<td role="gridcell">'+(o||"&nbsp;")+"</td>",{useWithBlock:!!o})},e.footer=r!==!1?l(r||'#= kendo.toString(data,"D","'+t.culture+'") #',{useWithBlock:!1}):null}});i.plugin(Z);var et={firstDayOfMonth:function(e){return new G(e.getFullYear(),e.getMonth(),1)},firstVisibleDay:function(e,t){t=t||n.culture().calendar;var r=t.firstDay,i=new G(e.getFullYear(),e.getMonth(),0,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());while(i.getDay()!=r)et.setTime(i,-1*W);return i},setTime:function(e,t){var n=e.getTimezoneOffset(),r=new G(e.getTime()+t),i=r.getTimezoneOffset()-n;e.setTime(r.getTime()+i*z)},views:[{name:N,title:function(e,t,n,r){return ct(r).months.names[e.getMonth()]+" "+e.getFullYear()},content:function(e){var t=this,r=0,i=e.min,s=e.max,o=e.date,u=e.dates,f=e.format,l=e.culture,c=e.url,h=c&&u[0],p=ct(l),d=p.firstDay,v=p.days,m=ut(v.names,d),g=ut(v.namesShort,d),y=et.firstVisibleDay(o,p),b=t.first(o),w=t.last(o),E=t.toDateString,S=new G,x='<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';for(;r<7;r++)x+='<th scope="col" title="'+m[r]+'">'+g[r]+"</th>";return S=new G(S.getFullYear(),S.getMonth(),S.getDate()),a(S,0),S=+S,nt({cells:42,perRow:7,html:x+='</tr></thead><tbody><tr role="row">',start:new G(y.getFullYear(),y.getMonth(),y.getDate()),min:new G(i.getFullYear(),i.getMonth(),i.getDate()),max:new G(s.getFullYear(),s.getMonth(),s.getDate()),content:e.content,empty:e.empty,setter:t.setDate,build:function(e){var t=[],r=e.getDay(),i="",s="#";return(e<b||e>w)&&t.push(D),+e===S&&t.push("k-today"),(r===0||r===6)&&t.push("k-weekend"),h&&dt(+e,u)&&(s=c.replace("{0}",n.toString(e,f,l)),i=" k-action-link"),{date:e,dates:u,ns:n.ns,title:n.toString(e,"D",l),value:e.getDate(),dateString:E(e),cssClass:t[0]?' class="'+t.join(" ")+'"':"",linkClass:i,url:s}}})},first:function(e){return et.firstDayOfMonth(e)},last:function(e){var t=new G(e.getFullYear(),e.getMonth()+1,0),n=et.firstDayOfMonth(e),r=Math.abs(t.getTimezoneOffset()-n.getTimezoneOffset());return r&&t.setHours(n.getHours()+r/60),t},compare:function(e,t){var n,r=e.getMonth(),i=e.getFullYear(),s=t.getMonth(),o=t.getFullYear();return i>o?n=1:i<o?n=-1:n=r==s?0:r>s?1:-1,n},setDate:function(e,t){var n=e.getHours();t instanceof G?e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()):et.setTime(e,t*W),a(e,n)},toDateString:function(e){return e.getFullYear()+"/"+e.getMonth()+"/"+e.getDate()}},{name:"year",title:function(e){return e.getFullYear()},content:function(e){var t=ct(e.culture).months.namesAbbr,r=this.toDateString,i=e.min,s=e.max;return nt({min:new G(i.getFullYear(),i.getMonth(),1),max:new G(s.getFullYear(),s.getMonth(),1),start:new G(e.date.getFullYear(),0,1),setter:this.setDate,build:function(e){return{value:t[e.getMonth()],ns:n.ns,dateString:r(e),cssClass:""}}})},first:function(e){return new G(e.getFullYear(),0,e.getDate())},last:function(e){return new G(e.getFullYear(),11,e.getDate())},compare:function(e,t){return rt(e,t)},setDate:function(e,t){var n,r=e.getHours();t instanceof G?(n=t.getMonth(),e.setFullYear(t.getFullYear(),n,e.getDate()),n!==e.getMonth()&&e.setDate(0)):(n=e.getMonth()+t,e.setMonth(n),n>11&&(n-=12),n>0&&e.getMonth()!=n&&e.setDate(0)),a(e,r)},toDateString:function(e){return e.getFullYear()+"/"+e.getMonth()+"/1"}},{name:"decade",title:function(e,t,n){return tt(e,t,n,10)},content:function(e){var t=e.date.getFullYear(),r=this.toDateString;return nt({start:new G(t-t%10-1,0,1),min:new G(e.min.getFullYear(),0,1),max:new G(e.max.getFullYear(),0,1),setter:this.setDate,build:function(e,t){return{value:e.getFullYear(),ns:n.ns,dateString:r(e),cssClass:t===0||t==11?P:""}}})},first:function(e){var t=e.getFullYear();return new G(t-t%10,e.getMonth(),e.getDate())},last:function(e){var t=e.getFullYear();return new G(t-t%10+9,e.getMonth(),e.getDate())},compare:function(e,t){return rt(e,t,10)},setDate:function(e,t){at(e,t,1)},toDateString:function(e){return e.getFullYear()+"/0/1"}},{name:C,title:function(e,t,n){return tt(e,t,n,100)},content:function(e){var t=e.date.getFullYear(),r=e.min.getFullYear(),i=e.max.getFullYear(),s=this.toDateString,o=r,u=i;return o-=o%10,u-=u%10,u-o<10&&(u=o+9),nt({start:new G(t-t%100-10,0,1),min:new G(o,0,1),max:new G(u,0,1),setter:this.setDate,build:function(e,t){var o=e.getFullYear(),u=o+9;return o<r&&(o=r),u>i&&(u=i),{ns:n.ns,value:o+" - "+u,dateString:s(e),cssClass:t===0||t==11?P:""}}})},first:function(e){var t=e.getFullYear();return new G(t-t%100,e.getMonth(),e.getDate())},last:function(e){var t=e.getFullYear();return new G(t-t%100+99,e.getMonth(),e.getDate())},compare:function(e,t){return rt(e,t,100)},setDate:function(e,t){at(e,t,10)},toDateString:function(e){var t=e.getFullYear();return t-t%10+"/0/1"}}]};et.isEqualDatePart=vt,et.makeUnselectable=pt,et.restrictValue=st,et.isInRange=ot,et.normalize=ht,et.viewsEnum=Y,n.calendar=et}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()}),function(e,t){t("kendo.datepicker",["./kendo.calendar","./kendo.popup"],e)}(function(){return function(e,t){function U(t){var n=t.parseFormats,r=t.format;H.normalize(t),n=e.isArray(n)?n:[n],e.inArray(r,n)===-1&&n.splice(0,0,t.format),t.parseFormats=n}function z(e){e.preventDefault()}var n=window.kendo,r=n.ui,i=r.Widget,s=n.parseDate,o=n.keys,u=n.template,a=n._activeElement,f="<div />",l="<span />",c=".kendoDatePicker",h="click"+c,p="open",d="close",v="change",m="dateView",g="disabled",y="readonly",b="k-state-default",w="k-state-focused",E="k-state-selected",S="k-state-disabled",x="k-state-hover",T="keydown"+c,N="mouseenter"+c+" mouseleave"+c,C="mousedown"+c,k="id",L="min",A="max",O="month",M="aria-disabled",_="aria-expanded",D="aria-hidden",P="aria-readonly",H=n.calendar,B=H.isInRange,j=H.restrictValue,F=H.isEqualDatePart,I=e.extend,q=e.proxy,R=Date,W=function(t){var i=this,s,o=document.body,u=e(f).attr(D,"true").addClass("k-calendar-container").appendTo(o);i.options=t=t||{},s=t.id,s&&(s+="_dateview",u.attr(k,s),i._dateViewID=s),i.popup=new r.Popup(u,I(t.popup,t,{name:"Popup",isRtl:n.support.isRtl(t.anchor)})),i.div=u,i.value(t.value)};W.prototype={_calendar:function(){var t=this,i=t.calendar,s=t.options,o;i||(o=e(f).attr(k,n.guid()).appendTo(t.popup.element).on(C,z).on(h,"td:has(.k-link)",q(t._click,t)),t.calendar=i=new r.Calendar(o),t._setOptions(s),n.calendar.makeUnselectable(i.element),i.navigate(t._value||t._current,s.start),t.value(t._value))},_setOptions:function(e){this.calendar.setOptions({focusOnNav:!1,change:e.change,culture:e.culture,dates:e.dates,depth:e.depth,footer:e.footer,format:e.format,max:e.max,min:e.min,month:e.month,start:e.start})},setOptions:function(e){var t=this.options;this.options=I(t,e,{change:t.change,close:t.close,open:t.open}),this.calendar&&this._setOptions(this.options)},destroy:function(){this.popup.destroy()},open:function(){var e=this;e._calendar(),e.popup.open()},close:function(){this.popup.close()},min:function(e){this._option(L,e)},max:function(e){this._option(A,e)},toggle:function(){var e=this;e[e.popup.visible()?d:p]()},move:function(e){var t=this,n=e.keyCode,r=t.calendar,i=e.ctrlKey&&n==o.DOWN||n==o.ENTER;if(n==o.ESC){t.close();return}if(e.altKey){n==o.DOWN?(t.open(),e.preventDefault()):n==o.UP&&(t.close(),e.preventDefault());return}if(!t.popup.visible())return;if(i&&r._cell.hasClass(E)){t.close(),e.preventDefault();return}t._current=r._move(e)},current:function(e){this._current=e,this.calendar._focus(e)},value:function(e){var t=this,n=t.calendar,r=t.options;t._value=e,t._current=new R(+j(e,r.min,r.max)),n&&n.value(e)},_click:function(e){e.currentTarget.className.indexOf(E)!==-1&&this.close()},_option:function(e,t){var n=this,r=n.calendar;n.options[e]=t,r&&r[e](t)}},W.normalize=U,n.DateView=W;var X=i.extend({init:function(e,t){var r=this,o,u;i.fn.init.call(r,e,t),e=r.element,t=r.options,t.min=s(e.attr("min"))||s(t.min),t.max=s(e.attr("max"))||s(t.max),U(t),r._wrapper(),r.dateView=new W(I({},t,{id:e.attr(k),anchor:r.wrapper,change:function(){r._change(this.value()),r.close()},close:function(t){r.trigger(d)?t.preventDefault():(e.attr(_,!1),u.attr(D,!0))},open:function(t){var n=r.options,i;r.trigger(p)?t.preventDefault():(r.element.val()!==r._oldText&&(i=s(e.val(),n.parseFormats,n.culture),r.dateView[i?"current":"value"](i)),e.attr(_,!0),u.attr(D,!1),r._updateARIA(i))}})),u=r.dateView.div,r._icon();try{e[0].setAttribute("type","text")}catch(a){e[0].type="text"}e.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":r.dateView._dateViewID}),r._reset(),r._template(),o=e.is("[disabled]"),o?r.enable(!1):r.readonly(e.is("[readonly]")),r._old=r._update(t.value||r.element.val()),r._oldText=e.val(),n.notify(r)},events:[p,d,v],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:O,depth:O,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function(e){var t=this,r=t._value;i.fn.setOptions.call(t,e),e=t.options,e.min=s(e.min),e.max=s(e.max),U(e),t.dateView.setOptions(e),r&&(t.element.val(n.toString(r,e.format,e.culture)),t._updateARIA(r))},_editable:function(e){var t=this,n=t._dateIcon.off(c),r=t.element.off(c),i=t._inputWrapper.off(c),s=e.readonly,o=e.disable;!s&&!o?(i.addClass(b).removeClass(S).on(N,t._toggleHover),r.removeAttr(g).removeAttr(y).attr(M,!1).attr(P,!1).on("keydown"+c,q(t._keydown,t)).on("blur"+c,q(t._blur,t)).on("focus"+c,function(){t._inputWrapper.addClass(w)}),n.on(h,q(t._click,t)).on(C,z)):(i.addClass(o?S:b).removeClass(o?b:S),r.attr(g,o).attr(y,s).attr(M,o).attr(P,s))},readonly:function(e){this._editable({readonly:e===t?!0:e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)})},destroy:function(){var e=this;i.fn.destroy.call(e),e.dateView.destroy(),e.element.off(c),e._dateIcon.off(c),e._inputWrapper.off(c),e._form&&e._form.off("reset",e._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(e){return this._option(L,e)},max:function(e){return this._option(A,e)},value:function(e){var n=this;if(e===t)return n._value;n._old=n._update(e),n._old===null&&n.element.val(""),n._oldText=n.element.val()},_toggleHover:function(t){e(t.currentTarget).toggleClass(x,t.type==="mouseenter")},_blur:function(){var e=this,t=e.element.val();e.close(),t!==e._oldText&&e._change(t),e._inputWrapper.removeClass(w)},_click:function(){var e=this,t=e.element;e.dateView.toggle(),!n.support.touch&&t[0]!==a()&&t.focus()},_change:function(e){var t=this;e=t._update(e),+t._old!=+e&&(t._old=e,t._oldText=t.element.val(),t.trigger(v),t.element.trigger(v))},_keydown:function(e){var t=this,n=t.dateView,r=t.element.val();!n.popup.visible()&&e.keyCode==o.ENTER&&r!==t._oldText?t._change(r):(n.move(e),t._updateARIA(n._current))},_icon:function(){var t=this,n=t.element,r;r=n.next("span.k-select"),r[0]||(r=e('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span></span>').insertAfter(n)),t._dateIcon=r.attr({role:"button","aria-controls":t.dateView._dateViewID})},_option:function(e,n){var r=this,i=r.options;if(n===t)return i[e];n=s(n,i.parseFormats,i.culture);if(!n)return;i[e]=new R(+n),r.dateView[e](n)},_update:function(e){var t=this,r=t.options,i=r.min,o=r.max,u=t._value,a=s(e,r.parseFormats,r.culture),f=a===null&&u===null||a instanceof Date&&u instanceof Date,l;return+a===+u&&f?(l=n.toString(a,r.format,r.culture),l!==e&&t.element.val(a===null?e:l),a):(a!==null&&F(a,i)?a=j(a,i,o):B(a,i,o)||(a=null),t._value=a,t.dateView.value(a),t.element.val(a?n.toString(a,r.format,r.culture):e),t._updateARIA(a),a)},_wrapper:function(){var t=this,n=t.element,r;r=n.parents(".k-datepicker"),r[0]||(r=n.wrap(l).parent().addClass("k-picker-wrap k-state-default"),r=r.wrap(l).parent()),r[0].style.cssText=n[0].style.cssText,n.css({width:"100%",height:n[0].style.height}),t.wrapper=r.addClass("k-widget k-datepicker k-header").addClass(n[0].className),t._inputWrapper=e(r[0].firstChild)},_reset:function(){var t=this,n=t.element,r=n.attr("form"),i=r?e("#"+r):n.closest("form");i[0]&&(t._resetHandler=function(){t.value(n[0].defaultValue)},t._form=i.on("reset",t._resetHandler))},_template:function(){this._ariaTemplate=u(this.options.ARIATemplate)},_updateARIA:function(e){var t,n=this,r=n.dateView.calendar;n.element.removeAttr("aria-activedescendant"),r&&(t=r._cell,t.attr("aria-label",n._ariaTemplate({current:e||r.current()})),n.element.attr("aria-activedescendant",t.attr("id")))}});r.plugin(X)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()}),function(e,t){t("kendo.numerictextbox",["./kendo.core","./kendo.userevents"],e)}(function(){return function(e,t){function H(e,t){return'<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-'+e+'" title="'+t+'">'+t+"</span></span>"}var n=window.kendo,r=n.caret,i=n.keys,s=n.ui,o=s.Widget,u=n._activeElement,a=n._extractFormat,f=n.parseFloat,l=n.support.placeholder,c=n.getCulture,h=n._round,p="change",d="disabled",v="readonly",m="k-input",g="spin",y=".kendoNumericTextBox",b="touchend",w="mouseleave"+y,E="mouseenter"+y+" "+w,S="k-state-default",x="k-state-focused",T="k-state-hover",N="focus",C=".",k="k-state-selected",L="k-state-disabled",A="aria-disabled",O="aria-readonly",M=/^(-)?(\d*)$/,_=null,D=e.proxy,P=o.extend({init:function(e,r){var i=this,s=r&&r.step!==t,u,f,l,c,h;o.fn.init.call(i,e,r),r=i.options,e=i.element.on("blur"+y,D(i._focusout,i)).attr("role","spinbutton"),r.placeholder=r.placeholder||e.attr("placeholder"),i._reset(),i._wrapper(),i._arrows(),i._input(),n.support.mobileOS?i._text.on(b+y+" "+N+y,function(t){i._toggleText(!1),t.type===N&&e.focus()}):i._text.on(N+y,D(i._click,i)),u=i.min(e.attr("min")),f=i.max(e.attr("max")),l=i._parse(e.attr("step")),r.min===_&&u!==_&&(r.min=u),r.max===_&&f!==_&&(r.max=f),!s&&l!==_&&(r.step=l),e.attr("aria-valuemin",r.min).attr("aria-valuemax",r.max),r.format=a(r.format),c=r.value,i.value(c!==_?c:e.val()),h=e.is("[disabled]"),h?i.enable(!1):i.readonly(e.is("[readonly]")),n.notify(i)},options:{name:"NumericTextBox",decimals:_,min:_,max:_,value:_,step:1,culture:"",format:"n",spinners:!0,placeholder:"",upArrowText:"Increase value",downArrowText:"Decrease value"},events:[p,g],_editable:function(e){var t=this,n=t.element,r=e.disable,i=e.readonly,s=t._text.add(n),o=t._inputWrapper.off(E);t._toggleText(!0),t._upArrowEventHandler.unbind("press"),t._downArrowEventHandler.unbind("press"),n.off("keydown"+y).off("keypress"+y).off("paste"+y),!i&&!r?(o.addClass(S).removeClass(L).on(E,t._toggleHover),s.removeAttr(d).removeAttr(v).attr(A,!1).attr(O,!1),t._upArrowEventHandler.bind("press",function(e){e.preventDefault(),t._spin(1),t._upArrow.addClass(k)}),t._downArrowEventHandler.bind("press",function(e){e.preventDefault(),t._spin(-1),t._downArrow.addClass(k)}),t.element.on("keydown"+y,D(t._keydown,t)).on("keypress"+y,D(t._keypress,t)).on("paste"+y,D(t._paste,t))):(o.addClass(r?L:S).removeClass(r?S:L),s.attr(d,r).attr(v,i).attr(A,r).attr(O,i))},readonly:function(e){this._editable({readonly:e===t?!0:e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)})},destroy:function(){var e=this;e.element.add(e._text).add(e._upArrow).add(e._downArrow).add(e._inputWrapper).off(y),e._upArrowEventHandler.destroy(),e._downArrowEventHandler.destroy(),e._form&&e._form.off("reset",e._resetHandler),o.fn.destroy.call(e)},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},step:function(e){return this._option("step",e)},value:function(e){var n=this,r;if(e===t)return n._value;e=n._parse(e),r=n._adjust(e);if(e!==r)return;n._update(e),n._old=n._value},focus:function(){this._focusin()},_adjust:function(e){var t=this,n=t.options,r=n.min,i=n.max;return e===_?e:(r!==_&&e<r?e=r:i!==_&&e>i&&(e=i),e)},_arrows:function(){var t=this,r,i=function(){clearTimeout(t._spinning),r.removeClass(k)},s=t.options,o=s.spinners,u=t.element;r=u.siblings(".k-icon"),r[0]||(r=e(H("n",s.upArrowText)+H("s",s.downArrowText)).insertAfter(u),r.wrapAll('<span class="k-select"/>')),o||(r.parent().toggle(o),t._inputWrapper.addClass("k-expand-padding")),t._upArrow=r.eq(0),t._upArrowEventHandler=new n.UserEvents(t._upArrow,{release:i}),t._downArrow=r.eq(1),t._downArrowEventHandler=new n.UserEvents(t._downArrow,{release:i})},_blur:function(){var e=this;e._toggleText(!0),e._change(e.element.val())},_click:function(e){var t=this;clearTimeout(t._focusing),t._focusing=setTimeout(function(){var n=e.target,i=r(n)[0],s=n.value.substring(0,i),o=t._format(t.options.format),u=o[","],a,f,l,c=0;u&&(f=new RegExp("\\"+u,"g"),l=new RegExp("([\\d\\"+u+"]+)(\\"+o[C]+")?(\\d+)?")),l&&(a=l.exec(s)),a&&(c=a[0].replace(f,"").length,s.indexOf("(")!=-1&&t._value<0&&c++),t._focusin(),r(t.element[0],c)})},_change:function(e){var t=this;t._update(e),e=t._value,t._old!=e&&(t._old=e,t.trigger(p),t.element.trigger(p))},_culture:function(e){return e||c(this.options.culture)},_focusin:function(){var e=this;e._inputWrapper.addClass(x),e._toggleText(!1),e.element[0].focus()},_focusout:function(){var e=this;clearTimeout(e._focusing),e._inputWrapper.removeClass(x).removeClass(T),e._blur()},_format:function(e,t){var n=this._culture(t).numberFormat;return e=e.toLowerCase(),e.indexOf("c")>-1?n=n.currency:e.indexOf("p")>-1&&(n=n.percent),n},_input:function(){var t=this,n="k-formatted-value",r=t.element.addClass(m).show()[0],i=r.accessKey,s=t.wrapper,o;o=s.find(C+n),o[0]||(o=e('<input type="text"/>').insertBefore(r).addClass(n));try{r.setAttribute("type","text")}catch(u){r.type="text"}o[0].tabIndex=r.tabIndex,o[0].style.cssText=r.style.cssText,o.prop("placeholder",t.options.placeholder),i&&(o.attr("accesskey",i),r.accessKey=""),t._text=o.addClass(r.className)},_keydown:function(e){var t=this,n=e.keyCode;t._key=n,n==i.DOWN?t._step(-1):n==i.UP?t._step(1):n==i.ENTER&&t._change(t.element.val())},_keypress:function(e){if(e.which===0||e.keyCode===i.BACKSPACE||e.keyCode===i.ENTER)return;var t=this,n=t.options.min,s=t.element,o=r(s),u=o[0],a=o[1],f=String.fromCharCode(e.which),l=t._format(t.options.format),c=t._key===i.NUMPAD_DOT,h=s.val(),p;c&&(f=l[C]),h=h.substring(0,u)+f+h.substring(a),p=t._numericRegex(l).test(h),p&&c?(s.val(h),r(s,u+f.length),e.preventDefault()):(n!==null&&n>=0&&h.charAt(0)==="-"||!p)&&e.preventDefault(),t._key=0},_numericRegex:function(e){var t=this,n=e[C],r=t.options.decimals;return n===C&&(n="\\"+n),r===_&&(r=e.decimals),r===0?M:(t._separator!==n&&(t._separator=n,t._floatRegExp=new RegExp("^(-)?(((\\d+("+n+"\\d*)?)|("+n+"\\d*)))?$")),t._floatRegExp)},_paste:function(e){var t=this,n=e.target,r=n.value;setTimeout(function(){t._parse(n.value)===_&&t._update(r)})},_option:function(e,n){var r=this,i=r.options;if(n===t)return i[e];n=r._parse(n);if(!n&&e==="step")return;i[e]=n,r.element.attr("aria-value"+e,n).attr(e,n)},_spin:function(e,t){var n=this;t=t||500,clearTimeout(n._spinning),n._spinning=setTimeout(function(){n._spin(e,50)},t),n._step(e)},_step:function(e){var t=this,n=t.element,r=t._parse(n.val())||0;u()!=n[0]&&t._focusin(),r+=t.options.step*e,t._update(t._adjust(r)),t.trigger(g)},_toggleHover:function(t){e(t.currentTarget).toggleClass(T,t.type==="mouseenter")},_toggleText:function(e){var t=this;t._text.toggle(e),t.element.toggle(!e)},_parse:function(e,t){return f(e,this._culture(t),this.options.format)},_update:function(e){var t=this,r=t.options,i=r.format,s=r.decimals,o=t._culture(),u=t._format(i,o),a;s===_&&(s=u.decimals),e=t._parse(e,o),a=e!==_,a&&(e=parseFloat(h(e,s))),t._value=e=t._adjust(e),t._placeholder(n.toString(e,i,o)),a?(e=e.toString(),e.indexOf("e")!==-1&&(e=h(+e,s)),e=e.replace(C,u[C])):e="",t.element.val(e).attr("aria-valuenow",e)},_placeholder:function(e){this._text.val(e),!l&&!e&&this._text.val(this.options.placeholder)},_wrapper:function(){var t=this,n=t.element,r=n[0],i;i=n.parents(".k-numerictextbox"),i.is("span.k-numerictextbox")||(i=n.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent(),i=i.wrap("<span/>").parent()),i[0].style.cssText=r.style.cssText,r.style.width="",t.wrapper=i.addClass("k-widget k-numerictextbox").addClass(r.className).css("display",""),t._inputWrapper=e(i[0].firstChild)},_reset:function(){var t=this,n=t.element,r=n.attr("form"),i=r?e("#"+r):n.closest("form");i[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(n[0].value)})},t._form=i.on("reset",t._resetHandler))}});s.plugin(P)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()}),function(e,t){t("kendo.validator",["./kendo.core"],e)}(function(){return function(e,t){function E(t){var r=n.ui.validator.ruleResolvers||{},i={},s;for(s in r)e.extend(!0,i,r[s].resolve(t));return i}function S(e){return e.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}function x(e){return e=(e+"").split("."),e.length>1?e[1].length:0}function T(t){return e.parseHTML?e(e.parseHTML(t)):e(t)}function N(t,r){var i=e(),s,u;for(var a=0,f=t.length;a<f;a++)s=t[a],o.test(s.className)&&(u=s.getAttribute(n.attr("for")),u===r&&(i=i.add(s)));return i}var n=window.kendo,r=n.ui.Widget,i=".kendoValidator",s="k-invalid-msg",o=new RegExp(s,"i"),u="k-invalid",a=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,f=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,l=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",c=":checkbox:not([disabled],[readonly])",h="[type=number],[type=range]",p="blur",d="name",v="form",m="novalidate",g=e.proxy,y=function(e,t){return typeof t=="string"&&(t=new RegExp("^(?:"+t+")$")),t.test(e)},b=function(e,t,n){var r=e.val();return e.filter(t).length&&r!==""?y(r,n):!0},w=function(e,t){return e.length?e[0].attributes[t]!=null:!1};n.ui.validator||(n.ui.validator={rules:{},messages:{}});var C=r.extend({init:function(t,i){var s=this,o=E(t);i=i||{},i.rules=e.extend({},n.ui.validator.rules,o.rules,i.rules),i.messages=e.extend({},n.ui.validator.messages,o.messages,i.messages),r.fn.init.call(s,t,i),s._errorTemplate=n.template(s.options.errorTemplate),s.element.is(v)&&s.element.attr(m,m),s._errors={},s._attachEvents()},events:["validate"],options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-warning"> </span> #=message#</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date"},rules:{required:function(e){var t=e.filter("[type=checkbox]").length&&!e.is(":checked"),n=e.val();return!w(e,"required")||n!==""&&!!n&&!t},pattern:function(e){return e.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&e.val()!==""?y(e.val(),e.attr("pattern")):!0},min:function(e){if(e.filter(h+",["+n.attr("type")+"=number]").filter("[min]").length&&e.val()!==""){var t=parseFloat(e.attr("min"))||0,r=n.parseFloat(e.val());return t<=r}return!0},max:function(e){if(e.filter(h+",["+n.attr("type")+"=number]").filter("[max]").length&&e.val()!==""){var t=parseFloat(e.attr("max"))||0,r=n.parseFloat(e.val());return t>=r}return!0},step:function(e){if(e.filter(h+",["+n.attr("type")+"=number]").filter("[step]").length&&e.val()!==""){var t=parseFloat(e.attr("min"))||0,r=parseFloat(e.attr("step"))||1,i=parseFloat(e.val()),s=x(r),o;return s?(o=Math.pow(10,s),(i-t)*o%(r*o)/Math.pow(100,s)===0):(i-t)%r===0}return!0},email:function(e){return b(e,"[type=email],["+n.attr("type")+"=email]",a)},url:function(e){return b(e,"[type=url],["+n.attr("type")+"=url]",f)},date:function(e){return e.filter("[type^=date],["+n.attr("type")+"=date]").length&&e.val()!==""?n.parseDate(e.val(),e.attr(n.attr("format")))!==null:!0}},validateOnBlur:!0},destroy:function(){r.fn.destroy.call(this),this.element.off(i)},_submit:function(e){return this.validate()?!0:(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),!1)},_attachEvents:function(){var t=this;t.element.is(v)&&t.element.on("submit"+i,g(t._submit,t)),t.options.validateOnBlur&&(t.element.is(l)?(t.element.on(p+i,function(){t.validateInput(t.element)}),t.element.is(c)&&t.element.on("click"+i,function(){t.validateInput(t.element)})):(t.element.on(p+i,l,function(){t.validateInput(e(this))}),t.element.on("click"+i,c,function(){t.validateInput(e(this))})))},validate:function(){var e,t,n=!1,r;this._errors={};if(!this.element.is(l)){var i=!1;e=this.element.find(l);for(t=0,r=e.length;t<r;t++)this.validateInput(e.eq(t))||(i=!0);n=!i}else n=this.validateInput(this.element);return this.trigger("validate",{valid:n}),n},validateInput:function(t){t=e(t);var n=this,r=n._errorTemplate,i=n._checkValidity(t),o=i.valid,a="."+s,f=t.attr(d)||"",l=n._findMessageContainer(f).add(t.next(a)).hide(),c;t.removeAttr("aria-invalid");if(!o){c=n._extractMessage(t,i.key),n._errors[f]=c;var h=T(r({message:S(c)}));n._decorateMessageContainer(h,f),l.replaceWith(h).length||h.insertAfter(t),h.show(),t.attr("aria-invalid",!0)}return t.toggleClass(u,!o),o},hideMessages:function(){var e=this,t="."+s,n=e.element;n.is(l)?n.next(t).hide():n.find(t).hide()},_findMessageContainer:function(t){var r=n.ui.validator.messageLocators,i,s=e();for(var o=0,u=this.element.length;o<u;o++)s=s.add(N(this.element[o].getElementsByTagName("*"),t));for(i in r)s=s.add(r[i].locate(this.element,t));return s},_decorateMessageContainer:function(e,t){var r=n.ui.validator.messageLocators,i;e.addClass(s).attr(n.attr("for"),t||"");for(i in r)r[i].decorate(e,t);e.attr("role","alert")},_extractMessage:function(e,t){var r=this,i=r.options.messages[t],s=e.attr(d);return i=n.isFunction(i)?i(e):i,n.format(e.attr(n.attr(t+"-msg"))||e.attr("validationMessage")||e.attr("title")||i||"",s,e.attr(t))},_checkValidity:function(e){var t=this.options.rules,n;for(n in t)if(!t[n](e))return{valid:!1,key:n};return{valid:!0}},errors:function(){var e=[],t=this._errors,n;for(n in t)e.push(t[n]);return e}});n.ui.plugin(C)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()}),function(e,t){t("kendo.binder",["./kendo.core","./kendo.data"],e)}(function(){return function(e,t){function C(e){var t,n=[],r,i,s;for(t=0,r=e.length;t<r;t++)if(e[t].hasSubgroups)n=n.concat(C(e[t].items));else{i=e[t].items;for(s=0;s<i.length;s++)n.push(i[s])}return n}function k(e,t){var r=n.initWidget(e,{},t);if(r)return new N(r)}function O(e){var t={},n,r,i,s,o,u,a;a=e.match(L);for(n=0,r=a.length;n<r;n++)i=a[n],s=i.indexOf(":"),o=i.substring(0,s),u=i.substring(s+1),u.charAt(0)=="{"&&(u=O(u)),t[o]=u;return t}function M(e,t,n){var r,i={};for(r in e)i[r]=new n(t,e[r]);return i}function _(e,t,r,i){var s=e.getAttribute("data-"+n.ns+"role"),o,u=e.getAttribute("data-"+n.ns+"bind"),a=e.children,f=[],l=!0,c,h={},p;i=i||[t],(s||u)&&P(e),s&&(p=k(e,r)),u&&(u=O(u.replace(A,"")),p||(h=n.parseOptions(e,{textField:"",valueField:"",template:"",valueUpdate:y,valuePrimitive:!1,autoBind:!0}),h.roles=r,p=new T(e,h)),p.source=t,c=M(u,i,b),h.template&&(c.template=new E(i,"",h.template)),c.click&&(u.events=u.events||{},u.events.click=u.click,delete c.click),c.source&&(l=!1),u.attr&&(c.attr=M(u.attr,i,b)),u.style&&(c.style=M(u.style,i,b)),u.events&&(c.events=M(u.events,i,w)),p.bind(c)),p&&(e.kendoBindingTarget=p);if(l&&a){for(o=0;o<a.length;o++)f[o]=a[o];for(o=0;o<f.length;o++)_(f[o],t,r,i)}}function D(t,r){var i,s,o,u=n.rolesFromNamespaces([].slice.call(arguments,2));r=n.observable(r),t=e(t);for(i=0,s=t.length;i<s;i++)o=t[i],o.nodeType===1&&_(o,r,u)}function P(e){var t=e.kendoBindingTarget;t&&(t.destroy(),g?delete e.kendoBindingTarget:e.removeAttribute?e.removeAttribute("kendoBindingTarget"):e.kendoBindingTarget=null)}function H(e){P(e),B(e)}function B(e){var t=e.children;if(t)for(var n=0,r=t.length;n<r;n++)H(t[n])}function j(t){var n,r;t=e(t);for(n=0,r=t.length;n<r;n++)H(t[n])}function F(e,t){var n=e.element,r=n[0].kendoBindingTarget;r&&D(n,r.source,t)}var n=window.kendo,r=n.support.browser,i=n.Observable,s=n.data.ObservableObject,o=n.data.ObservableArray,u={}.toString,a={},f=Array.prototype.slice,l=n.Class,c,h=e.proxy,p="value",d="source",v="events",m="checked",g=!0,y="change";(function(){var e=document.createElement("a");e.innerText!==t?c="innerText":e.textContent!==t&&(c="textContent");try{delete e.test}catch(n){g=!1}})();var b=i.extend({init:function(e,t){var n=this;i.fn.init.call(n),n.source=e[0],n.parents=e,n.path=t,n.dependencies={},n.dependencies[t]=!0,n.observable=n.source instanceof i,n._access=function(e){n.dependencies[e.field]=!0},n.observable&&(n._change=function(e){n.change(e)},n.source.bind(y,n._change))},_parents:function(){var t=this.parents,n=this.get();if(n&&typeof n.parent=="function"){var r=n.parent();e.inArray(r,t)<0&&(t=[r].concat(t))}return t},change:function(e){var t,n,r=e.field,i=this;if(i.path==="this")i.trigger(y,e);else for(t in i.dependencies)if(t.indexOf(r)===0){n=t.charAt(r.length);if(!n||n==="."||n==="["){i.trigger(y,e);break}}},start:function(e){e.bind("get",this._access)},stop:function(e){e.unbind("get",this._access)},get:function(){var e=this,n=e.source,r=0,i=e.path,o=n;if(!e.observable)return o;e.start(e.source),o=n.get(i);while(o===t&&n)n=e.parents[++r],n instanceof s&&(o=n.get(i));if(o===t){n=e.source;while(o===t&&n)n=n.parent(),n instanceof s&&(o=n.get(i))}return typeof o=="function"&&(r=i.lastIndexOf("."),r>0&&(n=n.get(i.substring(0,r))),e.start(n),n!==e.source?o=o.call(n,e.source):o=o.call(n),e.stop(n)),n&&n!==e.source&&(e.currentSource=n,n.unbind(y,e._change).bind(y,e._change)),e.stop(e.source),o},set:function(e){var t=this.currentSource||this.source,r=n.getter(this.path)(t);typeof r=="function"?t!==this.source?r.call(t,this.source,e):r.call(t,e):t.set(this.path,e)},destroy:function(){this.observable&&this.source.unbind(y,this._change)}}),w=b.extend({get:function(){var e=this.source,t=this.path,n=0,r;r=e.get(t);while(!r&&e)e=this.parents[++n],e instanceof s&&(r=e.get(t));return h(r,e)}}),E=b.extend({init:function(e,t,n){var r=this;b.fn.init.call(r,e,t),r.template=n},render:function(e){var t;return this.start(this.source),t=n.render(this.template,e),this.stop(this.source),t}}),S=l.extend({init:function(e,t,n){this.element=e,this.bindings=t,this.options=n},bind:function(e,t){var n=this;e=t?e[t]:e,e.bind(y,function(e){n.refresh(t||e)}),n.refresh(t)},destroy:function(){}});a.attr=S.extend({refresh:function(e){this.element.setAttribute(e,this.bindings.attr[e].get())}}),a.style=S.extend({refresh:function(e){this.element.style[e]=this.bindings.style[e].get()||""}}),a.enabled=S.extend({refresh:function(){this.bindings.enabled.get()?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","disabled")}}),a.readonly=S.extend({refresh:function(){this.bindings.readonly.get()?this.element.setAttribute("readonly","readonly"):this.element.removeAttribute("readonly")}}),a.disabled=S.extend({refresh:function(){this.bindings.disabled.get()?this.element.setAttribute("disabled","disabled"):this.element.removeAttribute("disabled")}}),a.events=S.extend({init:function(e,t,n){S.fn.init.call(this,e,t,n),this.handlers={}},refresh:function(t){var n=e(this.element),r=this.bindings.events[t],i=this.handlers[t];i&&n.off(t,i),i=this.handlers[t]=r.get(),n.on(t,r.source,i)},destroy:function(){var t=e(this.element),n;for(n in this.handlers)t.off(n,this.handlers[n])}}),a.text=S.extend({refresh:function(){var e=this.bindings.text.get();e==null&&(e=""),this.element[c]=e}}),a.visible=S.extend({refresh:function(){this.bindings.visible.get()?this.element.style.display="":this.element.style.display="none"}}),a.invisible=S.extend({refresh:function(){this.bindings.invisible.get()?this.element.style.display="none":this.element.style.display=""}}),a.html=S.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}}),a.value=S.extend({init:function(t,n,r){S.fn.init.call(this,t,n,r),this._change=h(this.change,this),this.eventName=r.valueUpdate||y,e(this.element).on(this.eventName,this._change),this._initChange=!1},change:function(){this._initChange=this.eventName!=y;var e=this.element.value,t=this.element.type;t=="date"?e=n.parseDate(e,"yyyy-MM-dd"):t=="datetime-local"?e=n.parseDate(e,["yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm"]):t=="number"&&(e=n.parseFloat(e)),this.bindings[p].set(e),this._initChange=!1},refresh:function(){if(!this._initChange){var e=this.bindings[p].get();e==null&&(e="");var t=this.element.type;t=="date"?e=n.toString(e,"yyyy-MM-dd"):t=="datetime-local"&&(e=n.toString(e,"yyyy-MM-ddTHH:mm:ss")),this.element.value=e}this._initChange=!1},destroy:function(){e(this.element).off(this.eventName,this._change)}}),a.source=S.extend({init:function(e,t,r){S.fn.init.call(this,e,t,r);var i=this.bindings.source.get();i instanceof n.data.DataSource&&r.autoBind!==!1&&i.fetch()},refresh:function(e){var t=this,r=t.bindings.source.get();r instanceof o||r instanceof n.data.DataSource?(e=e||{},e.action=="add"?t.add(e.index,e.items):e.action=="remove"?t.remove(e.index,e.items):e.action!="itemchange"&&t.render()):t.render()},container:function(){var e=this.element;return e.nodeName.toLowerCase()=="table"&&(e.tBodies[0]||e.appendChild(document.createElement("tbody")),e=e.tBodies[0]),e},template:function(){var e=this.options,t=e.template,r=this.container().nodeName.toLowerCase();return t||(r=="select"?e.valueField||e.textField?t=n.format('<option value="#:{0}#">#:{1}#</option>',e.valueField||e.textField,e.textField||e.valueField):t="<option>#:data#</option>":r=="tbody"?t="<tr><td>#:data#</td></tr>":r=="ul"||r=="ol"?t="<li>#:data#</li>":t="#:data#",t=n.template(t)),t},add:function(t,r){var i=this.container(),s,o,u,a,f=i.cloneNode(!1),l=i.children[t];e(f).html(n.render(this.template(),r));if(f.children.length){s=this.bindings.source._parents();for(o=0,u=r.length;o<u;o++)a=f.children[0],i.insertBefore(a,l||null),_(a,r[o],this.options.roles,[r[o]].concat(s))}},remove:function(e,t){var n,r=this.container();for(n=0;n<t.length;n++){var i=r.children[e];H(i),r.removeChild(i)}},render:function(){var t=this.bindings.source.get(),r,i,s,a=this.container(),f=this.template();t instanceof n.data.DataSource&&(t=t.view()),!(t instanceof o)&&u.call(t)!=="[object Array]"&&(t=[t]);if(this.bindings.template){B(a),e(a).html(this.bindings.template.render(t));if(a.children.length){r=this.bindings.source._parents();for(i=0,s=t.length;i<s;i++)_(a.children[i],t[i],this.options.roles,[t[i]].concat(r))}}else e(a).html(n.render(f,t))}}),a.input={checked:S.extend({init:function(t,n,r){S.fn.init.call(this,t,n,r),this._change=h(this.change,this),e(this.element).change(this._change)},change:function(){var e=this.element,t=this.value();if(e.type=="radio")this.bindings[m].set(t);else if(e.type=="checkbox"){var n=this.bindings[m].get(),r;n instanceof o?(t=this.element.value,t!=="on"&&t!=="off"&&(r=n.indexOf(t),r>-1?n.splice(r,1):n.push(t))):this.bindings[m].set(t)}},refresh:function(){var e=this.bindings[m].get(),t=e,n=this.element;n.type=="checkbox"?(t instanceof o&&(e=this.element.value,t.indexOf(e)>=0&&(e=!0)),n.checked=e===!0):n.type=="radio"&&e!=null&&n.value===e.toString()&&(n.checked=!0)},value:function(){var e=this.element,t=e.value;return e.type=="checkbox"&&(t=e.checked),t},destroy:function(){e(this.element).off(y,this._change)}})},a.select={value:S.extend({init:function(t,n,r){S.fn.init.call(this,t,n,r),this._change=h(this.change,this),e(this.element).change(this._change)},change:function(){var e=[],t=this.element,n,r=this.options.valueField||this.options.textField,i=this.options.valuePrimitive,u,a,f,l,c;for(l=0,c=t.options.length;l<c;l++)u=t.options[l],u.selected&&(f=u.attributes.value,f&&f.specified?f=u.value:f=u.text,e.push(f));if(r){n=this.bindings.source.get();for(a=0;a<e.length;a++)for(l=0,c=n.length;l<c;l++)if(n[l].get(r)==e[a]){e[a]=n[l];break}}f=this.bindings[p].get(),f instanceof o?f.splice.apply(f,[0,f.length].concat(e)):!i&&(f instanceof s||!r)?this.bindings[p].set(e[0]):this.bindings[p].set(e[0].get(r))},refresh:function(){var e,t=this.element,n=t.options,r=this.bindings[p].get(),i=r,u=this.options.valueField||this.options.textField,a=!1,f;i instanceof o||(i=new o([r])),t.selectedIndex=-1;for(var l=0;l<i.length;l++){r=i[l],u&&r instanceof s&&(r=r.get(u));for(e=0;e<n.length;e++)f=n[e].value,f===""&&r!==""&&(f=n[e].text),f==r&&(n[e].selected=!0,a=!0)}},destroy:function(){e(this.element).off(y,this._change)}})},a.widget={events:S.extend({init:function(e,t,n){S.fn.init.call(this,e.element[0],t,n),this.widget=e,this.handlers={}},refresh:function(e){var t=this.bindings.events[e],n=this.handlers[e];n&&this.widget.unbind(e,n),n=t.get(),this.handlers[e]=function(e){e.data=t.source,n(e),e.data===t.source&&delete e.data},this.widget.bind(e,this.handlers[e])},destroy:function(){var e;for(e in this.handlers)this.widget.unbind(e,this.handlers[e])}}),checked:S.extend({init:function(e,t,n){S.fn.init.call(this,e.element[0],t,n),this.widget=e,this._change=h(this.change,this),this.widget.bind(y,this._change)},change:function(){this.bindings[m].set(this.value())},refresh:function(){this.widget.check(this.bindings[m].get()===!0)},value:function(){var e=this.element,t=e.value;if(t=="on"||t=="off")t=e.checked;return t},destroy:function(){this.widget.unbind(y,this._change)}}),visible:S.extend({init:function(e,t,n){S.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){var e=this.bindings.visible.get();this.widget.wrapper[0].style.display=e?"":"none"}}),invisible:S.extend({init:function(e,t,n){S.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){var e=this.bindings.invisible.get();this.widget.wrapper[0].style.display=e?"none":""}}),enabled:S.extend({init:function(e,t,n){S.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){this.widget.enable&&this.widget.enable(this.bindings.enabled.get())}}),disabled:S.extend({init:function(e,t,n){S.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){this.widget.enable&&this.widget.enable(!this.bindings.disabled.get())}}),source:S.extend({init:function(e,t,n){var r=this;S.fn.init.call(r,e.element[0],t,n),r.widget=e,r._dataBinding=h(r.dataBinding,r),r._dataBound=h(r.dataBound,r),r._itemChange=h(r.itemChange,r)},itemChange:function(e){_(e.item[0],e.data,this._ns(e.ns),[e.data].concat(this.bindings.source._parents()))},dataBinding:function(){var e,t,n=this.widget,r=n.items();for(e=0,t=r.length;e<t;e++)H(r[e])},_ns:function(t){t=t||n.ui;var r=[n.ui,n.dataviz.ui,n.mobile.ui];return r.splice(e.inArray(t,r),1),r.unshift(t),n.rolesFromNamespaces(r)},dataBound:function(e){var t,n,r=this.widget,i=r.items(),s=r.dataSource,o=s.view(),u,a=s.group()||[];if(i.length){a.length&&(o=C(o)),u=this.bindings.source._parents();for(t=0,n=o.length;t<n;t++)_(i[t],o[t],this._ns(e.ns),[o[t]].concat(u))}},refresh:function(e){var t=this,r,i=t.widget;e=e||{},e.action||(t.destroy(),i.bind("dataBinding",t._dataBinding),i.bind("dataBound",t._dataBound),i.bind("itemChange",t._itemChange),r=t.bindings.source.get(),i.dataSource instanceof n.data.DataSource&&i.dataSource!=r&&(r instanceof n.data.DataSource?i.setDataSource(r):r&&r._dataSource?i.setDataSource(r._dataSource):i.dataSource.data(r)))},destroy:function(){var e=this.widget;e.unbind("dataBinding",this._dataBinding),e.unbind("dataBound",this._dataBound),e.unbind("itemChange",this._itemChange)}}),value:S.extend({init:function(t,n,r){S.fn.init.call(this,t.element[0],n,r),this.widget=t,this._change=e.proxy(this.change,this),this.widget.first(y,this._change);var i=this.bindings.value.get();this._valueIsObservableObject=!r.valuePrimitive&&(i==null||i instanceof s),this._valueIsObservableArray=i instanceof o,this._initChange=!1},change:function(){var e=this.widget.value(),t=this.options.dataValueField||this.options.dataTextField,r=u.call(e)==="[object Array]",i=this._valueIsObservableObject,s,o,a=[],f,l,c,h,p;this._initChange=!0;if(t){this.bindings.source&&(p=this.bindings.source.get());if(e===""&&(i||this.options.valuePrimitive))e=null;else{if(!p||p instanceof n.data.DataSource)p=this.widget.dataSource.view();r&&(o=e.length,a=e.slice(0));for(c=0,h=p.length;c<h;c++){f=p[c],l=f.get(t);if(r){for(s=0;s<o;s++)if(l==a[s]){a[s]=f;break}}else if(l==e){e=i?f:l;break}}a[0]&&(this._valueIsObservableArray?e=a:i||!t?e=a[0]:e=a[0].get(t))}}this.bindings.value.set(e),this._initChange=!1},refresh:function(){if(!this._initChange){var e=this.options.dataValueField||this.options.dataTextField,n=this.bindings.value.get(),r=0,i,u=[];n===t&&(n=null);if(e)if(n instanceof o){for(i=n.length;r<i;r++)u[r]=n[r].get(e);n=u}else n instanceof s&&(n=n.get(e));this.widget.value(n)}this._initChange=!1},destroy:function(){this.widget.unbind(y,this._change)}}),multiselect:{value:S.extend({init:function(t,n,r){S.fn.init.call(this,t.element[0],n,r),this.widget=t,this._change=e.proxy(this.change,this),this.widget.first(y,this._change),this._initChange=!1},change:function(){var e=this,t=e.bindings[p].get(),n=e.options.valuePrimitive,r=n?e.widget.value():e.widget.dataItems(),i=this.options.dataValueField||this.options.dataTextField;r=r.slice(0),e._initChange=!0;if(t instanceof o){var s=[],u=r.length,a=0,f=0,l=t[a],c=!1,h,d,v;while(l){v=!1;for(f=0;f<u;f++){n?c=r[f]==l:(d=r[f],d=d.get?d.get(i):d,c=d==(l.get?l.get(i):l));if(c){r.splice(f,1),u-=1,v=!0;break}}v?a+=1:(s.push(l),x(t,a,1),h=a),l=t[a]}x(t,t.length,0,r),s.length&&t.trigger("change",{action:"remove",items:s,index:h}),r.length&&t.trigger("change",{action:"add",items:r,index:t.length-1})}else e.bindings[p].set(r);e._initChange=!1},refresh:function(){if(!this._initChange){var e=this.options.dataValueField||this.options.dataTextField,n=this.bindings.value.get(),r=0,i,u=[],a;n===t&&(n=null);if(e)if(n instanceof o){for(i=n.length;r<i;r++)a=n[r],u[r]=a.get?a.get(e):a;n=u}else n instanceof s&&(n=n.get(e));this.widget.value(n)}},destroy:function(){this.widget.unbind(y,this._change)}})}};var x=function(e,t,n,r){r=r||[],n=n||0;var i=r.length,s=e.length,o=[].slice.call(e,t+n),u=o.length,a;if(i){i=t+i,a=0;for(;t<i;t++)e[t]=r[a],a++;e.length=i}else if(n){e.length=t,n+=t;while(t<n)delete e[--n]}if(u){u=t+u,a=0;for(;t<u;t++)e[t]=o[a],a++;e.length=u}t=e.length;while(t<s)delete e[t],t++},T=l.extend({init:function(e,t){this.target=e,this.options=t,this.toDestroy=[]},bind:function(e){var t=this.target.nodeName.toLowerCase(),n,r,i,s,o=a[t]||{};for(n in e)n==p?r=!0:n==d?i=!0:n==v?s=!0:this.applyBinding(n,e,o);i&&this.applyBinding(d,e,o),r&&this.applyBinding(p,e,o),s&&this.applyBinding(v,e,o)},applyBinding:function(e,t,n){var r=n[e]||a[e],i=this.toDestroy,s,o=t[e];if(r){r=new r(this.target,t,this.options),i.push(r);if(o instanceof b)r.bind(o),i.push(o);else for(s in o)r.bind(o,s),i.push(o[s])}else if(e!=="template")throw new Error("The "+e+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")},destroy:function(){var e,t,n=this.toDestroy;for(e=0,t=n.length;e<t;e++)n[e].destroy()}}),N=T.extend({bind:function(e){var t=this,n,r=!1,i=!1,s=a.widget[t.target.options.name.toLowerCase()]||{};for(n in e)n==p?r=!0:n==d?i=!0:t.applyBinding(n,e,s);i&&t.applyBinding(d,e,s),r&&t.applyBinding(p,e,s)},applyBinding:function(e,t,n){var r=n[e]||a.widget[e],i=this.toDestroy,s,o=t[e];if(!r)throw new Error("The "+e+" binding is not supported by the "+this.target.options.name+" widget");r=new r(this.target,t,this.target.options),i.push(r);if(o instanceof b)r.bind(o),i.push(o);else for(s in o)r.bind(o,s),i.push(o[s])}}),L=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,A=/\s/g;n.unbind=j,n.bind=D,n.data.binders=a,n.data.Binder=S,n.notify=F,n.observable=function(e){return e instanceof s||(e=new s(e)),e},n.observableHierarchy=function(e){function r(e){var t,n;for(t=0;t<e.length;t++)e[t]._initChildren(),n=e[t].children,n.fetch(),e[t].items=n.data(),r(e[t].items)}var t=n.data.HierarchicalDataSource.create(e);return t.fetch(),r(t.data()),t._data._dataSource=t,t._data}}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()}),function(e,t){t("kendo.editable",["./kendo.datepicker","./kendo.numerictextbox","./kendo.validator","./kendo.binder"],e)}(function(){return function(e,t){function d(t){return t=t!=null?t:"",t.type||e.type(t)||"string"}function v(t){t.find(":input:not(:button, ["+n.attr("role")+"=upload], ["+n.attr("skip")+"], [type=file]), select").each(function(){var t=n.attr("bind"),r=this.getAttribute(t)||"",i=this.type==="checkbox"||this.type==="radio"?"checked:":"value:",s=this.name;r.indexOf(i)===-1&&s&&(r+=(r.length?",":"")+i+s,e(this).attr(t,r))})}function m(e){var t=(e.model.fields||e.model)[e.field],r=d(t),i=t?t.validation:{},s,o=n.attr("type"),l=n.attr("bind"),c,h={name:e.field};for(s in i)c=i[s],f(s,p)>=0?h[o]=s:u(c)||(h[s]=a(c)?c.value||s:c),h[n.attr(s+"-msg")]=c.message;return f(r,p)>=0&&(h[o]=r),h[l]=(r==="boolean"?"checked:":"value:")+e.field,h}function g(e){var t,n,r,i,s,o;if(e&&e.length){o=[];for(t=0,n=e.length;t<n;t++)r=e[t],s=r.text||r.value||r,i=r.value==null?r.text||r:r.value,o[t]={text:s,value:i}}return o}function b(e,t){var n=e?e.validation||{}:{},r,i;for(r in n)i=n[r],a(i)&&i.value&&(i=i.value),u(i)&&(t[r]=i)}var n=window.kendo,r=n.ui,i=r.Widget,s=e.extend,o=n.support.browser.msie&&n.support.browser.version<9,u=n.isFunction,a=e.isPlainObject,f=e.inArray,l=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,c='<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>',h="change",p=["url","email","number","date","boolean"],y={number:function(t,r){var i=m(r);e('<input type="text"/>').attr(i).appendTo(t).kendoNumericTextBox({format:r.format}),e("<span "+n.attr("for")+'="'+r.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},date:function(t,r){var i=m(r),s=r.format;s&&(s=n._extractFormat(s)),i[n.attr("format")]=s,e('<input type="text"/>').attr(i).appendTo(t).kendoDatePicker({format:r.format}),e("<span "+n.attr("for")+'="'+r.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},string:function(t,n){var r=m(n);e('<input type="text" class="k-input k-textbox"/>').attr(r).appendTo(t)},"boolean":function(t,n){var r=m(n);e('<input type="checkbox" />').attr(r).appendTo(t)},values:function(t,r){var i=m(r);e("<select "+n.attr("text-field")+'="text"'+n.attr("value-field")+'="value"'+n.attr("source")+"='"+n.stringify(g(r.values)).replace(/\'/g,"&apos;")+"'"+n.attr("role")+'="dropdownlist"/>').attr(i).appendTo(t),e("<span "+n.attr("for")+'="'+r.field+'" class="k-invalid-msg"/>').hide().appendTo(t)}},w=i.extend({init:function(t,n){var r=this;i.fn.init.call(r,t,n),r._validateProxy=e.proxy(r._validate,r),r.refresh()},events:[h],options:{name:"Editable",editors:y,clearContainer:!0,errorTemplate:c},editor:function(e,t){var r=this,i=r.options.editors,o=a(e),u=o?e.field:e,f=r.options.model||{},c=o&&e.values,h=c?"values":d(t),p=o&&e.editor,v=p?e.editor:i[h],m=r.element.find("["+n.attr("container-for")+"="+u.replace(l,"\\$1")+"]");v=v?v:i.string,p&&typeof e.editor=="string"&&(v=function(t){t.append(e.editor)}),m=m.length?m:r.element,v(m,s(!0,{},o?e:{field:u},{model:f}))},_validate:function(t){var r=this,i=typeof t.value=="boolean",s,o=r._validationEventInProgress,u={},a=n.attr("bind"),c=(i?"checked:":"value:")+t.field.replace(l,"\\$1");u[t.field]=t.value,s=e(":input["+a+'*="'+c+'"]',r.element).filter("["+n.attr("validate")+"!='false']"),s.length>1&&(s=s.filter(function(){return f(c,e(this).attr(a).split(","))>=0}));try{r._validationEventInProgress=!0,(!r.validatable.validateInput(s)||!o&&r.trigger(h,{values:u}))&&t.preventDefault()}finally{r._validationEventInProgress=!1}},end:function(){return this.validatable.validate()},destroy:function(){var e=this;i.fn.destroy.call(e),e.options.model.unbind("set",e._validateProxy),n.unbind(e.element),e.validatable&&e.validatable.destroy(),n.destroy(e.element),e.element.removeData("kendoValidator")},refresh:function(){var r=this,i,s,u=r.options.fields||[],f=r.options.clearContainer?r.element.empty():r.element,l=r.options.model||{},c={},h,p,d,m,g;e.isArray(u)||(u=[u]);for(i=0,s=u.length;i<s;i++)h=u[i],p=a(h),d=p?h.field:h,m=(l.fields||l)[d],b(m,c),r.editor(h,m);if(!s){g=l.fields||l;for(d in g)b(g[d],c)}v(f),n.bind(f,r.options.model),r.options.model.bind("set",r._validateProxy),r.validatable=new n.ui.Validator(f,{validateOnBlur:!1,errorTemplate:r.options.errorTemplate||t,rules:c});var y=f.find(":kendoFocusable").eq(0).focus();o&&y.focus()}});r.plugin(w)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()}),function(e,t){t("kendo.selectable",["./kendo.core","./kendo.userevents"],e)}(function(){return function(e,t){function m(e,t){var r=n.getOffset(e),i=t.left+t.width,s=t.top+t.height;return r.right=r.left+e.outerWidth(),r.bottom=r.top+e.outerHeight(),!(r.left>i||r.right<t.left||r.top>s||r.bottom<t.top)}var n=window.kendo,r=n.ui.Widget,i=e.proxy,s=Math.abs,o=Array.prototype.shift,u="aria-selected",a="k-state-selected",f="k-state-selecting",l="k-selectable",c="change",h=".kendoSelectable",p="k-state-unselecting",d=!1;(function(e){(function(){e('<div class="parent"><span /></div>').on("click",">*",function(){d=!0}).find("span").click().end().off()})()})(e);var v=r.extend({init:function(t,s){var o=this,u;r.fn.init.call(o,t,s),o._marquee=e("<div class='k-marquee'><div class='k-marquee-color'></div></div>"),o._lastActive=null,o.element.addClass(l),o.relatedTarget=o.options.relatedTarget,u=o.options.multiple,o.userEvents=new n.UserEvents(o.element,{global:!0,allowSelection:!0,filter:(d?"":"."+l+" ")+o.options.filter,tap:i(o._tap,o)}),u&&o.userEvents.bind("start",i(o._start,o)).bind("move",i(o._move,o)).bind("end",i(o._end,o)).bind("select",i(o._select,o))},events:[c],options:{name:"Selectable",filter:">*",multiple:!1,relatedTarget:e.noop},_isElement:function(e){var t=this.element,n,r=t.length,i=!1;e=e[0];for(n=0;n<r;n++)if(t[n]===e){i=!0;break}return i},_tap:function(t){var n=e(t.target),r=this,i=t.event.ctrlKey||t.event.metaKey,s=r.options.multiple,o=s&&t.event.shiftKey,u,f=t.event.which,h=t.event.button;if(!r._isElement(n.closest("."+l))||f&&f==3||h&&h==2)return;u=n.hasClass(a),(!s||!i)&&r.clear(),n=n.add(r.relatedTarget(n)),o?r.selectRange(r._firstSelectee(),n):(u&&i?(r._unselect(n),r._notify(c)):r.value(n),r._lastActive=r._downTarget=n)},_start:function(t){var n=this,r=e(t.target),i=r.hasClass(a),s,o=t.event.ctrlKey||t.event.metaKey;n._downTarget=r;if(!n._isElement(r.closest("."+l))){n.userEvents.cancel();return}n.options.useAllItems?n._items=n.element.find(n.options.filter):(s=r.closest(n.element),n._items=s.find(n.options.filter)),n._marquee.appendTo(document.body).css({left:t.x.client+1,top:t.y.client+1,width:0,height:0}),o||n.clear(),r=r.add(n.relatedTarget(r)),i&&(n._selectElement(r,!0),o&&r.addClass(p))},_move:function(e){var t=this,n={left:e.x.startLocation>e.x.location?e.x.location:e.x.startLocation,top:e.y.startLocation>e.y.location?e.y.location:e.y.startLocation,width:s(e.x.initialDelta),height:s(e.y.initialDelta)};t._marquee.css(n),t._invalidateSelectables(n,e.event.ctrlKey||e.event.metaKey),e.preventDefault()},_end:function(){var e=this;e._marquee.remove(),e._unselect(e.element.find(e.options.filter+"."+p)).removeClass(p);var t=e.element.find(e.options.filter+"."+f);t=t.add(e.relatedTarget(t)),e.value(t),e._lastActive=e._downTarget,e._items=null},_invalidateSelectables:function(e,t){var n,r,i=this._downTarget[0],s=this._items,o,u;for(n=0,r=s.length;n<r;n++)u=s.eq(n),o=u.add(this.relatedTarget(u)),m(u,e)?u.hasClass(a)?t&&i!==u[0]&&o.removeClass(a).addClass(p):!u.hasClass(f)&&!u.hasClass(p)&&o.addClass(f):u.hasClass(f)?o.removeClass(f):t&&u.hasClass(p)&&o.removeClass(p).addClass(a)},value:function(e){var t=this,n=i(t._selectElement,t);if(e){e.each(function(){n(this)}),t._notify(c);return}return t.element.find(t.options.filter+"."+a)},_firstSelectee:function(){var e=this,t;return e._lastActive!==null?e._lastActive:(t=e.value(),t.length>0?t[0]:e.element.find(e.options.filter)[0])},_selectElement:function(t,n){var r=e(t),i=!n&&this._notify("select",{element:t});r.removeClass(f),i||(r.addClass(a),this.options.aria&&r.attr(u,!0))},_notify:function(e,t){return t=t||{},this.trigger(e,t)},_unselect:function(e){return e.removeClass(a),this.options.aria&&e.attr(u,!1),e},_select:function(t){var r="input,a,textarea,.k-multiselect-wrap,select",i=n.support.browser.msie;e(t.event.target).is(r)?(this.userEvents.cancel(),this._downTarget=null):(!i||i&&!e(n._activeElement()).is(r))&&t.preventDefault()},clear:function(){var e=this.element.find(this.options.filter+"."+a);this._unselect(e)},selectRange:function(t,n){var r=this,i,s,o;r.clear(),r.element.length>1&&(o=r.options.continuousItems());if(!o||!o.length)o=r.element.find(r.options.filter);t=e.inArray(e(t)[0],o),n=e.inArray(e(n)[0],o),t>n&&(s=t,t=n,n=s),r.options.useAllItems||(n+=r.element.length-1);for(i=t;i<=n;i++)r._selectElement(o[i]);r._notify(c)},destroy:function(){var e=this;r.fn.destroy.call(e),e.element.off(h),e.userEvents.destroy(),e._marquee=e._lastActive=e.element=e.userEvents=null}});n.ui.plugin(v)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()}),function(e,t){t("kendo.listview",["./kendo.data","./kendo.editable","./kendo.selectable"],e)}(function(){return function(e,t){var n=window.kendo,r="change",i="cancel",s="dataBound",o="dataBinding",u=n.ui.Widget,a=n.keys,f=">*",l="progress",c="error",h="k-state-focused",p="k-state-selected",d="k-edit-item",v="string",m="edit",g="remove",y="save",b="click",w=".kendoListView",E=e.proxy,S=n._activeElement,x=n.ui.progress,T=n.data.DataSource,N=u.extend({init:function(t,r){var i=this;r=e.isArray(r)?{dataSource:r}:r,u.fn.init.call(i,t,r),r=i.options,i.wrapper=t=i.element,t[0].id&&(i._itemId=t[0].id+"_lv_active"),i._element(),i._dataSource(),i._templates(),i._navigatable(),i._selectable(),i._pageable(),i._crudHandlers(),i.options.autoBind&&i.dataSource.fetch(),n.notify(i)},events:[r,i,o,s,m,g,y],options:{name:"ListView",autoBind:!0,selectable:!1,navigatable:!1,template:"",altTemplate:"",editTemplate:""},setOptions:function(e){u.fn.setOptions.call(this,e),this._templates()},_templates:function(){var e=this.options;this.template=n.template(e.template||""),this.altTemplate=n.template(e.altTemplate||e.template),this.editTemplate=n.template(e.editTemplate||"")},_item:function(e){return this.element.children()[e]()},items:function(){return this.element.children()},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&e.fetch()},_unbindDataSource:function(){var e=this;e.dataSource.unbind(r,e._refreshHandler).unbind(l,e._progressHandler).unbind(c,e._errorHandler)},_dataSource:function(){var e=this;e.dataSource&&e._refreshHandler?e._unbindDataSource():(e._refreshHandler=E(e.refresh,e),e._progressHandler=E(e._progress,e),e._errorHandler=E(e._error,e)),e.dataSource=T.create(e.options.dataSource).bind(r,e._refreshHandler).bind(l,e._progressHandler).bind(c,e._errorHandler)},_progress:function(){x(this.element,!0)},_error:function(){x(this.element,!1)},_element:function(){this.element.addClass("k-widget k-listview").attr("role","listbox")},refresh:function(e){var t=this,r=t.dataSource.view(),i,u,a,f="",l,c,h=t.template,p=t.altTemplate,d=S();e=e||{};if(e.action==="itemchange"){!t._hasBindingTarget()&&!t.editable&&(i=e.items[0],a=t.items().filter("["+n.attr("uid")+"="+i.uid+"]"),a.length>0&&(l=a.index(),a.replaceWith(h(i)),a=t.items().eq(l),a.attr(n.attr("uid"),i.uid),t.trigger("itemChange",{item:a,data:i})));return}if(t.trigger(o,{action:e.action||"rebind",items:e.items,index:e.index}))return;t._destroyEditable();for(l=0,c=r.length;l<c;l++)l%2?f+=p(r[l]):f+=h(r[l]);t.element.html(f),u=t.items();for(l=0,c=r.length;l<c;l++)u.eq(l).attr(n.attr("uid"),r[l].uid).attr("role","option").attr("aria-selected","false");t.element[0]===d&&t.options.navigatable&&t.current(u.eq(0)),t.trigger(s)},_pageable:function(){var t=this,r=t.options.pageable,i,s;e.isPlainObject(r)&&(s=r.pagerId,i=e.extend({},r,{dataSource:t.dataSource,pagerId:null}),t.pager=new n.ui.Pager(e("#"+s),i))},_selectable:function(){var e=this,t,i,s=e.options.selectable,o=e.options.navigatable;s&&(t=typeof s===v&&s.toLowerCase().indexOf("multiple")>-1,t&&e.element.attr("aria-multiselectable",!0),e.selectable=new n.ui.Selectable(e.element,{aria:!0,multiple:t,filter:f,change:function(){e.trigger(r)}}),o&&e.element.on("keydown"+w,function(n){if(n.keyCode===a.SPACEBAR){i=e.current(),n.target==n.currentTarget&&n.preventDefault();if(t){if(!n.ctrlKey)e.selectable.clear();else if(i&&i.hasClass(p)){i.removeClass(p);return}}else e.selectable.clear();e.selectable.value(i)}}))},current:function(e){var n=this,r=n.element,i=n._current,s=n._itemId;if(e===t)return i;i&&i[0]&&(i[0].id===s&&i.removeAttr("id"),i.removeClass(h),r.removeAttr("aria-activedescendant")),e&&e[0]&&(s=e[0].id||s,n._scrollTo(e[0]),r.attr("aria-activedescendant",s),e.addClass(h).attr("id",s)),n._current=e},_scrollTo:function(t){var n=this,r,i=!1,s="scroll";n.wrapper.css("overflow")=="auto"||n.wrapper.css("overflow")==s?r=n.wrapper[0]:(r=window,i=!0);var o=function(n,o){var u=i?e(t).offset()[n.toLowerCase()]:t["offset"+n],a=t["client"+o],f=e(r)[s+n](),l=e(r)[o.toLowerCase()]();u+a>f+l?e(r)[s+n](u+a-l):u<f&&e(r)[s+n](u)};o("Top","Height"),o("Left","Width")},_navigatable:function(){var t=this,r=t.options.navigatable,i=t.element,s=function(n){t.current(e(n.currentTarget)),e(n.target).is(":button,a,:input,a>.k-icon,textarea")||i.focus()};r&&(t._tabindex(),i.on("focus"+w,function(){var e=t._current;if(!e||!e.is(":visible"))e=t._item("first");t.current(e)}).on("focusout"+w,function(){t._current&&t._current.removeClass(h)}).on("keydown"+w,function(r){var s=r.keyCode,o=t.current(),u=e(r.target),f=!u.is(":button,textarea,a,a>.t-icon,input"),l=u.is(":text"),c=n.preventDefault,h=i.find("."+d),p=S(),v;if(!f&&!l&&a.ESC!=s||l&&a.ESC!=s&&a.ENTER!=s)return;if(a.UP===s||a.LEFT===s)o&&(o=o.prev()),t.current(!o||!o[0]?t._item("last"):o),c(r);else if(a.DOWN===s||a.RIGHT===s)o&&(o=o.next()),t.current(!o||!o[0]?t._item("first"):o),c(r);else if(a.PAGEUP===s)t.current(null),t.dataSource.page(t.dataSource.page()-1),c(r);else if(a.PAGEDOWN===s)t.current(null),t.dataSource.page(t.dataSource.page()+1),c(r);else if(a.HOME===s)t.current(t._item("first")),c(r);else if(a.END===s)t.current(t._item("last")),c(r);else if(a.ENTER===s)if(h.length!==0&&(f||l)){v=t.items().index(h),p&&p.blur(),t.save();var m=function(){t.element.trigger("focus"),t.current(t.items().eq(v))};t.one("dataBound",m)}else t.options.editTemplate!==""&&t.edit(o);else if(a.ESC===s){h=i.find("."+d);if(h.length===0)return;v=t.items().index(h),t.cancel(),t.element.trigger("focus"),t.current(t.items().eq(v))}}),i.on("mousedown"+w+" touchstart"+w,f,E(s,t)))},clearSelection:function(){var e=this;e.selectable.clear(),e.trigger(r)},select:function(t){var n=this,r=n.selectable;t=e(t);if(t.length){r.options.multiple||(r.clear(),t=t.first()),r.value(t);return}return r.value()},_destroyEditable:function(){var e=this;e.editable&&(e.editable.destroy(),delete e.editable)},_modelFromElement:function(e){var t=e.attr(n.attr("uid"));return this.dataSource.getByUid(t)},_closeEditable:function(e){var t=this,r=t.editable,i,s,o=t.template,u=!0;return r&&(e&&(u=r.end()),u&&(r.element.index()%2&&(o=t.altTemplate),i=t._modelFromElement(r.element),t._destroyEditable(),s=r.element.index(),r.element.replaceWith(o(i)),t.items().eq(s).attr(n.attr("uid"),i.uid))),u},edit:function(e){var t=this,r=t._modelFromElement(e),i,s=r.uid,o;t.cancel(),e=t.items().filter("["+n.attr("uid")+"="+s+"]"),o=e.index(),e.replaceWith(t.editTemplate(r)),i=t.items().eq(o).addClass(d).attr(n.attr("uid"),r.uid),t.editable=i.kendoEditable({model:r,clearContainer:!1,errorTemplate:!1}).data("kendoEditable"),t.trigger(m,{model:r,item:i})},save:function(){var e=this,t=e.editable,n;if(!t)return;t=t.element,n=e._modelFromElement(t),!e.trigger(y,{model:n,item:t})&&e._closeEditable(!0)&&e.dataSource.sync()},remove:function(e){var t=this,n=t.dataSource,r=t._modelFromElement(e);t.trigger(g,{model:r,item:e})||(e.hide(),n.remove(r),n.sync())},add:function(){var e=this,t=e.dataSource,n=t.indexOf((t.view()||[])[0]);n<0&&(n=0),e.cancel(),t.insert(n,{}),e.edit(e.element.children().first())},cancel:function(){var e=this,t=e.dataSource;if(e.editable){var n=e.editable.element,r=e._modelFromElement(n);e.trigger(i,{model:r,container:n})||(t.cancelChanges(r),e._closeEditable(!1))}},_crudHandlers:function(){var t=this,r=b+w;t.element.on(r,".k-edit-button",function(r){var i=e(this).closest("["+n.attr("uid")+"]");t.edit(i),r.preventDefault()}),t.element.on(r,".k-delete-button",function(r){var i=e(this).closest("["+n.attr("uid")+"]");t.remove(i),r.preventDefault()}),t.element.on(r,".k-update-button",function(e){t.save(),e.preventDefault()}),t.element.on(r,".k-cancel-button",function(e){t.cancel(),e.preventDefault()})},destroy:function(){var e=this;u.fn.destroy.call(e),e._unbindDataSource(),e._destroyEditable(),e.element.off(w),e.pager&&e.pager.destroy(),e.selectable&&e.selectable.destroy(),n.destroy(e.element)}});n.ui.plugin(N)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()}),function(e,t){t("kendo.upload",["./kendo.core"],e)}(function(){return function(e,t){function b(t){return e.map(w(t),function(e){return e.name}).join(", ")}function w(e){var t=e[0];return t.files?E(t.files):[{name:T(t.value),extension:x(t.value),size:null}]}function E(t){return e.map(t,function(e){return S(e)})}function S(e){var t=e.name||e.fileName;return{name:n.htmlEncode(t),extension:x(t),size:e.size||e.fileSize,rawFile:e}}function x(e){var t=e.match(s);return t?t[0]:""}function T(e){var t=e.lastIndexOf("\\");return t!=-1?e.substr(t+1):e}function N(t,r){var i=n.guid();return e.map(t,function(e){return e.uid=r?n.guid():i,e})}function C(t,n,r){if(!n._supportsRemove())return;var s=t.data("fileNames"),o=e.map(s,function(e){return e.name});n._submitRemove(o,r,function(r,i,o){n._removeFileEntry(t),n.trigger(f,{operation:"remove",files:s,response:r,XMLHttpRequest:o})},function(t){n.trigger(l,{operation:"remove",files:s,XMLHttpRequest:t}),i("Server response: "+t.responseText)})}function k(t,n,r){var i=!1,s="";try{s=e.parseJSON(L(t)),i=!0}catch(o){r()}i&&n(s)}function L(e){if(typeof e=="undefined"||e==="")e="{}";return e}function A(e){e.stopPropagation(),e.preventDefault()}function O(e,t,n,r){var i,s;e.on("dragenter"+t,function(){n(),s=new Date,i||(i=setInterval(function(){var e=new Date-s;e>100&&(r(),clearInterval(i),i=null)},100))}).on("dragover"+t,function(){s=new Date})}function M(e){return e.is(".k-file-progress, .k-file-success, .k-file-error")}function _(t){return e(t.target).closest(".k-file")}function D(){var n={},r=e("meta[name=csrf-token]").attr("content"),i=e("meta[name=csrf-param]").attr("content");return e("input[name^='__RequestVerificationToken']").each(function(){n[this.name]=this.value}),i!==t&&r!==t&&(n[i]=r),n}var n=window.kendo,r=n.ui.Widget,i=n.logToConsole,s=/\.([^\.]+)$/,o=".kendoUpload",u="select",a="upload",f="success",l="error",c="complete",h="cancel",p="progress",d="remove",v=r.extend({init:function(t,i){var s=this;r.fn.init.call(s,t,i),s.name=t.name,s.multiple=s.options.multiple,s.localization=s.options.localization;var u=s.element;s.wrapper=u.closest(".k-upload"),s.wrapper.length===0&&(s.wrapper=s._wrapInput(u)),s._activeInput(u),s.toggle(s.options.enabled);var a=s._ns=o+"-"+n.guid();u.closest("form").on("submit"+a,e.proxy(s._onParentFormSubmit,s)).on("reset"+a,e.proxy(s._onParentFormReset,s));if(s.options.async.saveUrl){s._module=s._supportsFormData()?new y(s):new g(s),s._async=!0;var f=s.options.files;f.length>0&&s._renderInitialFiles(f)}else s._module=new m(s);s._supportsDrop()&&s._setupDropZone(),s.wrapper.on("click",".k-upload-action",e.proxy(s._onFileAction,s)).on("click",".k-upload-selected",e.proxy(s._onUploadSelected,s)),s.element.val()&&s._onInputChange({target:s.element})},events:[u,a,f,l,c,h,p,d],options:{name:"Upload",enabled:!0,multiple:!0,showFileList:!0,template:"",files:[],async:{removeVerb:"POST",autoUpload:!0},localization:{select:"Select files...",cancel:"Cancel",retry:"Retry",remove:"Remove",uploadSelectedFiles:"Upload files",dropFilesHere:"drop files here to upload",statusUploading:"uploading",statusUploaded:"uploaded",statusWarning:"warning",statusFailed:"failed",headerStatusUploading:"Uploading...",headerStatusUploaded:"Done"}},setOptions:function(e){var t=this,n=t.element;r.fn.setOptions.call(t,e),t.multiple=t.options.multiple,n.attr("multiple",t._supportsMultiple()?t.multiple:!1),t.toggle(t.options.enabled)},enable:function(e){e=typeof e=="undefined"?!0:e,this.toggle(e)},disable:function(){this.toggle(!1)},toggle:function(e){e=typeof e=="undefined"?e:!e,this.wrapper.toggleClass("k-state-disabled",e),this.element.prop("disabled",e)},destroy:function(){var t=this;e(document).add(e(".k-dropzone",t.wrapper)).add(t.wrapper.closest("form")).off(t._ns),e(t.element).off(o),r.fn.destroy.call(t)},_addInput:function(t){if(!t[0].nodeType)return;var n=this,r=t.clone().val("");r.insertAfter(n.element).data("kendoUpload",n),e(n.element).hide().removeAttr("id").off(o),n._activeInput(r)},_activeInput:function(t){var n=this,r=n.wrapper;n.element=t,t.attr("multiple",n._supportsMultiple()?n.multiple:!1).attr("autocomplete","off").on("click"+o,function(e){r.hasClass("k-state-disabled")&&e.preventDefault()}).on("focus"+o,function(){e(this).parent().addClass("k-state-focused")}).on("blur"+o,function(){e(this).parent().removeClass("k-state-focused")}).on("change"+o,e.proxy(n._onInputChange,n))},_onInputChange:function(t){var n=this,r=e(t.target),i=N(n._inputFiles(r),n._isAsyncNonBatch()),s=n.trigger(u,{files:i});s?(n._addInput(r),r.remove()):n._module.onSelect({target:r},i)},_onDrop:function(t){var n=t.originalEvent.dataTransfer,r=this,i=n.files,s=N(E(i),r._isAsyncNonBatch());A(t);if(i.length>0){var o=r.trigger(u,{files:s});o||r._module.onSelect({target:e(".k-dropzone",r.wrapper)},s)}},_isAsyncNonBatch:function(){return this._async&&!this.options.async.batch||!1},_renderInitialFiles:function(t){var n=this,r=0;t=N(t,!0);for(r=0;r<t.length;r++){var i=t[r],s=n._enqueueFile(i.name,{fileNames:[i]});s.addClass("k-file-success").data("files",[t[r]]),e(".k-progress",s).width("100%"),e(".k-upload-status",s).prepend("<span class='k-upload-pct'>100%</span>"),n._fileAction(s,d)}},_prepareTemplateData:function(e,t){var n=t.fileNames,r={},i=0,s=0;for(s=0;s<n.length;s++)i+=n[s].size;return r.name=e,r.size=i,r.files=t.fileNames,r},_prepareDefaultFileEntryTemplate:function(t,n){var r="",i=e("<li class='k-file'><span class='k-progress'></span><span class='k-icon'></span><span class='k-filename' title='"+t+"'>"+t+"</span>"+"<strong class='k-upload-status'></strong>"+"</li>");return n.fileNames.length==1&&!!n.fileNames[0].extension&&(r=n.fileNames[0].extension.substring(1),e(".k-icon",i).addClass("k-i-"+r)),i},_enqueueFile:function(t,r){var i=this,s,o,u=r.fileNames[0].uid,a=e(".k-upload-files",i.wrapper),f=i.options,l=f.template,c;return a.length===0&&(a=e("<ul class='k-upload-files k-reset'></ul>").appendTo(i.wrapper),i.options.showFileList||a.hide(),i.wrapper.removeClass("k-upload-empty")),s=e(".k-file",a),l?(c=i._prepareTemplateData(t,r),l=n.template(l),o=e("<li class='k-file'>"+l(c)+"</li>"),o.find(".k-upload-action").addClass("k-button k-button-bare")):o=i._prepareDefaultFileEntryTemplate(t,r),o.attr(n.attr("uid"),u).appendTo(a).data(r),i._async||e(".k-progress",o).width("100%"),!i.multiple&&s.length>0&&i._module.onRemove({target:e(s,i.wrapper)}),o},_removeFileEntry:function(t){var n=this,r=t.closest(".k-upload-files"),i,s;t.remove(),i=e(".k-file",r),s=e(".k-file-success, .k-file-error",r),s.length===i.length&&this._hideUploadButton(),i.length===0&&(r.remove(),n.wrapper.addClass("k-upload-empty"),n._hideHeaderUploadstatus())},_fileAction:function(e,t){var n={remove:"k-delete",cancel:"k-cancel",retry:"k-retry"},r={remove:"k-i-close",cancel:"k-i-close",retry:"k-i-refresh"};if(!n.hasOwnProperty(t))return;this._clearFileAction(e),this.options.template?e.find(".k-upload-action").addClass("k-button k-button-bare").append("<span class='k-icon "+r[t]+" "+n[t]+"' title='"+this.localization[t]+"'></span>").show():(e.find(".k-upload-status .k-upload-action").remove(),e.find(".k-upload-status").append(this._renderAction(n[t],this.localization[t],r[t])))},_fileState:function(t,n){var r=this.localization,i={uploading:{text:r.statusUploading},uploaded:{text:r.statusUploaded},failed:{text:r.statusFailed}},s=i[n];s&&e(".k-icon:not(.k-delete, .k-cancel, .k-retry)",t).text(s.text)},_renderAction:function(t,n,r){return t!==""?e("<button type='button' class='k-button k-button-bare k-upload-action'><span class='k-icon "+r+" "+t+"' title='"+n+"'></span>"+"</button>"):e("<button type='button' class='k-button'>"+n+"</button>")},_clearFileAction:function(t){e(".k-upload-action",t).empty().hide()},_onFileAction:function(t){var n=this;if(!n.wrapper.hasClass("k-state-disabled")){var r=e(t.target).closest(".k-upload-action"),i=r.find(".k-icon"),s=r.closest(".k-file"),o={files:s.data("fileNames")};i.hasClass("k-delete")?n.trigger(d,o)||n._module.onRemove({target:e(s,n.wrapper)},o.data):i.hasClass("k-cancel")?(n.trigger(h,o),n._module.onCancel({target:e(s,n.wrapper)}),this._checkAllComplete(),n._updateHeaderUploadStatus()):i.hasClass("k-retry")&&(e(".k-warning",s).remove(),n._module.onRetry({target:e(s,n.wrapper)}))}return!1},_onUploadSelected:function(){return this._module.onSaveSelected(),!1},_onFileProgress:function(t,n){var r;this.options.template?e(".k-progress",t.target).width(n+"%"):(r=e(".k-upload-pct",t.target),r.length===0&&e(".k-upload-status",t.target).prepend("<span class='k-upload-pct'></span>"),e(".k-upload-pct",t.target).text(n+"%"),e(".k-progress",t.target).width(n+"%")),this.trigger(p,{files:_(t).data("fileNames"),percentComplete:n})},_onUploadSuccess:function(e,t,n){var r=_(e);this._fileState(r,"uploaded"),r.removeClass("k-file-progress").addClass("k-file-success"),this._updateHeaderUploadStatus(),this.trigger(f,{files:r.data("fileNames"),response:t,operation:"upload",XMLHttpRequest:n}),this._supportsRemove()?this._fileAction(r,d):this._clearFileAction(r),this._checkAllComplete()},_onUploadError:function(t,n){var r=_(t),s=e(".k-upload-pct",r);this._fileState(r,"failed"),r.removeClass("k-file-progress").addClass("k-file-error"),e(".k-progress",r).width("100%"),s.length>0?s.empty().removeClass("k-upload-pct").addClass("k-icon k-warning"):e(".k-upload-status",r).prepend("<span class='k-icon k-warning'></span>"),this._updateHeaderUploadStatus(),this._fileAction(r,"retry"),this.trigger(l,{operation:"upload",files:r.data("fileNames"),XMLHttpRequest:n}),i("Server response: "+n.responseText),this._checkAllComplete()},_showUploadButton:function(){var t=e(".k-upload-selected",this.wrapper);t.length===0&&(t=this._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected")),this.wrapper.append(t)},_hideUploadButton:function(){e(".k-upload-selected",this.wrapper).remove()},_showHeaderUploadStatus:function(){var t=this.localization,n=e(".k-dropzone",this.wrapper),r=e(".k-upload-status-total",this.wrapper);r.length!==0&&r.remove(),r='<strong class="k-upload-status k-upload-status-total">'+t.headerStatusUploading+'<span class="k-icon k-loading">'+t.statusUploading+"</span>"+"</strong>",n.length>0?n.append(r):e(".k-upload-button",this.wrapper).after(r)},_updateHeaderUploadStatus:function(){var t=this,n=t.localization,r=e(".k-file",t.wrapper).not(".k-file-success, .k-file-error"),i,s,o;r.length===0&&(i=e(".k-file.k-file-error",t.wrapper),s=e(".k-upload-status-total",t.wrapper),o=e(".k-icon",s).removeClass("k-loading").addClass(i.length!==0?"k-warning":"k-i-tick").text(i.length!==0?n.statusWarning:n.statusUploaded),s.text(t.localization.headerStatusUploaded).append(o))},_hideHeaderUploadstatus:function(){e(".k-upload-status-total",this.wrapper).remove()},_onParentFormSubmit:function(){var t=this,n=t.element;typeof this._module.onAbort!="undefined"&&this._module.onAbort();if(!n.value){var r=e(n);r.attr("disabled","disabled"),window.setTimeout(function(){r.removeAttr("disabled")},0)}},_onParentFormReset:function(){e(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return typeof FormData!="undefined"},_supportsMultiple:function(){var e=this._userAgent().indexOf("Windows")>-1;return!n.support.browser.opera&&(!n.support.browser.safari||!e)},_supportsDrop:function(){var e=this._userAgent().toLowerCase(),t=/chrome/.test(e),n=!t&&/safari/.test(e),r=n&&/windows/.test(e);return!r&&this._supportsFormData()&&this.options.async.saveUrl},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){var t=this;e(".k-upload-button",this.wrapper).wrap("<div class='k-dropzone'></div>");var n=t._ns,r=e(".k-dropzone",t.wrapper).append(e("<em>"+t.localization.dropFilesHere+"</em>")).on("dragenter"+n,A).on("dragover"+n,function(e){e.preventDefault()}).on("drop"+n,e.proxy(this._onDrop,this));O(r,n,function(){r.addClass("k-dropzone-hovered")},function(){r.removeClass("k-dropzone-hovered")}),O(e(document),n,function(){r.addClass("k-dropzone-active"),r.closest(".k-upload").removeClass("k-upload-empty")},function(){r.removeClass("k-dropzone-active"),e("li.k-file",r.closest(".k-upload")).length===0&&r.closest(".k-upload").addClass("k-upload-empty")})},_supportsRemove:function(){return!!this.options.async.removeUrl},_submitRemove:function(t,n,r,i){var s=this,o=s.options.async.removeField||"fileNames",u=e.extend(n,D());u[o]=t,jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",dataFilter:L,url:this.options.async.removeUrl,traditional:!0,data:u,success:r,error:i})},_wrapInput:function(e){var t=this,n=t.options;return e.wrap("<div class='k-widget k-upload k-header'><div class='k-button k-upload-button'></div></div>"),n.async.saveUrl||e.closest(".k-upload").addClass("k-upload-sync"),e.closest(".k-upload").addClass("k-upload-empty"),e.closest(".k-button").append("<span>"+this.localization.select+"</span>"),e.closest(".k-upload")},_checkAllComplete:function(){e(".k-file.k-file-progress",this.wrapper).length===0&&this.trigger(c)},_inputFiles:function(e){return w(e)}}),m=function(e){this.name="syncUploadModule",this.element=e.wrapper,this.upload=e,this.element.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")};m.prototype={onSelect:function(t,n){var r=this.upload,i=e(t.target);r._addInput(i);var s=r._enqueueFile(b(i),{relatedInput:i,fileNames:n});r._fileAction(s,d)},onRemove:function(e){var t=_(e);t.data("relatedInput").remove(),this.upload._removeFileEntry(t)}};var g=function(e){this.name="iframeUploadModule",this.element=e.wrapper,this.upload=e,this.iframes=[]};v._frameId=0,g.prototype={onSelect:function(t,n){var r=this.upload,i=e(t.target),s=this.prepareUpload(i,n);r.options.async.autoUpload?this.performUpload(s):(r._supportsRemove()&&this.upload._fileAction(s,d),r._showUploadButton())},prepareUpload:function(t,n){var r=this.upload,i=e(r.element),s=r.options.async.saveField||t.attr("name");r._addInput(t),t.attr("name",s);var o=this.createFrame(r.name+"_"+v._frameId++);this.registerFrame(o);var u=this.createForm(r.options.async.saveUrl,o.attr("name")).append(i),a=r._enqueueFile(b(t),{frame:o,relatedInput:i,fileNames:n});return o.data({form:u,file:a}),a},performUpload:function(t){var n={files:t.data("fileNames")},r=t.data("frame"),i=this.upload;if(!i.trigger(a,n)){i._hideUploadButton(),i._showHeaderUploadStatus(),r.appendTo(document.body);var s=r.data("form").attr("action",i.options.async.saveUrl).appendTo(document.body);n.data=e.extend({},n.data,D());for(var o in n.data){var u=s.find("input[name='"+o+"']");u.length===0&&(u=e("<input>",{type:"hidden",name:o}).prependTo(s)),u.val(n.data[o])}i._fileAction(t,h),i._fileState(t,"uploading"),e(t).addClass("k-file-progress"),r.one("load",e.proxy(this.onIframeLoad,this)),s[0].submit()}else i._removeFileEntry(r.data("file")),this.cleanupFrame(r),this.unregisterFrame(r)},onSaveSelected:function(){var t=this;e(".k-file",this.element).each(function(){var n=e(this),r=M(n);r||t.performUpload(n)})},onIframeLoad:function(t){var n=e(t.target),r;try{r=n.contents().text()}catch(i){r="Error trying to get server response: "+i}this.processResponse(n,r)},processResponse:function(t,n){var r=t.data("file"),i=this,s={responseText:n};k(n,function(n){e.extend(s,{statusText:"OK",status:"200"}),i.upload._onFileProgress({target:e(r,i.upload.wrapper)},100),i.upload._onUploadSuccess({target:e(r,i.upload.wrapper)},n,s),i.cleanupFrame(t),i.unregisterFrame(t)},function(){e.extend(s,{statusText:"error",status:"500"}),i.upload._onUploadError({target:e(r,i.upload.wrapper)},s)})},onCancel:function(t){var n=e(t.target).data("frame");this.stopFrameSubmit(n),this.cleanupFrame(n),this.unregisterFrame(n),this.upload._removeFileEntry(n.data("file"))},onRetry:function(e){var t=_(e);this.performUpload(t)},onRemove:function(e,t){var n=_(e),r=n.data("frame");r?(this.unregisterFrame(r),this.upload._removeFileEntry(n),this.cleanupFrame(r)):C(n,this.upload,t)},onAbort:function(){var t=this.element,n=this;e.each(this.iframes,function(){e("input",this.data("form")).appendTo(t),n.stopFrameSubmit(this[0]),this.data("form").remove(),this.remove()}),this.iframes=[]},createFrame:function(t){return e("<iframe name='"+t+"'"+" id='"+t+"'"+" style='display:none;' />")},createForm:function(t,n){return e("<form enctype='multipart/form-data' method='POST' action='"+t+"'"+" target='"+n+"'"+"/>")},stopFrameSubmit:function(e){typeof e.stop!="undefined"?e.stop():e.document&&e.document.execCommand("Stop")},registerFrame:function(e){this.iframes.push(e)},unregisterFrame:function(t){this.iframes=e.grep(this.iframes,function(e){return e.attr("name")!=t.attr("name")})},cleanupFrame:function(e){var t=e.data("form");e.data("file").data("frame",null),setTimeout(function(){t.remove(),e.remove()},1)}};var y=function(e){this.name="formDataUploadModule",this.element=e.wrapper,this.upload=e};y.prototype={onSelect:function(t,n){var r=this.upload,i=this,s=e(t.target),o=this.prepareUpload(s,n);e.each(o,function(){r.options.async.autoUpload?i.performUpload(this):(r._supportsRemove()&&r._fileAction(this,d),r._showUploadButton())})},prepareUpload:function(t,n){var r=this.enqueueFiles(n);return t.is("input")&&(e.each(r,function(){e(this).data("relatedInput",t)}),t.data("relatedFileEntries",r),this.upload._addInput(t)),r},enqueueFiles:function(t){var n=this.upload,r,i,s=t.length,o,u,a=[];if(n.options.async.batch===!0)r=e.map(t,function(e){return e.name}).join(", "),u=n._enqueueFile(r,{fileNames:t}),u.data("files",t),a.push(u);else for(i=0;i<s;i++)o=t[i],r=o.name,u=n._enqueueFile(r,{fileNames:[o]}),u.data("files",[o]),a.push(u);return a},performUpload:function(t){var n=this.upload,r=this.createFormData(),i=new XMLHttpRequest,s={files:t.data("fileNames"),XMLHttpRequest:i};if(!n.trigger(a,s)){n._fileAction(t,h),n._hideUploadButton(),n._showHeaderUploadStatus(),s.data=e.extend({},s.data,D());for(var o in s.data)r.append(o,s.data[o]);this.populateFormData(r,t.data("files")),n._fileState(t,"uploading"),e(t).addClass("k-file-progress"),this.postFormData(n.options.async.saveUrl,r,t,i)}else this.removeFileEntry(t)},onSaveSelected:function(){var t=this;e(".k-file",this.element).each(function(){var n=e(this),r=M(n);r||t.performUpload(n)})},onCancel:function(e){var t=_(e);this.stopUploadRequest(t),this.removeFileEntry(t)},onRetry:function(e){var t=_(e);this.performUpload(t)},onRemove:function(e,t){var n=_(e);n.hasClass("k-file-success")?C(n,this.upload,t):this.removeFileEntry(n)},postFormData:function(e,t,n,r){var i=this;n.data("request",r),r.addEventListener("load",function(e){i.onRequestSuccess.call(i,e,n)},!1),r.addEventListener(l,function(e){i.onRequestError.call(i,e,n)},!1),r.upload.addEventListener("progress",function(e){i.onRequestProgress.call(i,e,n)},!1),r.open("POST",e,!0),r.withCredentials="true",r.send(t)},createFormData:function(){return new FormData},populateFormData:function(e,t){var n=this.upload,r,i=t.length;for(r=0;r<i;r++)e.append(n.options.async.saveField||n.name,t[r].rawFile);return e},onRequestSuccess:function(t,n){function s(){i.upload._onUploadError({target:e(n,i.upload.wrapper)},r)}var r=t.target,i=this;r.status>=200&&r.status<=299?k(r.responseText,function(t){i.upload._onFileProgress({target:e(n,i.upload.wrapper)},100),i.upload._onUploadSuccess({target:e(n,i.upload.wrapper)},t,r),i.cleanupFileEntry(n)},s):s()},onRequestError:function(t,n){var r=t.target;this.upload._onUploadError({target:e(n,this.upload.wrapper)},r)},cleanupFileEntry:function(t){var n=t.data("relatedInput"),r=!0;n&&(e.each(n.data("relatedFileEntries")||[],function(){this.parent().length>0&&this[0]!=t[0]&&(r=r&&this.hasClass("k-file-success"))}),r&&n.remove())},removeFileEntry:function(e){this.cleanupFileEntry(e),this.upload._removeFileEntry(e)},onRequestProgress:function(t,n){var r=Math.round(t.loaded*100/t.total);this.upload._onFileProgress({target:e(n,this.upload.wrapper)},r)},stopUploadRequest:function(e){e.data("request").abort()}},n.ui.plugin(v)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()}),function(e,t){t("kendo.imagebrowser",["./kendo.listview","./kendo.dropdownlist","./kendo.upload"],e)}(function(){return function(e,t){function T(e,t,n){var r,i;e.on("dragenter"+v,function(){t(),i=new Date,r||(r=setInterval(function(){var e=new Date-i;e>100&&(n(),clearInterval(r),r=null)},100))}).on("dragover"+v,function(){i=new Date})}function C(e,n){if(e===t||!e.match(/\/$/))e=(e||"")+"/";return e+n}function k(e){if(!e)return"";var t=" bytes";return e>=1073741824?(t=" GB",e/=1073741824):e>=1048576?(t=" MB",e/=1048576):e>=1024&&(t=" KB",e/=1024),Math.round(e*100)/100+t}function L(e,t){var n=e[t];return i(n)?n.from||n.field||t:n}var n=window.kendo,r=n.ui.Widget,i=e.isPlainObject,s=e.proxy,o=e.extend,u=n.support.placeholder,a=n.support.browser,f=n.isFunction,l=/(^\/|\/$)/g,c="change",h="apply",p="error",d="click",v=".kendoImageBrowser",m=".kendoBreadcrumbs",g=".kendoSearchBox",y="name",b="size",w="type",E={field:w,dir:"asc"},S=n.template('<li class="k-tile-empty"><strong>${text}</strong></li>'),x='<div class="k-widget k-toolbar k-header k-floatwrap"><div class="k-toolbar-wrap"># if (showUpload) { # <div class="k-widget k-upload"><div class="k-button k-button-icontext k-upload-button"><span class="k-icon k-add"></span>#=messages.uploadFile#<input type="file" name="file" /></div></div># } ## if (showCreate) { #<button type="button" class="k-button k-button-icon"><span class="k-icon k-addfolder" /></button># } ## if (showDelete) { #<button type="button" class="k-button k-button-icon k-state-disabled"><span class="k-icon k-delete" /></button>&nbsp;# } #</div><div class="k-tiles-arrange"><label>#=messages.orderBy#: <select /></label></a></div></div>';o(!0,n.data,{schemas:{imagebrowser:{data:function(e){return e.items||e||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}}),o(!0,n.data,{transports:{imagebrowser:n.data.RemoteTransport.extend({init:function(t){n.data.RemoteTransport.fn.init.call(this,e.extend(!0,{},this.options,t))},_call:function(t,r){r.data=e.extend({},r.data,{path:this.options.path()}),f(this.options[t])?this.options[t].call(this,r):n.data.RemoteTransport.fn[t].call(this,r)},read:function(e){this._call("read",e)},create:function(e){this._call("create",e)},destroy:function(e){this._call("destroy",e)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}});var N;a.msie&&a.version<8?N=function(e){return e.offsetTop}:N=function(t){return t.offsetTop-e(t).height()};var A=r.extend({init:function(e,t){var n=this;t=t||{},r.fn.init.call(n,e,t),n.element.addClass("k-imagebrowser"),n.element.on(d+v,".k-toolbar button:not(.k-state-disabled):has(.k-delete)",s(n._deleteClick,n)).on(d+v,".k-toolbar button:not(.k-state-disabled):has(.k-addfolder)",s(n._addClick,n)).on("keydown"+v,"li.k-state-selected input",s(n._directoryKeyDown,n)).on("blur"+v,"li.k-state-selected input",s(n._directoryBlur,n)),n._dataSource(),n.refresh(),n.path(n.options.path)},options:{name:"ImageBrowser",messages:{uploadFile:"Upload",orderBy:"Arrange by",orderByName:"Name",orderBySize:"Size",directoryNotFound:"A directory with this name was not found.",emptyFolder:"Empty Folder",deleteFile:'Are you sure you want to delete "{0}"?',invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',dropFilesHere:"drop file here to upload",search:"Search"},transport:{},path:"/",fileTypes:"*.png,*.gif,*.jpg,*.jpeg"},events:[p,c,h],destroy:function(){var e=this;r.fn.destroy.call(e),e.dataSource.unbind(p,e._errorHandler),e.element.add(e.list).add(e.toolbar).off(v),e.arrangeBy&&e.arrangeBy.destroy(),n.destroy(e.element)},value:function(){var e=this,t=e._selectedItem(),r,i=e.options.transport.imageUrl;if(t&&t.get(w)==="f")return r=C(e.path(),t.get(y)).replace(l,""),i&&(r=f(i)?i(r):n.format(i,encodeURIComponent(r))),r},_selectedItem:function(){var e=this.listView,t=e.select();if(t.length)return this.dataSource.getByUid(t.attr(n.attr("uid")))},_toolbar:function(){var t=this,r=n.template(x),i=t.options.messages,o=[{text:i.orderByName,value:"name"},{text:i.orderBySize,value:"size"}];t.toolbar=e(r({messages:i,showUpload:t.options.transport.uploadUrl,showCreate:t.options.transport.create,showDelete:t.options.transport.destroy})).appendTo(t.element).find(".k-upload input").kendoUpload({multiple:!1,localization:{dropFilesHere:i.dropFilesHere},async:{saveUrl:t.options.transport.uploadUrl,autoUpload:!0},upload:s(t._fileUpload,t),error:function(e){t._error({xhr:e.XMLHttpRequest,status:"error"})}}).end(),t.upload=t.toolbar.find(".k-upload input").data("kendoUpload"),t.arrangeBy=t.toolbar.find(".k-tiles-arrange select").kendoDropDownList({dataSource:o,dataTextField:"text",dataValueField:"value",change:function(){t.orderBy(this.value())}}).data("kendoDropDownList"),t._attachDropzoneEvents()},_attachDropzoneEvents:function(){var t=this;t.options.transport.uploadUrl&&(T(e(document.documentElement),e.proxy(t._dropEnter,t),e.proxy(t._dropLeave,t)),t._scrollHandler=s(t._positionDropzone,t))},_dropEnter:function(){this._positionDropzone(),e(document).on("scroll"+v,this._scrollHandler)},_dropLeave:function(){this._removeDropzone(),e(document).off("scroll"+v,this._scrollHandler)},_positionDropzone:function(){var e=this,t=e.element,n=t.offset();e.toolbar.find(".k-dropzone").addClass("k-imagebrowser-dropzone").offset(n).css({width:t[0].clientWidth,height:t[0].clientHeight,lineHeight:t[0].clientHeight+"px"})},_removeDropzone:function(){this.toolbar.find(".k-dropzone").removeClass("k-imagebrowser-dropzone").css({width:"",height:"",lineHeight:"",top:"",left:""})},_deleteClick:function(){var e=this,t=e.listView.select(),r=n.format(e.options.messages.deleteFile,t.find("strong").text());t.length&&e._showMessage(r,"confirm")&&e.listView.remove(t)},_addClick:function(){this.createDirectory()},_getFieldName:function(e){return L(this.dataSource.reader.model.fields,e)},_fileUpload:function(e){var t=this,r=t.options,i=r.fileTypes,s=new RegExp(("("+i.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),o=e.files[0].name,u=y,a=b,f;s.test(o)?(e.data={path:t.path()},f=t._createFile(o),f?t.upload.one("success",function(e){f.set(u,e.response[t._getFieldName(u)]),f.set(a,e.response[t._getFieldName(a)]),t._tiles=t.listView.items().filter("["+n.attr("type")+"=f]"),t._scroll()}):e.preventDefault()):(e.preventDefault(),t._showMessage(n.format(r.messages.invalidFileType,o,i)))},_findFile:function(e){var t=this.dataSource.data(),n,r,i=w,s=y,o;e=e.toLowerCase();for(n=0,o=t.length;n<o;n++)if(t[n].get(i)==="f"&&t[n].get(s).toLowerCase()===e){r=t[n];break}return r},_createFile:function(e){var t=this,r,i,s=0,o={},u=w,a=t.dataSource.view(),f=t._findFile(e);if(f&&!t._showMessage(n.format(t.options.messages.overwriteFile,e),"confirm"))return null;if(f)return f;for(r=0,i=a.length;r<i;r++)if(a[r].get(u)==="f"){s=r;break}return o[u]="f",o[y]=e,o[b]=0,t.dataSource.insert(++s,o)},createDirectory:function(){var e=this,t,r,i=0,s=w,o=y,u=e.dataSource.data(),a=e._nameDirectory(),f=new e.dataSource.reader.model;for(t=0,r=u.length;t<r;t++)u[t].get(s)==="d"&&(i=t);f.set(s,"d"),f.set(o,a),e.listView.one("dataBound",function(){var t=e.listView.items().filter("["+n.attr("uid")+"="+f.uid+"]"),r=t.find("input");t.length&&this.edit(t),this.element.scrollTop(t.attr("offsetTop")-this.element[0].offsetHeight),setTimeout(function(){r.select()})}).one("save",function(t){var n=t.model.get(o);n?t.model.set(o,e._nameExists(n,f.uid)?e._nameDirectory():n):t.model.set(o,a)}),e.dataSource.insert(++i,f)},_directoryKeyDown:function(e){e.keyCode==13&&e.currentTarget.blur()},_directoryBlur:function(){this.listView.save()},_nameExists:function(e,t){var n=this.dataSource.data(),r=w,i=y,s,o;for(s=0,o=n.length;s<o;s++)if(n[s].get(r)==="d"&&n[s].get(i).toLowerCase()===e.toLowerCase()&&n[s].uid!==t)return!0;return!1},_nameDirectory:function(){var t="New folder",n=this.dataSource.data(),r=[],i=w,s=y,o,u,a;for(u=0,a=n.length;u<a;u++)n[u].get(i)==="d"&&n[u].get(s).toLowerCase().indexOf(t.toLowerCase())>-1&&r.push(n[u].get(s));if(e.inArray(t,r)>-1){u=2;do o=t+" ("+u+")",u++;while(e.inArray(o,r)>-1);t=o}return t},orderBy:function(e){this.dataSource.sort([{field:w,dir:"asc"},{field:e,dir:"asc"}])},search:function(e){this.dataSource.filter({field:y,operator:"contains",value:e})},_content:function(){var t=this;t.list=e('<ul class="k-reset k-floats k-tiles" />').appendTo(t.element).on("scroll"+v,s(t._scroll,t)).on("dblclick"+v,"li",s(t._dblClick,t)),t.listView=new n.ui.ListView(t.list,{dataSource:t.dataSource,template:t._itemTmpl(),editTemplate:t._editTmpl(),selectable:!0,autoBind:!1,dataBinding:function(e){t.toolbar.find(".k-delete").parent().addClass("k-state-disabled"),(e.action==="remove"||e.action==="sync")&&e.preventDefault()},dataBound:function(){t.dataSource.view().length?(t._tiles=this.items().filter("["+n.attr("type")+"=f]"),t._scroll()):this.wrapper.append(S({text:t.options.messages.emptyFolder}))},change:s(t._listViewChange,t)})},_dblClick:function(t){var r=this,i=e(t.currentTarget);i.hasClass("k-edit-item")&&r._directoryBlur();if(i.filter("["+n.attr("type")+"=d]").length){var s=r.dataSource.getByUid(i.attr(n.attr("uid")));s&&(r.path(C(r.path(),s.get(y))),r.breadcrumbs.value(r.path()))}else i.filter("["+n.attr("type")+"=f]").length&&r.trigger(h)},_listViewChange:function(){var e=this._selectedItem();e&&(this.toolbar.find(".k-delete").parent().removeClass("k-state-disabled"),e.get(w)==="f"&&this.trigger(c))},_dataSource:function(){var e=this,t=e.options,r=t.transport,u=o({},E),a={field:y,dir:"asc"},f,l={type:r.type||"imagebrowser",sort:[u,a]};i(r)&&(r.path=s(e.path,e),l.transport=r),i(t.schema)?l.schema=t.schema:r.type&&i(n.data.schemas[r.type])&&(f=n.data.schemas[r.type]),e.dataSource&&e._errorHandler?e.dataSource.unbind(p,e._errorHandler):e._errorHandler=s(e._error,e),e.dataSource=n.data.DataSource.create(l).bind(p,e._errorHandler)},_navigation:function(){var t=this,n=e('<div class="k-floatwrap"><input/><input/></div>').appendTo(this.element);t.breadcrumbs=n.find("input:first").kendoBreadcrumbs({value:t.options.path,change:function(){t.path(this.value())}}).data("kendoBreadcrumbs"),t.searchBox=n.parent().find("input:last").kendoSearchBox({label:t.options.messages.search,change:function(){t.search(this.value())}}).data("kendoSearchBox")},_error:function(e){var t=this,n;t.trigger(p,e)||(n=e.xhr.status,e.status=="error"?n=="404"?t._showMessage(t.options.messages.directoryNotFound):n!="0"&&t._showMessage("Error! The requested URL returned "+n+" - "+e.xhr.statusText):n=="timeout"&&t._showMessage("Error! Server timeout."))},_showMessage:function(e,t){return window[t||"alert"](e)},refresh:function(){var e=this;e._navigation(),e._toolbar(),e._content()},_loadImage:function(t){var r=this,i=e(t),s=r.dataSource.getByUid(i.attr(n.attr("uid"))),o=s.get(y),u=r.options.transport.thumbnailUrl,a=e("<img />",{alt:o}),l="?";a.hide().on("load"+v,function(){e(this).prev().remove().end().addClass("k-image").fadeIn()}),i.find(".k-loading").after(a),f(u)?u=u(r.path(),encodeURIComponent(o)):(u.indexOf("?")>=0&&(l="&"),u=u+l+"path="+r.path()+encodeURIComponent(o)),a.attr("src",u),t.loaded=!0},_scroll:function(){var e=this;e.options.transport&&e.options.transport.thumbnailUrl&&(clearTimeout(e._timeout),e._timeout=setTimeout(function(){var t=e.list.outerHeight(),n=e.list.scrollTop(),r=n+t;e._tiles.each(function(){var t=N(this),i=t+this.offsetHeight;(t>=n&&t<r||i>=n&&i<r)&&e._loadImage(this);if(t>r)return!1}),e._tiles=e._tiles.filter(function(){return!this.loaded})},250))},_editTmpl:function(){var e='<li class="k-tile k-state-selected" '+n.attr("uid")+'="#=uid#" ';return e+=n.attr("type")+'="${'+w+'}">',e+="#if("+w+' == "d") { #',e+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>',e+="#}else{#",e+='<div class="k-thumb"><span class="k-icon k-loading"></span></div>',e+="#}#",e+="#if("+w+' == "d") { #',e+='<input class="k-input" '+n.attr("bind")+'="value:'+y+'"/>',e+="#}#",e+="</li>",s(n.template(e),{sizeFormatter:k})},_itemTmpl:function(){var e=this,t='<li class="k-tile" '+n.attr("uid")+'="#=uid#" ';return t+=n.attr("type")+'="${'+w+'}">',t+="#if("+w+' == "d") { #',t+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>',t+="#}else{#",e.options.transport&&e.options.transport.thumbnailUrl?t+='<div class="k-thumb"><span class="k-icon k-loading"></span></div>':t+='<div class="k-thumb"><span class="k-icon k-file"></span></div>',t+="#}#",t+="<strong>${"+y+"}</strong>",t+="#if("+w+' == "f") { # <span class="k-filesize">${this.sizeFormatter('+b+")}</span> #}#",t+="</li>",s(n.template(t),{sizeFormatter:k})},path:function(e){var n=this,r=n._path||"";if(e!==t){n._path=e.replace(l,"")+"/",n.dataSource.read({path:n._path});return}return r&&(r=r.replace(l,"")),r==="/"||r===""?"":r+"/"}}),O=r.extend({init:function(e,t){var n=this;t=t||{},r.fn.init.call(n,e,t),u&&n.element.attr("placeholder",n.options.label),n._wrapper(),n.element.on("keydown"+g,s(n._keydown,n)).on("change"+g,s(n._updateValue,n)),n.wrapper.on(d+g,"a",s(n._click,n)),u||n.element.on("focus"+g,s(n._focus,n)).on("blur"+g,s(n._blur,n))},options:{name:"SearchBox",label:"Search",value:""},events:[c],destroy:function(){var e=this;e.wrapper.add(e.element).add(e.label).off(g),r.fn.destroy.call(e)},_keydown:function(e){e.keyCode===13&&this._updateValue()},_click:function(e){e.preventDefault(),this._updateValue()},_updateValue:function(){var e=this,t=e.element.val();t!==e.value()&&(e.value(t),e.trigger(c))},_blur:function(){this._updateValue(),this._toggleLabel()},_toggleLabel:function(){u||this.label.toggle(!this.element.val())},_focus:function(){this.label.hide()},_wrapper:function(){var t=this.element,n=t.parents(".k-search-wrap");t[0].style.width="",t.addClass("k-input"),n.length||(n=t.wrap(e('<div class="k-widget k-search-wrap k-textbox"/>')).parent(),u||e('<label style="display:block">'+this.options.label+"</label>").insertBefore(t),e('<a href="#" class="k-icon k-i-search k-search"/>').appendTo(n)),this.wrapper=n,this.label=n.find(">label")},value:function(e){var n=this;if(e!==t){n.options.value=e,n.element.val(e),n._toggleLabel();return}return n.options.value}}),M=r.extend({init:function(e,t){var n=this;t=t||{},r.fn.init.call(n,e,t),n._wrapper(),n.wrapper.on("focus"+m,"input",s(n._focus,n)).on("blur"+m,"input",s(n._blur,n)).on("keydown"+m,"input",s(n._keydown,n)).on(d+m,"a.k-i-arrow-n:first",s(n._rootClick,n)).on(d+m,"a:not(.k-i-arrow-n)",s(n._click,n)),n.value(n.options.value)},options:{name:"Breadcrumbs",gap:50},events:[c],destroy:function(){var e=this;r.fn.destroy.call(e),e.wrapper.add(e.wrapper.find("input")).add(e.wrapper.find("a")).off(m)},_update:function(e){e=(e||"").charAt(0)==="/"?e:"/"+(e||""),e!==this.value()&&(this.value(e),this.trigger(c))},_click:function(t){t.preventDefault(),this._update(this._path(e(t.target).prevAll("a:not(.k-i-arrow-n)").addBack()))},_rootClick:function(e){e.preventDefault(),this._update("")},_focus:function(){var e=this,t=e.element;e.overlay.hide(),e.element.val(e.value()),setTimeout(function(){t.select()})},_blur:function(){if(this.overlay.is(":visible"))return;var e=this,t=e.element,n=t.val().replace(/\/{2,}/g,"/");e.overlay.show(),t.val(""),e._update(n)},_keydown:function(e){var t=this;e.keyCode===13&&(t._blur(),setTimeout(function(){t.overlay.find("a:first").focus()}))},_wrapper:function(){var t=this.element,n=t.parents(".k-breadcrumbs"),r;t[0].style.width="",t.addClass("k-input"),n.length||(n=t.wrap(e('<div class="k-widget k-breadcrumbs k-textbox"/>')).parent()),r=n.find(".k-breadcrumbs-wrap"),r.length||(r=e('<div class="k-breadcrumbs-wrap"/>').appendTo(n)),this.wrapper=n,this.overlay=r},refresh:function(){var n="",r=this.value(),i,s,o,u;if(r===t||!r.match(/^\//))r="/"+(r||"");i=r.split("/");for(o=0,u=i.length;o<u;o++)s=i[o],s&&(n||(n+='<a href="#" class="k-icon k-i-arrow-n">root</a>'),n+='<a class="k-link" href="#">'+i[o]+"</a>",n+='<span class="k-icon k-i-arrow-e">&gt;</span>');this.overlay.empty().append(e(n)),this._adjustSectionWidth()},_adjustSectionWidth:function(){var t=this,n=t.wrapper,r=n.width()-t.options.gap,i=t.overlay.find("a"),s;i.each(function(t){s=e(this),s.parent().width()>r&&(t==i.length-1?s.width(r):s.prev().addBack().hide())})},value:function(e){if(e!==t){this._value=e.replace(/\/{2,}/g,"/"),this.refresh();return}return this._value},_path:function(t){return"/"+e.map(t,function(t){return e(t).text()}).join("/")}});n.ui.plugin(A),n.ui.plugin(M),n.ui.plugin(O)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()}),function(e,t){t("kendo.editor",["./kendo.combobox","./kendo.dropdownlist","./kendo.window","./kendo.colorpicker","./kendo.imagebrowser"],e)}(function(){return function(e,t){var n=window.kendo,r=n.Class,i=n.ui.Widget,s=n.support.mobileOS,o=n.support.browser,u=e.extend,a=e.proxy,f=n.deepExtend,l=".kendoEditor",c=n.keys,h=r.extend({init:function(e){this.options=e},getHtml:function(){var e=this.options;return n.template(e.template,{useWithBlock:!1})(e)}}),p={editorWrapperTemplate:'<table cellspacing="4" cellpadding="0" class="k-widget k-editor k-header" role="presentation"><tbody><tr role="presentation"><td class="k-editor-toolbar-wrap" role="presentation"><ul class="k-editor-toolbar" role="toolbar" /></td></tr><tr><td class="k-editable-area" /></tr></tbody></table>',buttonTemplate:'<a href="" role="button" class="k-tool"#= data.popup ? " data-popup" : "" # unselectable="on" title="#= data.title #"><span class="k-tool-icon #= data.cssClass #">#= data.title #</span></a>',colorPickerTemplate:'<div class="k-colorpicker #= data.cssClass #" />',comboBoxTemplate:'<select title="#= data.title #" class="#= data.cssClass #" />',dropDownListTemplate:'<span class="k-editor-dropdown"><select title="#= data.title #" class="#= data.cssClass #" /></span>',separatorTemplate:'<span class="k-separator" />',formatByName:function(t,n){for(var r=0;r<n.length;r++)if(e.inArray(t,n[r].tags)>=0)return n[r]},registerTool:function(e,t){var n=t.options;n&&n.template&&(n.template.options.cssClass="k-"+e),t.name||(t.options.name=e,t.name=e.toLowerCase()),g.defaultTools[e]=t},registerFormat:function(e,t){g.fn.options.formats[e]=t}},d={bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",formatting:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",uploadFile:"Upload",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",imageWidth:"Width (px)",imageHeight:"Height (px)",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogUpdate:"Update",dialogInsert:"Insert",dialogButtonSeparator:"or",dialogCancel:"Cancel",createTable:"Create table",addColumnLeft:"Add column on the left",addColumnRight:"Add column on the right",addRowAbove:"Add row above",addRowBelow:"Add row below",deleteRow:"Delete row",deleteColumn:"Delete column"},v=!s||s.ios&&s.flatVersion>=500||!s.ios&&typeof document.documentElement.contentEditable!="undefined",m={basic:["bold","italic","underline"],alignment:["justifyLeft","justifyCenter","justifyRight"],lists:["insertUnorderedList","insertOrderedList"],indenting:["indent","outdent"],links:["createLink","unlink"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"]},g=i.extend({init:function(t,r){var s=this,o,c=n.ui.editor,h,p,d;if(!v)return;i.fn.init.call(s,t,r),s.options=f({},s.options,r),t=s.element,d=c.Dom.name(t[0]),t.closest("form").on("submit"+l,function(){s.update()}),p=u({},s.options),p.editor=s,d=="textarea"?(s._wrapTextarea(),h=s.wrapper.find(".k-editor-toolbar"),t[0].id&&h.attr("aria-controls",t[0].id)):(s.element.attr("contenteditable",!0).addClass("k-widget k-editor k-editor-inline"),p.popup=!0,h=e('<ul class="k-editor-toolbar" role="toolbar" />').insertBefore(t)),s.toolbar=new c.Toolbar(h[0],p),s.toolbar.bindTo(s),s._initializeContentElement(s),s.keyboard=new c.Keyboard([new c.TypingHandler(s),new c.SystemHandler(s)]),s.clipboard=new c.Clipboard(this),s.undoRedoStack=new c.UndoRedoStack,r&&r.value?o=r.value:s.textarea?o=t.val().replace(/[\r\n\v\f\t ]+/ig," "):o=t[0].innerHTML,s.value(o),e(document).on("mousedown",a(s._endTyping,s)).on("mouseup",a(s._mouseup,s)),n.notify(s)},_endTyping:function(){var e=this.keyboard;try{e.isTypingInProgress()&&(e.endTyping(!0),this.saveSelection())}catch(t){}},_selectionChange:function(){o.msie||n.ui.editor.Dom.ensureTrailingBreaks(this.body),this._selectionStarted=!1,this.saveSelection(),this.trigger("select",{})},_wrapTextarea:function(){var t=this,n=t.element,r=n[0].style.width,i=n[0].style.height,s=p.editorWrapperTemplate,o=e(s).insertBefore(n).width(r).height(i),u=o.find(".k-editable-area");n.attr("autocomplete","off").appendTo(u).addClass("k-content k-raw-content").css("display","none"),t.textarea=n,t.wrapper=o},_createContentElement:function(t){var r=this,i,s,o,u=r.textarea,a=r.options.domain,f=a||document.domain,l="",c='javascript:""';if(a||f!=location.hostname)l='<script>document.domain="'+f+'"</script>',c="javascript:document.write('"+l+"')";return u.hide(),i=e("<iframe />",{frameBorder:"0"})[0],e(i).css("display","").addClass("k-content").insertBefore(u),i.src=c,s=i.contentWindow||i,o=s.document||i.contentDocument,e(i).one("load",function(){r.toolbar.decorateFrom(o.body)}),o.open(),o.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0;margin:0;height:100%;min-height:100%;}body{font-size:12px;font-family:Verdana,Geneva,sans-serif;padding-top:1px;margin-top:-1px;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+(n.support.isRtl(u)?"direction:rtl;":"")+"}"+"h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}"+"p{margin:0 0 1em;padding:0 .2em}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}"+"ul,ol{padding-left:2.5em}"+"span{-ms-high-contrast-adjust:none;}"+"a{color:#00a}"+"code{font-size:1.23em}"+"telerik\\3Ascript{display: none;}"+".k-table{table-layout:fixed;width:100%;border-spacing:0;margin: 0 0 1em;}"+".k-table td{min-width:1px;padding:.2em .3em;}"+".k-table,.k-table td{outline:0;border: 1px dotted #ccc;}"+".k-table p{margin:0;padding:0;}"+"</style>"+l+"<script>(function(d,c){d[c]('header'),d[c]('article'),d[c]('nav'),d[c]('section'),d[c]('footer');})(document, 'createElement');</script>"+e.map(t,function(e){return"<link rel='stylesheet' href='"+e+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>"),o.close(),s},_blur:function(){var e=this.textarea,t=e?e.val():this._oldValue,n=this.options.encoded?this.encodedValue():this.value();this.update(),e&&e.trigger("blur"),n!=t&&this.trigger("change")},_initializeContentElement:function(){var t=this,r,i;t.textarea?(t.window=t._createContentElement(t.options.stylesheets),r=t.document=t.window.contentDocument||t.window.document,t.body=r.body,i=t.window,e(r).on("mouseup"+l,a(t._mouseup,t))):(t.window=window,r=t.document=document,t.body=t.element[0],i=t.body,t.toolbar.decorateFrom(t.body)),e(i).on("blur"+l,a(this._blur,this));try{r.execCommand("enableInlineTableEditing",null,!1)}catch(s){}n.support.touch&&e(r).on("selectionchange"+l,a(this._selectionChange,this)).on("keydown"+l,function(){n._activeElement()!=r.body&&t.window.focus()}),e(t.body).on("keydown"+l,function(e){var r;if(e.keyCode===c.F10){setTimeout(a(t.toolbar.focus,t.toolbar),100),e.preventDefault();return}if(e.keyCode===c.BACKSPACE){r=t.getRange();var i,s=o.msie?"":'<br _moz_dirty="" />',u=n.ui.editor.Dom;r.deleteContents(),i=r.commonAncestorContainer,u.name(i)==="p"&&i.innerHTML===""&&(i.innerHTML=s,r.setStart(i,0),r.collapse(!0),t.selectRange(r))}else if(e.keyCode==c.LEFT||e.keyCode==c.RIGHT){r=t.getRange();var f=e.keyCode==c.LEFT,l=r[f?"startContainer":"endContainer"],h=r[f?"startOffset":"endOffset"],p=f?-1:1;f&&(h-=1),h+p>0&&l.nodeType==3&&l.nodeValue[h]==""&&(r.setStart(l,h+p),r.collapse(!0),t.selectRange(r))}var d=t.keyboard.toolFromShortcut(t.toolbar.tools,e);if(d)return e.preventDefault(),/^(undo|redo)$/.test(d)||t.keyboard.endTyping(!0),t.trigger("keydown",e),t.exec(d),!1;t.keyboard.clearTimeout(),t.keyboard.keydown(e)}).on("keyup"+l,function(n){var r=[8,9,33,34,35,36,37,38,39,40,40,45,46];(e.inArray(n.keyCode,r)>-1||n.keyCode==65&&n.ctrlKey&&!n.altKey&&!n.shiftKey)&&t._selectionChange(),t.keyboard.keyup(n)}).on("mousedown"+l,function(n){t._selectionStarted=!0;var r=e(n.target);!o.gecko&&n.which==2&&r.is("a[href]")&&window.open(r.attr("href"),"_new")}).on("click"+l,function(e){var r=n.ui.editor.Dom,i;r.name(e.target)==="img"&&(i=t.createRange(),i.selectNode(e.target),t.selectRange(i))}).on("cut"+l+" paste"+l,function(e){t.clipboard["on"+e.type](e)}).on("focusin"+l,function(){e(this).addClass("k-state-active"),t.toolbar.show()}).on("focusout"+l,function(){setTimeout(function(){var r=n._activeElement(),i=t.body,s=t.toolbar;r!=i&&!e.contains(i,r)&&!s.focused()&&(e(i).removeClass("k-state-active"),s.hide())},10)})},_mouseup:function(){var e=this;e._selectionStarted&&setTimeout(function(){e._selectionChange()},1)},refresh:function(){var e=this;e.textarea&&(e.textarea.val(e.value()),e.wrapper.find("iframe").remove(),e._initializeContentElement(e),e.value(e.textarea.val()))},events:["select","change","execute","error","paste","keydown","keyup"],options:{name:"Editor",messages:d,formats:{},encoded:!0,domain:null,serialization:{entities:!0},stylesheets:[],dialogOptions:{modal:!0,resizable:!1,draggable:!0,animation:!1},fontName:[{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"'Courier New',Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:"'Times New Roman',Times,serif"},{text:"Trebuchet MS",value:"'Trebuchet MS',Helvetica,sans-serif"},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:[].concat.call(["formatting"],m.basic,m.alignment,m.lists,m.indenting,m.links,["insertImage"],m.tables)},destroy:function(){var t=this;i.fn.destroy.call(t),e(t.window).add(t.document).add(t.body).add(t.wrapper).add(t.element.closest("form")).off(l),e(document).off("mousedown",a(t._endTyping,t)).off("mouseup",a(t._mouseup,t)),t.toolbar.destroy(),n.destroy(t.wrapper)},state:function(e){var t=g.defaultTools[e],r=t&&(t.options.finder||t.finder),i=n.ui.editor.RangeUtils,s,o;return r?(s=this.getRange(),o=i.textNodes(s),!o.length&&s.collapsed&&(o=[s.startContainer]),r.getFormat?r.getFormat(o):r.isFormatted(o)):!1},value:function(e){var r=this.body,i=n.ui.editor,s=i.Dom,o=i.Serializer.domToXhtml(r,this.options.serialization);if(e===t)return o;if(e==o)return;i.Serializer.htmlToDom(e,r),this.selectionRestorePoint=null,this.update()},saveSelection:function(t){t=t||this.getRange();var r=t.commonAncestorContainer,i=this.body;if(r==i||e.contains(i,r))this.selectionRestorePoint=new n.ui.editor.RestorePoint(t)},_focusBody:function(){var e=this.body,t=this.document.documentElement;if(n._activeElement()!=e){var r=t.scrollTop;e.focus(),t.scrollTop=r}},restoreSelection:function(){this._focusBody(),this.selectionRestorePoint&&this.selectRange(this.selectionRestorePoint.toRange())},focus:function(){this.restoreSelection()},update:function(e){e=e||this.options.encoded?this.encodedValue():this.value(),this.textarea?this.textarea.val(e):this._oldValue=e},encodedValue:function(){return n.ui.editor.Dom.encode(this.value())},createRange:function(e){return n.ui.editor.RangeUtils.createRange(e||this.document)},getSelection:function(){return n.ui.editor.SelectionUtils.selectionFromDocument(this.document)},selectRange:function(e){this._focusBody();var t=this.getSelection();t.removeAllRanges(),t.addRange(e),this.saveSelection(e)},getRange:function(){var e=this.getSelection(),t=e.rangeCount>0?e.getRangeAt(0):this.createRange(),n=this.document;return t.startContainer==n&&t.endContainer==n&&!t.startOffset&&!t.endOffset&&(t.setStart(this.body,0),t.collapse(!0)),t},selectedHtml:function(){return n.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},paste:function(e,t){this.clipboard.paste(e,t)},exec:function(e,t){var n=this,r,i,s=null;if(!e)throw new Error("kendoEditor.exec(): `name` parameter cannot be empty");e=e.toLowerCase(),n.keyboard.isTypingInProgress()||n.restoreSelection(),i=n.toolbar.toolById(e);if(!i)for(var o in g.defaultTools)if(o.toLowerCase()==e){i=g.defaultTools[o];break}if(i){r=n.getRange(),i.command&&(s=i.command(u({range:r},t))),n.trigger("execute",{name:e,command:s});if(/^(undo|redo)$/i.test(e))n.undoRedoStack[e]();else if(s){s.managesUndoRedo||n.undoRedoStack.push(s),s.editor=n,s.exec();if(s.async){s.change=a(n._selectionChange,n);return}}n._selectionChange()}}});g.defaultTools={undo:{options:{key:"Z",ctrl:!0}},redo:{options:{key:"Y",ctrl:!0}}},n.ui.plugin(g);var y=r.extend({init:function(e){this.options=e},initialize:function(e,t){e.attr({unselectable:"on",title:t.title})},command:function(e){return new this.options.command(e)},update:e.noop});y.exec=function(e,t,n){e.exec(t,{value:n})};var b=y.extend({init:function(e){y.fn.init.call(this,e)},command:function(e){var t=this;return new n.ui.editor.FormatCommand(u(e,{formatter:t.options.formatter}))},update:function(e,t){var n=this.options.finder.isFormatted(t);e.toggleClass("k-state-selected",n),e.attr("aria-pressed",n)}});p.registerTool("separator",new y({template:new h({template:p.separatorTemplate})}));var w=o.msie&&o.version<9?"":"";u(n.ui,{editor:{ToolTemplate:h,EditorUtils:p,Tool:y,FormatTool:b,_bomFill:w,emptyElementContent:o.msie?"":'<br _moz_dirty="" />'}})}(window.jQuery),function(e){function c(e){var t={},n,r;for(n=0,r=e.length;n<r;n++)t[e[n]]=!0;return t}var t=window.kendo,n=e.map,r=e.extend,i=t.support.browser,s="style",o="float",u="cssFloat",a="styleFloat",f="class",l="k-marker",h=c("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),p="div,p,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,map,menu,noframes,noscript,object,pre,script,table,tbody,td,tfoot,th,thead,tr,header,article,nav,footer,section,aside,main,figure,figcaption".split(","),d=p.concat(["ul","ol","li"]),v=c(d),m="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby".split(","),g=c(m),y=c("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(",")),b=function(e){e.nodeType==1&&e.normalize()};i.msie&&i.version>=8&&(b=function(e){if(e.nodeType==1&&e.firstChild){var t=e.firstChild,n=t;for(;;){n=n.nextSibling;if(!n)break;n.nodeType==3&&t.nodeType==3&&(n.nodeValue=t.nodeValue+n.nodeValue,A.remove(t)),t=n}}});var w=/^\s+$/,E=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,S=/\ufeff/g,x=/^(\s+|\ufeff)$/,T,N="color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height".split(","),C=/[<>\&]/g,k=/[\u00A0-\u2666<>\&]/g,L={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"},A={block:v,inline:g,findNodeIndex:function(e,t){var n=0;if(!e)return-1;for(;;){e=e.previousSibling;if(!e)break;(!t||e.nodeType!=3)&&n++}return n},isDataNode:function(e){return e&&e.nodeValue!==null&&e.data!==null},isAncestorOf:function(t,n){try{return!A.isDataNode(t)&&(e.contains(t,A.isDataNode(n)?n.parentNode:n)||n.parentNode==t)}catch(r){return!1}},isAncestorOrSelf:function(e,t){return A.isAncestorOf(e,t)||e==t},findClosestAncestor:function(e,t){if(A.isAncestorOf(e,t))while(t&&t.parentNode!=e)t=t.parentNode;return t},getNodeLength:function(e){return A.isDataNode(e)?e.length:e.childNodes.length},splitDataNode:function(e,t){var n=e.cloneNode(!1),r="",i=e;while(i.nextSibling&&i.nextSibling.nodeType==3&&i.nextSibling.nodeValue)r+=i.nextSibling.nodeValue,i=i.nextSibling;e.deleteData(t,e.length),n.deleteData(0,t),n.nodeValue+=r,A.insertAfter(n,e)},attrEquals:function(e,n){for(var r in n){var i=e[r];r==o&&(i=e[t.support.cssFloat?u:a]);if(typeof i=="object"){if(!A.attrEquals(i,n[r]))return!1}else if(i!=n[r])return!1}return!0},blockParentOrBody:function(e){return A.parentOfType(e,d)||e.ownerDocument.body},blockParents:function(t){var n=[],r,i;for(r=0,i=t.length;r<i;r++){var s=A.parentOfType(t[r],A.blockElements);s&&e.inArray(s,n)<0&&n.push(s)}return n},windowFromDocument:function(e){return e.defaultView||e.parentWindow},normalize:b,blockElements:d,nonListBlockElements:p,inlineElements:m,empty:h,fillAttrs:y,toHex:function(e){var t=E.exec(e);return t?"#"+n(t.slice(1),function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e}).join(""):e},encode:function(e,t){var n=!t||t.entities?k:C;return e.replace(n,function(e){var t=e.charCodeAt(0),n=L[t];return n?"&"+n+";":e})},stripBom:function(e){return(e||"").replace(S,"")},insignificant:function(e){var t=e.attributes;return e.className=="k-marker"||A.is(e,"br")&&(t._moz_dirty||t._moz_editor_bogus_node)},emptyNode:function(t){var n=e.grep(t.childNodes,function(e){return A.is(e,"br")?!1:A.insignificant(e)?!1:e.nodeType==3&&x.test(e.nodeValue)?!1:A.is(e,"p")&&A.emptyNode(e)?!1:!0});return!n.length},name:function(e){return e.nodeName.toLowerCase()},significantChildNodes:function(t){return e.grep(t.childNodes,function(e){return e.nodeType!=3||!A.isWhitespace(e)})},lastTextNode:function(e){var t=null;if(e.nodeType==3)return e;for(var n=e.lastChild;n;n=n.previousSibling){t=A.lastTextNode(n);if(t)return t}return t},is:function(e,t){return A.name(e)==t},isMarker:function(e){return e.className==l},isWhitespace:function(e){return w.test(e.nodeValue)},isBlock:function(e){return v[A.name(e)]},isEmpty:function(e){return h[A.name(e)]},isInline:function(e){return g[A.name(e)]},scrollContainer:function(e){var n=A.windowFromDocument(e),r=(n.contentWindow||n).document||n.ownerDocument||n;return t.support.browser.webkit||r.compatMode=="BackCompat"?r=r.body:r=r.documentElement,r},scrollTo:function(t){var n=e(A.isDataNode(t)?t.parentNode:t),r=A.windowFromDocument(t.ownerDocument),i=r.innerHeight,s,o,u=A.scrollContainer(t.ownerDocument);A.name(n[0])=="br"&&(n=n.parent()),s=n.offset().top,o=n[0].offsetHeight,o+s>u.scrollTop+i&&(u.scrollTop=o+s-i)},persistScrollTop:function(e){T=A.scrollContainer(e).scrollTop},restoreScrollTop:function(e){A.scrollContainer(e).scrollTop=T},insertAt:function(e,t,n){e.insertBefore(t,e.childNodes[n]||null)},insertBefore:function(e,t){return t.parentNode?t.parentNode.insertBefore(e,t):t},insertAfter:function(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},remove:function(e){e.parentNode.removeChild(e)},removeTextSiblings:function(e){var t=e.parentNode;while(e.nextSibling&&e.nextSibling.nodeType==3)t.removeChild(e.nextSibling);while(e.previousSibling&&e.previousSibling.nodeType==3)t.removeChild(e.previousSibling)},trim:function(e){for(var t=e.childNodes.length-1;t>=0;t--){var n=e.childNodes[t];A.isDataNode(n)?(A.stripBom(n.nodeValue).length||A.remove(n),A.isWhitespace(n)&&A.insertBefore(n,e)):n.className!=l&&(A.trim(n),!n.childNodes.length&&!A.isEmpty(n)&&A.remove(n))}return e},closest:function(e,t){while(e&&A.name(e)!=t)e=e.parentNode;return e},sibling:function(e,t){do e=e[t];while(e&&e.nodeType!=1);return e},next:function(e){return A.sibling(e,"nextSibling")},prev:function(e){return A.sibling(e,"previousSibling")},parentOfType:function(e,t){do e=e.parentNode;while(e&&!A.ofType(e,t));return e},ofType:function(t,n){return e.inArray(A.name(t),n)>=0},changeTag:function(e,t){var n=A.create(e.ownerDocument,t),r=e.attributes,i,o,u,a,l;for(i=0,o=r.length;i<o;i++)l=r[i],l.specified&&(u=l.nodeName,a=l.nodeValue,u==f?n.className=a:u==s?n.style.cssText=e.style.cssText:n.setAttribute(u,a));while(e.firstChild)n.appendChild(e.firstChild);return A.insertBefore(n,e),A.remove(e),n},editableParent:function(e){while(e.nodeType==3||e.contentEditable!=="true")e=e.parentNode;return e},wrap:function(e,t){return A.insertBefore(t,e),t.appendChild(e),t},unwrap:function(e){var t=e.parentNode;while(e.firstChild)t.insertBefore(e.firstChild,e);t.removeChild(e)},create:function(e,t,n){return A.attr(e.createElement(t),n)},attr:function(e,t){t=r({},t),t&&s in t&&(A.style(e,t.style),delete t.style);for(var n in t)t[n]===null?(e.removeAttribute(n),delete t[n]):n=="className"&&(e[n]=t[n]);return r(e,t)},style:function(t,n){e(t).css(n||{})},unstyle:function(e,n){for(var r in n)r==o&&(r=t.support.cssFloat?u:a),e.style[r]="";e.style.cssText===""&&e.removeAttribute(s)},inlineStyle:function(t,r,s){var o=e(A.create(t.ownerDocument,r,s)),u;return t.appendChild(o[0]),u=n(N,function(e){return i.msie&&e=="line-height"&&o.css(e)=="1px"?"line-height:1.5":e+":"+o.css(e)}).join(";"),o.remove(),u},getEffectiveBackground:function(e){var t=e.css("background-color");return t.indexOf("rgba(0, 0, 0, 0")<0&&t!=="transparent"?t:e[0].tagName.toLowerCase()==="html"?"Window":A.getEffectiveBackground(e.parent())},removeClass:function(t,n){var r=" "+t.className+" ",i=n.split(" "),s,o;for(s=0,o=i.length;s<o;s++)r=r.replace(" "+i[s]+" "," ");r=e.trim(r),r.length?t.className=r:t.removeAttribute(f)},commonAncestor:function(){var e=arguments.length,t=[],n=Infinity,r=null,i,s,o,u,a;if(!e)return null;if(e==1)return arguments[0];for(i=0;i<e;i++){s=[],o=arguments[i];while(o)s.push(o),o=o.parentNode;t.push(s.reverse()),n=Math.min(n,s.length)}if(e==1)return t[0][0];for(i=0;i<n;i++){u=t[0][i];for(a=1;a<e;a++)if(u!=t[a][i])return r;r=u}return r},closestSplittableParent:function(t){var r;t.length==1?r=A.parentOfType(t[0],["ul","ol"]):r=A.commonAncestor.apply(null,t),r||(r=A.parentOfType(t[0],["p","td"])||t[0].ownerDocument.body),A.isInline(r)&&(r=A.blockParentOrBody(r));var i=n(t,A.editableParent),s=A.commonAncestor(i)[0];return e.contains(r,s)&&(r=s),r},closestEditable:function(t,n){var r=A.parentOfType(t,n),i=A.editableParent(t);return r&&i&&e.contains(r,i)?r=i:!r&&i&&(r=i),r},closestEditableOfType:function(e,t){var n=A.closestEditable(e,t);if(n&&A.ofType(n,t))return n},filter:function(e,t,n){var r=0,i=t.length,s=[],o;for(;r<i;r++)o=A.name(t[r]),(!n&&o==e||n&&o!=e)&&s.push(t[r]);return s},ensureTrailingBreaks:function(t){var n=e(t).find("p,td,th"),r=n.length,i=0;if(r)for(;i<r;i++)A.ensureTrailingBreak(n[i]);else A.ensureTrailingBreak(t)},ensureTrailingBreak:function(e){var t=e.lastChild&&A.name(e.lastChild),n;if(!t||t!="br"&&t!="img")n=e.ownerDocument.createElement("br"),n.setAttribute("_moz_dirty",!0),e.appendChild(n)}};t.ui.editor.Dom=A}(window.kendo.jQuery),function(e,t){var n=window.kendo,r=n.ui.editor,i=r.Dom,s=e.extend,o="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),u=/"/g,a=/<br[^>]*>/i,f=/^\d+(\.\d*)?(px)?$/i,l=/<p><\/p>/i,c=/([\w|\-]+)\s*:\s*([^;]+);?/i,h=/^sizzle-\d+/i,p=/\s*onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i,d=document.createElement("div");d.innerHTML=" <hr>";var v=d.firstChild.nodeType===3;d=null;var m={toEditableHtml:function(e){return e=e||"",e.replace(/<!\[CDATA\[(.*)?\]\]>/g,"<!--[CDATA[$1]]-->").replace(/<script([^>]*)>(.*)?<\/script>/ig,"<telerik:script$1>$2</telerik:script>").replace(/<img([^>]*)>/ig,function(e){return e.replace(p,"")}).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/ig,"$1")},_fillEmptyElements:function(t){e(t).find("p").each(function(){var t=e(this);if(/^\s*$/g.test(t.text())&&!t.find("img,input").length){var r=this;while(r.firstChild&&r.firstChild.nodeType!=3)r=r.firstChild;r.nodeType==1&&!i.empty[i.name(r)]&&(r.innerHTML=n.ui.editor.emptyElementContent)}})},_removeSystemElements:function(t){e(".k-paste-container",t).remove()},_resetOrderedLists:function(e){var t=e.getElementsByTagName("ol"),n,r,i;for(n=0;n<t.length;n++)r=t[n],i=r.getAttribute("start"),r.setAttribute("start",1),i?r.setAttribute("start",i):r.removeAttribute(i)},htmlToDom:function(t,r){var s=n.support.browser,o=s.msie,u=o&&s.version<9;t=m.toEditableHtml(t);if(u){t="<br/>"+t;var a="originalsrc",f="originalhref";t=t.replace(/href\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,f+'="$1"'),t=t.replace(/src\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,a+'="$1"')}return r.innerHTML=t,u?(i.remove(r.firstChild),e(r).find("telerik\\:script,script,link,img,a").each(function(){var e=this;e[f]&&(e.setAttribute("href",e[f]),e.removeAttribute(f)),e[a]&&(e.setAttribute("src",e[a]),e.removeAttribute(a))})):o&&(i.normalize(r),m._resetOrderedLists(r)),m._fillEmptyElements(r),m._removeSystemElements(r),e("table",r).addClass("k-table"),r},domToXhtml:function(n,r){function d(t){var n=e.trim,r=n(t).split(";"),o,a=r.length,f,l,h;for(o=0,a=r.length;o<a;o++){if(!r[o].length)continue;f=c.exec(r[o]);if(!f)continue;l=n(f[1].toLowerCase()),h=n(f[2]);if(l=="font-size-adjust"||l=="font-stretch")continue;l.indexOf("color")>=0?h=i.toHex(h):l.indexOf("font")>=0?h=h.replace(u,"'"):/\burl\(/g.test(h)&&(h=h.replace(u,"")),s.push(l),s.push(":"),s.push(h),s.push(";")}}function m(n){var r=[],o=n.attributes,u,a,l,c,p,v;if(i.is(n,"img")){var m=n.style.width,g=n.style.height,y=e(n);m&&f.test(m)&&(y.attr("width",parseInt(m,10)),i.unstyle(n,{width:t})),g&&f.test(g)&&(y.attr("height",parseInt(g,10)),i.unstyle(n,{height:t}))}for(a=0,l=o.length;a<l;a++)u=o[a],c=u.nodeName,p=u.nodeValue,v=u.specified,c=="value"&&"value"in n&&n.value?v=!0:c=="type"&&p=="text"?v=!0:c=="class"&&!p?v=!1:h.test(c)?v=!1:c=="complete"?v=!1:c=="altHtml"?v=!1:c=="start"&&(i.is(n,"ul")||i.is(n,"ol"))?v=!1:c.indexOf("_moz")>=0&&(v=!1),v&&r.push(u);if(!r.length)return;r.sort(function(e,t){return e.nodeName>t.nodeName?1:e.nodeName<t.nodeName?-1:0});for(a=0,l=r.length;a<l;a++){u=r[a],c=u.nodeName,p=u.nodeValue;if(c=="class"&&p=="k-table")continue;s.push(" "),s.push(c),s.push('="'),c=="style"?d(p||n.style.cssText):c=="src"||c=="href"?s.push(n.getAttribute(c,2)):s.push(i.fillAttrs[c]?c:p),s.push('"')}}function g(e,t,n){for(var r=e.firstChild;r;r=r.nextSibling)b(r,t,n)}function y(e){return e.nodeValue.replace(/\ufeff/g,"")}function b(e,t,n){var o=e.nodeType,u,a,f,l,c;if(o==1){u=i.name(e);if(!u||i.insignificant(e))return;if(i.isInline(e)&&e.childNodes.length==1&&e.firstChild.nodeType==3&&!y(e.firstChild))return;a=p[u];if(a){a.start(e),g(e,!1,a.skipEncoding),a.end(e);return}s.push("<"),s.push(u),m(e),i.empty[u]?s.push(" />"):(s.push(">"),g(e,t||i.is(e,"pre")),s.push("</"),s.push(u),s.push(">"))}else if(o==3){l=y(e);if(!t&&v){f=e.parentNode,c=e.previousSibling,c||(c=(i.isInline(f)?f:e).previousSibling);if(!c||c.innerHTML===""||i.isBlock(c))l=l.replace(/^[\r\n\v\f\t ]+/,"");l=l.replace(/ +/," ")}s.push(n?l:i.encode(l,r))}else o==4?(s.push("<![CDATA["),s.push(e.data),s.push("]]>")):o==8&&(e.data.indexOf("[CDATA[")<0?(s.push("<!--"),s.push(e.data),s.push("-->")):(s.push("<!"),s.push(e.data),s.push(">")))}var s=[],p={"telerik:script":{start:function(e){s.push("<script"),m(e),s.push(">")},end:function(){s.push("</script>")},skipEncoding:!0},b:{start:function(){s.push("<strong>")},end:function(){s.push("</strong>")}},i:{start:function(){s.push("<em>")},end:function(){s.push("</em>")}},u:{start:function(){s.push('<span style="text-decoration:underline;">')},end:function(){s.push("</span>")}},iframe:{start:function(e){s.push("<iframe"),m(e),s.push(">")},end:function(){s.push("</iframe>")}},font:{start:function(e){s.push('<span style="');var t=e.getAttribute("color"),n=o[e.getAttribute("size")],r=e.getAttribute("face");t&&(s.push("color:"),s.push(i.toHex(t)),s.push(";")),r&&(s.push("font-face:"),s.push(r),s.push(";")),n&&(s.push("font-size:"),s.push(n),s.push(";")),s.push('">')},end:function(){s.push("</span>")}}};return n.childNodes.length==1&&n.firstChild.nodeType==3?i.encode(y(n.firstChild).replace(/[\r\n\v\f\t ]+/," "),r):(g(n),s=s.join(""),s.replace(a,"").replace(l,"")===""?"":s)}};s(r,{Serializer:m})}(window.kendo.jQuery),function(e){function d(e,t,n,r){if(e==t)return r-n;var i=t;while(i&&i.parentNode!=e)i=i.parentNode;if(i)return u(i)-n;i=e;while(i&&i.parentNode!=t)i=i.parentNode;if(i)return r-u(i)-1;var s=o.commonAncestor(e,t),a=e;while(a&&a.parentNode!=s)a=a.parentNode;a||(a=s);var f=t;while(f&&f.parentNode!=s)f=f.parentNode;return f||(f=s),a==f?0:u(f)-u(a)}function v(e,t){function n(e){try{return d(e.startContainer,e.endContainer,e.startOffset,e.endOffset)<0}catch(t){return!0}}n(e)&&(t?(e.commonAncestorContainer=e.endContainer=e.startContainer,e.endOffset=e.startOffset):(e.commonAncestorContainer=e.startContainer=e.endContainer,e.startOffset=e.endOffset),e.collapsed=!0)}function m(e){e.collapsed=e.startContainer==e.endContainer&&e.startOffset==e.endOffset;var t=e.startContainer;while(t&&t!=e.endContainer&&!o.isAncestorOf(t,e.endContainer))t=t.parentNode;e.commonAncestorContainer=t}function b(e){var t=e.duplicate(),n=e.duplicate();return t.collapse(!0),n.collapse(!1),o.commonAncestor(e.parentElement(),t.parentElement(),n.parentElement())}function w(e,t,n){var r=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"],s=0,u=a(r),f=u?r:r.childNodes[i]||null,l=u?r.parentNode:r,c=t.ownerDocument,h=c.body.createTextRange(),p;if(r.nodeType==3||r.nodeType==4)s=i;l||(l=c.body),l.nodeName.toLowerCase()=="img"?(h.moveToElementText(l),h.collapse(!1),e.setEndPoint(n?"StartToStart":"EndToStart",h)):(p=l.insertBefore(o.create(c,"a"),f),h.moveToElementText(p),o.remove(p),h[n?"moveStart":"moveEnd"]("character",s),h.collapse(!1),e.setEndPoint(n?"StartToStart":"EndToStart",h))}function E(e,t,n,r){var i=o.create(t.ownerDocument,"a"),s=e.duplicate(),f=r?"StartToStart":"StartToEnd",l,c,h,p,d,v,m,g=!1;i.innerHTML="",s.collapse(r),c=s.parentElement(),o.isAncestorOrSelf(n,c)||(c=n);do g?c.insertBefore(i,i.previousSibling):(c.appendChild(i),g=!0),s.moveToElementText(i);while((l=s.compareEndPoints(f,e))>0&&i.previousSibling);h=i.nextSibling,l==-1&&a(h)?(s.setEndPoint(r?"EndToStart":"EndToEnd",e),o.remove(i),v=[h,s.text.length]):(p=!r&&i.previousSibling,d=r&&i.nextSibling,a(d)?v=[d,0]:a(p)?v=[p,p.length]:(m=u(i),c.nextSibling&&m==c.childNodes.length-1?v=[c.nextSibling,0]:v=[c,m]),o.remove(i)),t[r?"setStart":"setEnd"].apply(t,v)}var t=window.kendo,n=t.Class,r=e.extend,i=t.ui.editor,s=t.support.browser,o=i.Dom,u=o.findNodeIndex,a=o.isDataNode,f=o.findClosestAncestor,l=o.getNodeLength,c=o.normalize,h={selectionFromWindow:function(e){return"getSelection"in e?e.getSelection():new y(e.document)},selectionFromRange:function(e){var t=C.documentFromRange(e);return h.selectionFromDocument(t)},selectionFromDocument:function(e){return h.selectionFromWindow(o.windowFromDocument(e))}},p=n.extend({init:function(t){e.extend(this,{ownerDocument:t,startContainer:t,endContainer:t,commonAncestorContainer:t,startOffset:0,endOffset:0,collapsed:!0})},setStart:function(e,t){this.startContainer=e,this.startOffset=t,m(this),v(this,!0)},setEnd:function(e,t){this.endContainer=e,this.endOffset=t,m(this),v(this,!1)},setStartBefore:function(e){this.setStart(e.parentNode,u(e))},setStartAfter:function(e){this.setStart(e.parentNode,u(e)+1)},setEndBefore:function(e){this.setEnd(e.parentNode,u(e))},setEndAfter:function(e){this.setEnd(e.parentNode,u(e)+1)},selectNode:function(e){this.setStartBefore(e),this.setEndAfter(e)},selectNodeContents:function(e){this.setStart(e,0),this.setEnd(e,e[e.nodeType===1?"childNodes":"nodeValue"].length)},collapse:function(e){var t=this;e?t.setEnd(t.startContainer,t.startOffset):t.setStart(t.endContainer,t.endOffset)},deleteContents:function(){var e=this,t=e.cloneRange();e.startContainer!=e.commonAncestorContainer&&e.setStartAfter(f(e.commonAncestorContainer,e.startContainer)),e.collapse(!0),function n(e){while(e.next())e.hasPartialSubtree()?n(e.getSubtreeIterator()):e.remove()}(new g(t))},cloneContents:function(){var e=C.documentFromRange(this);return function t(n){var r,i=e.createDocumentFragment();while(r=n.next())r=r.cloneNode(!n.hasPartialSubtree()),n.hasPartialSubtree()&&r.appendChild(t(n.getSubtreeIterator())),i.appendChild(r);return i}(new g(this))},extractContents:function(){var e=this,t=e.cloneRange();e.startContainer!=e.commonAncestorContainer&&e.setStartAfter(f(e.commonAncestorContainer,e.startContainer)),e.collapse(!0);var n=C.documentFromRange(e);return function r(t){var i,s=n.createDocumentFragment();while(i=t.next())t.hasPartialSubtree()?(i=i.cloneNode(!1),i.appendChild(r(t.getSubtreeIterator()))):t.remove(e.originalRange),s.appendChild(i);return s}(new g(t))},insertNode:function(e){var t=this;a(t.startContainer)?(t.startOffset!=t.startContainer.nodeValue.length&&o.splitDataNode(t.startContainer,t.startOffset),o.insertAfter(e,t.startContainer)):o.insertAt(t.startContainer,e,t.startOffset),t.setStart(t.startContainer,t.startOffset)},cloneRange:function(){return e.extend(new p(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var e=this.startContainer.nodeName,t=this.endContainer.nodeName;return[e=="#text"?this.startContainer.nodeValue:e,"(",this.startOffset,") : ",t=="#text"?this.endContainer.nodeValue:t,"(",this.endOffset,")"].join("")}}),g=n.extend({init:function(t){e.extend(this,{range:t,_current:null,_next:null,_end:null});if(t.collapsed)return;var n=t.commonAncestorContainer;this._next=t.startContainer==n&&!a(t.startContainer)?t.startContainer.childNodes[t.startOffset]:f(n,t.startContainer),this._end=t.endContainer==n&&!a(t.endContainer)?t.endContainer.childNodes[t.endOffset]:f(n,t.endContainer).nextSibling},hasNext:function(){return!!this._next},next:function(){var e=this,t=e._current=e._next;return e._next=e._current&&e._current.nextSibling!=e._end?e._current.nextSibling:null,a(e._current)&&(e.range.endContainer==e._current&&(t=t.cloneNode(!0),t.deleteData(e.range.endOffset,t.length-e.range.endOffset)),e.range.startContainer==e._current&&(t=t.cloneNode(!0),t.deleteData(0,e.range.startOffset))),t},traverse:function(e){function r(){return t._current=t._next,t._next=t._current&&t._current.nextSibling!=t._end?t._current.nextSibling:null,t._current}var t=this,n;while(n=r())t.hasPartialSubtree()?t.getSubtreeIterator().traverse(e):e(n);return n},remove:function(e){var t=this,n=t.range.startContainer==t._current,r=t.range.endContainer==t._current,i,s,f;if(a(t._current)&&(n||r))i=n?t.range.startOffset:0,s=r?t.range.endOffset:t._current.length,f=s-i,e&&(n||r)&&(t._current==e.startContainer&&i<=e.startOffset&&(e.startOffset-=f),t._current==e.endContainer&&s<=e.endOffset&&(e.endOffset-=f)),t._current.deleteData(i,f);else{var l=t._current.parentNode;if(e&&(t.range.startContainer==l||t.range.endContainer==l)){var c=u(t._current);l==e.startContainer&&c<=e.startOffset&&(e.startOffset-=1),l==e.endContainer&&c<e.endOffset&&(e.endOffset-=1)}o.remove(t._current)}},hasPartialSubtree:function(){return!a(this._current)&&(o.isAncestorOrSelf(this._current,this.range.startContainer)||o.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){var e=this,t=e.range.cloneRange();return t.selectNodeContents(e._current),o.isAncestorOrSelf(e._current,e.range.startContainer)&&t.setStart(e.range.startContainer,e.range.startOffset),o.isAncestorOrSelf(e._current,e.range.endContainer)&&t.setEnd(e.range.endContainer,e.range.endOffset),new g(t)}}),y=n.extend({init:function(e){this.ownerDocument=e,this.rangeCount=1},addRange:function(e){var t=this.ownerDocument.body.createTextRange();w(t,e,!1),w(t,e,!0),t.select()},removeAllRanges:function(){var e=this.ownerDocument.selection;e.type!="None"&&e.empty()},getRangeAt:function(){var e,t=new p(this.ownerDocument),n=this.ownerDocument.selection,r,i;try{e=n.createRange(),r=e.item?e.item(0):e.parentElement();if(r.ownerDocument!=this.ownerDocument)return t}catch(s){return t}if(n.type=="Control")t.selectNode(e.item(0));else{i=b(e),E(e,t,i,!0),E(e,t,i,!1),t.startContainer.nodeType==9&&t.setStart(t.endContainer,t.startOffset),t.endContainer.nodeType==9&&t.setEnd(t.startContainer,t.endOffset),e.compareEndPoints("StartToEnd",e)===0&&t.collapse(!1);var o=t.startContainer,f=t.endContainer,c=this.ownerDocument.body;if(!t.collapsed&&t.startOffset===0&&t.endOffset==l(t.endContainer)&&(o!=f||!a(o)||o.parentNode!=c)){var h=!1,d=!1;while(u(o)===0&&o==o.parentNode.firstChild&&o!=c)o=o.parentNode,h=!0;while(u(f)==l(f.parentNode)-1&&f==f.parentNode.lastChild&&f!=c)f=f.parentNode,d=!0;o==c&&f==c&&h&&d&&(t.setStart(o,0),t.setEnd(f,l(c)))}}return t}}),S=n.extend({init:function(e){this.enumerate=function(){function n(e){if(o.is(e,"img")||e.nodeType==3&&(!o.isWhitespace(e)||e.nodeValue==""))t.push(e);else{e=e.firstChild;while(e)n(e),e=e.nextSibling}}var t=[];return(new g(e)).traverse(n),t}}}),x=n.extend({init:function(e,t){var n=this;n.range=e,n.rootNode=C.documentFromRange(e),n.body=t||n.getEditable(e),o.name(n.body)!="body"&&(n.rootNode=n.body),n.html=n.body.innerHTML,n.startContainer=n.nodeToPath(e.startContainer),n.endContainer=n.nodeToPath(e.endContainer),n.startOffset=n.offset(e.startContainer,e.startOffset),n.endOffset=n.offset(e.endContainer,e.endOffset)},index:function(e){var t=0,n=e.nodeType;while(e=e.previousSibling){var r=e.nodeType;(r!=3||n!=r)&&t++,n=r}return t},getEditable:function(e){var t=e.commonAncestorContainer;while(t&&(t.nodeType==3||t.attributes&&!t.attributes.contentEditable))t=t.parentNode;return t},restoreHtml:function(){this.body.innerHTML=this.html},offset:function(e,t){if(e.nodeType==3)while((e=e.previousSibling)&&e.nodeType==3)t+=e.nodeValue.length;return t},nodeToPath:function(e){var t=[];while(e!=this.rootNode)t.push(this.index(e)),e=e.parentNode;return t},toRangePoint:function(e,t,n,r){var i=this.rootNode,s=n.length,o=r;while(s--)i=i.childNodes[n[s]];while(i.nodeType==3&&i.nodeValue.length<o)o-=i.nodeValue.length,i=i.nextSibling;e[t?"setStart":"setEnd"](i,o)},toRange:function(){var e=this,t=e.range.cloneRange();return e.toRangePoint(t,!0,e.startContainer,e.startOffset),e.toRangePoint(t,!1,e.endContainer,e.endOffset),t}}),T=n.extend({init:function(){this.caret=null},addCaret:function(e){var t=this;return t.caret=o.create(C.documentFromRange(e),"span",{className:"k-marker"}),e.insertNode(t.caret),e.selectNode(t.caret),t.caret},removeCaret:function(e){var t=this,n=t.caret.previousSibling,r=0;n&&(r=a(n)?n.nodeValue.length:u(n));var i=t.caret.parentNode,f=n?u(n):0;o.remove(t.caret),c(i);var l=i.childNodes[f];if(a(l))e.setStart(l,r);else if(l){var h=o.lastTextNode(l);h?e.setStart(h,h.nodeValue.length):e[n?"setStartAfter":"setStartBefore"](l)}else!s.msie&&!i.innerHTML&&(i.innerHTML='<br _moz_dirty="" />'),e.selectNodeContents(i);e.collapse(!0)},add:function(e,t){var n=this,r=e.collapsed&&!C.isExpandable(e),i=C.documentFromRange(e);t&&e.collapsed&&(n.addCaret(e),e=C.expand(e));var s=e.cloneRange();s.collapse(!1),n.end=o.create(i,"span",{className:"k-marker"}),s.insertNode(n.end),s=e.cloneRange(),s.collapse(!0),n.start=n.end.cloneNode(!0),s.insertNode(n.start),n._removeDeadMarkers(n.start,n.end);if(r){var u=i.createTextNode("");o.insertAfter(u.cloneNode(),n.start),o.insertBefore(u,n.end)}return e.setStartBefore(n.start),e.setEndAfter(n.end),c(e.commonAncestorContainer),e},_removeDeadMarkers:function(e,t){e.previousSibling&&e.previousSibling.nodeValue==""&&o.remove(e.previousSibling),t.nextSibling&&t.nextSibling.nodeValue==""&&o.remove(t.nextSibling)},remove:function(e){var t=this,n=t.start,r=t.end,i,s,f;c(e.commonAncestorContainer);while(!n.nextSibling&&n.parentNode)n=n.parentNode;while(!r.previousSibling&&r.parentNode)r=r.parentNode;i=n.previousSibling&&n.previousSibling.nodeType==3&&n.nextSibling&&n.nextSibling.nodeType==3,s=r.previousSibling&&r.previousSibling.nodeType==3&&r.nextSibling&&r.nextSibling.nodeType==3,f=i&&s,n=n.nextSibling,r=r.previousSibling;var l=!1,h=!1;n==t.end&&(h=!!t.start.previousSibling,n=r=t.start.previousSibling||t.end.nextSibling,l=!0),o.remove(t.start),o.remove(t.end);if(!n||!r){e.selectNodeContents(e.commonAncestorContainer),e.collapse(!0);return}var p=l?a(n)?n.nodeValue.length:n.childNodes.length:0,d=a(r)?r.nodeValue.length:r.childNodes.length;if(n.nodeType==3)while(n.previousSibling&&n.previousSibling.nodeType==3)n=n.previousSibling,p+=n.nodeValue.length;if(r.nodeType==3)while(r.previousSibling&&r.previousSibling.nodeType==3)r=r.previousSibling,d+=r.nodeValue.length;var v=u(n),m=n.parentNode,g=u(r),y=r.parentNode;for(var b=n;b.previousSibling;b=b.previousSibling)b.nodeType==3&&b.previousSibling.nodeType==3&&v--;for(var w=r;w.previousSibling;w=w.previousSibling)w.nodeType==3&&w.previousSibling.nodeType==3&&g--;c(m),n.nodeType==3&&(n=m.childNodes[v]),c(y),r.nodeType==3&&(r=y.childNodes[g]),l?(n.nodeType==3?e.setStart(n,p):e[h?"setStartAfter":"setStartBefore"](n),e.collapse(!0)):(n.nodeType==3?e.setStart(n,p):e.setStartBefore(n),r.nodeType==3?e.setEnd(r,d):e.setEndAfter(r)),t.caret&&t.removeCaret(e)}}),N=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/,C={nodes:function(e){var t=C.textNodes(e);return t.length||(e.selectNodeContents(e.commonAncestorContainer),t=C.textNodes(e),t.length||(t=o.significantChildNodes(e.commonAncestorContainer))),t},textNodes:function(e){return(new S(e)).enumerate()},documentFromRange:function(e){var t=e.startContainer;return t.nodeType==9?t:t.ownerDocument},createRange:function(e){return s.msie&&s.version<9?new p(e):e.createRange()},selectRange:function(e){var t=C.image(e);t&&(e.setStartAfter(t),e.setEndAfter(t));var n=h.selectionFromRange(e);n.removeAllRanges(),n.addRange(e)},stringify:function(e){return t.format("{0}:{1} - {2}:{3}",o.name(e.startContainer),e.startOffset,o.name(e.endContainer),e.endOffset)},split:function(e,t,n){function r(r){var i=e.cloneRange();i.collapse(r),i[r?"setStartBefore":"setEndAfter"](t);var s=i.extractContents();n&&(s=o.trim(s)),o[r?"insertBefore":"insertAfter"](s,t)}r(!0),r(!1)},getMarkers:function(e){var t=[];return(new g(e)).traverse(function(e){e.className=="k-marker"&&t.push(e)}),t},image:function(e){var t=[];(new g(e)).traverse(function(e){o.is(e,"img")&&t.push(e)});if(t.length==1)return t[0]},expand:function(e){var t=e.cloneRange(),n=t.startContainer.childNodes[t.startOffset===0?0:t.startOffset-1],r=t.endContainer.childNodes[t.endOffset];if(!a(n)||!a(r))return t;var i=n.nodeValue,s=r.nodeValue;if(!i||!s)return t;var o=i.split("").reverse().join("").search(N),u=s.search(N);return!o||!u?t:(u=u==-1?s.length:u,o=o==-1?0:i.length-o,t.setStart(n,o),t.setEnd(r,u),t)},isExpandable:function(e){var t=e.startContainer,n=C.documentFromRange(e);if(t==n||t==n.body)return!1;var r=e.cloneRange(),i=t.nodeValue;if(!i)return!1;var s=i.substring(0,r.startOffset),o=i.substring(r.startOffset),u=0,a=0;return s&&(u=s.split("").reverse().join("").search(N)),o&&(a=o.search(N)),u&&a}};r(i,{SelectionUtils:h,W3CRange:p,RangeIterator:g,W3CSelection:y,RangeEnumerator:S,RestorePoint:x,Marker:T,RangeUtils:C})}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,r=t.ui.editor,i=r.EditorUtils,s=i.registerTool,o=r.Dom,u=r.Tool,a=r.ToolTemplate,f=r.RestorePoint,l=r.Marker,c=e.extend,h=n.extend({init:function(e){this.options=e,this.restorePoint=new f(e.range),this.marker=new l,this.formatter=e.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(e){return this.marker.add(this.getRange(),e)},releaseRange:function(e){this.marker.remove(e),this.editor.selectRange(e)},undo:function(){var e=this.restorePoint;e.restoreHtml(),this.editor.selectRange(e.toRange())},redo:function(){this.exec()},createDialog:function(n,r){var i=this.editor;return e(n).appendTo(document.body).kendoWindow(c({},i.options.dialogOptions,r)).closest(".k-window").toggleClass("k-rtl",t.support.isRtl(i.wrapper)).end()},exec:function(){var e=this.lockRange(!0);this.formatter.editor=this.editor,this.formatter.toggle(e),this.releaseRange(e)}}),p=n.extend({init:function(e,t){this.body=e.body,this.startRestorePoint=e,this.endRestorePoint=t},redo:function(){this.body.innerHTML=this.endRestorePoint.html,this.editor.selectRange(this.endRestorePoint.toRange())},undo:function(){this.body.innerHTML=this.startRestorePoint.html,this.editor.selectRange(this.startRestorePoint.toRange())}}),d=h.extend({init:function(e){h.fn.init.call(this,e),this.managesUndoRedo=!0},exec:function(){var e=this.editor,t=this.options,n=t.range,r=e.body,i=new f(n,r),s=t.html||t.value||"";e.selectRange(n),e.clipboard.paste(s,t),t.postProcess&&t.postProcess(e,e.getRange());var o=new p(i,new f(e.getRange(),r));o.editor=e,e.undoRedoStack.push(o),e.focus()}}),v=u.extend({initialize:function(e,t){var n=t.editor,i=this.options,s=i.items?i.items:n.options.insertHtml;new r.SelectBox(e,{dataSource:s,dataTextField:"text",dataValueField:"value",change:function(){u.exec(n,"insertHtml",this.value())},title:n.options.messages.insertHtml,highlightFirst:!1})},command:function(e){return new d(e)},update:function(e){var t=e.data("kendoSelectBox")||e.find("select").data("kendoSelectBox");t.close(),t.value(t.options.title)}}),m=n.extend({init:function(){this.stack=[],this.currentCommandIndex=-1},push:function(e){this.stack=this.stack.slice(0,this.currentCommandIndex+1),this.currentCommandIndex=this.stack.push(e)-1},undo:function(){this.canUndo()&&this.stack[this.currentCommandIndex--].undo()},redo:function(){this.canRedo()&&this.stack[++this.currentCommandIndex].redo()},canUndo:function(){return this.currentCommandIndex>=0},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}}),g=n.extend({init:function(e){this.editor=e},keydown:function(t){var n=this,r=n.editor,i=r.keyboard,s=i.isTypingKey(t),o=c(e.Event(),t);n.editor.trigger("keydown",o),o.isDefaultPrevented()&&t.preventDefault();if(!o.isDefaultPrevented()&&s&&!i.isTypingInProgress()){var u=r.getRange();return n.startRestorePoint=new f(u),i.startTyping(function(){r.selectionRestorePoint=n.endRestorePoint=new f(r.getRange());var e=new p(n.startRestorePoint,n.endRestorePoint);e.editor=r,r.undoRedoStack.push(e)}),!0}return!1},keyup:function(e){var t=this.editor.keyboard;return this.editor.trigger("keyup",e),t.isTypingInProgress()?(t.endTyping(),!0):!1}}),y=n.extend({init:function(e){this.editor=e,this.systemCommandIsInProgress=!1},createUndoCommand:function(){var e=this;e.endRestorePoint=new f(e.editor.getRange());var t=new p(e.startRestorePoint,e.endRestorePoint);t.editor=e.editor,e.editor.undoRedoStack.push(t),e.startRestorePoint=e.endRestorePoint},changed:function(){return this.startRestorePoint?this.startRestorePoint.html!=this.editor.body.innerHTML:!1},keydown:function(e){var t=this,n=t.editor,r=n.keyboard;return r.isModifierKey(e)?(r.isTypingInProgress()&&r.endTyping(!0),t.startRestorePoint=new f(n.getRange()),!0):r.isSystem(e)?(t.systemCommandIsInProgress=!0,t.changed()&&(t.systemCommandIsInProgress=!1,t.createUndoCommand()),!0):!1},keyup:function(e){var t=this;return t.systemCommandIsInProgress&&t.changed()?(t.systemCommandIsInProgress=!1,t.createUndoCommand(e),!0):!1}}),b=n.extend({init:function(e){this.handlers=e,this.typingInProgress=!1},isCharacter:function(e){return e>=48&&e<=90||e>=96&&e<=111||e>=186&&e<=192||e>=219&&e<=222||e==229},toolFromShortcut:function(t,n){var r=String.fromCharCode(n.keyCode),i,s;for(i in t){s=e.extend({ctrl:!1,alt:!1,shift:!1},t[i].options);if((s.key==r||s.key==n.keyCode)&&s.ctrl==n.ctrlKey&&s.alt==n.altKey&&s.shift==n.shiftKey)return i}},isTypingKey:function(e){var t=e.keyCode;return this.isCharacter(t)&&!e.ctrlKey&&!e.altKey||t==32||t==13||t==8||t==46&&!e.shiftKey&&!e.ctrlKey&&!e.altKey},isModifierKey:function(e){var t=e.keyCode;return t==17&&!e.shiftKey&&!e.altKey||t==16&&!e.ctrlKey&&!e.altKey||t==18&&!e.ctrlKey&&!e.shiftKey},isSystem:function(e){return e.keyCode==46&&e.ctrlKey&&!e.altKey&&!e.shiftKey},startTyping:function(e){this.onEndTyping=e,this.typingInProgress=!0},stopTyping:function(){this.typingInProgress=!1,this.onEndTyping&&this.onEndTyping()},endTyping:function(t){var n=this;n.clearTimeout(),t?n.stopTyping():n.timeout=window.setTimeout(e.proxy(n.stopTyping,n),1e3)},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(e,t){var n,r=this.handlers;for(n=0;n<r.length;n++)if(r[n][t](e))break},keydown:function(e){this.notify(e,"keydown")},keyup:function(e){this.notify(e,"keyup")}}),w=n.extend({init:function(e){this.editor=e,this.cleaners=[new S,new x,new T]},htmlToFragment:function(e){var t=this.editor,n=t.document,r=o.create(n,"div"),i=n.createDocumentFragment();r.innerHTML=e;while(r.firstChild)i.appendChild(r.firstChild);return i},isBlock:function(e){return/<(div|p|ul|ol|table|h[1-6])/i.test(e)},_contentModification:function(e,t){var n=this,r=n.editor,i,s;if(n._inProgress)return;n._inProgress=!0,i=r.getRange(),s=new f(i),o.persistScrollTop(r.document),e.call(n,r,i),setTimeout(function(){t.call(n,r,i);var e=new f(r.getRange()),o=new p(s,e);o.editor=r,r.undoRedoStack.push(o),r._selectionChange(),n._inProgress=!1})},oncut:function(){this._contentModification(e.noop,e.noop)},onpaste:function(n){this._contentModification(function(r,i){var s=o.create(r.document,"div",{className:"k-paste-container",innerHTML:""});r.body.appendChild(s);if(r.body.createTextRange){n.preventDefault();var u=r.createRange();u.selectNodeContents(s),r.selectRange(u);var a=r.body.createTextRange();a.moveToElementText(s),e(r.body).unbind("paste"),a.execCommand("Paste"),e(r.body).bind("paste",e.proxy(this.onpaste,this))}else{var f=r.createRange();f.selectNodeContents(s),r.selectRange(f)}i.deleteContents()},function(r,i){var s="",u={html:""},a,f=t.support.browser;r.selectRange(i),a=e(r.body).children(".k-paste-container"),a.each(function(){var e=this.lastChild;e&&o.is(e,"br")&&o.remove(e),s+=this.innerHTML}),a.remove(),s=s.replace(/\ufeff/g,""),u.html=s,r.trigger("paste",u),r.clipboard.paste(u.html,{clean:!0})})},splittableParent:function(e,t){var n,r;if(e)return o.closestEditableOfType(t,["p","ul","ol"])||t.parentNode;n=t.parentNode,r=t.ownerDocument.body;if(o.isInline(n))while(n.parentNode!=r&&!o.isBlock(n.parentNode))n=n.parentNode;return n},paste:function(t,n){var i=this.editor,s,u;n=c({clean:!1,split:!0},n);for(s=0,u=this.cleaners.length;s<u;s++)this.cleaners[s].applicable(t)&&(t=this.cleaners[s].clean(t));n.clean&&(t=t.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/ig,"$3"),t=t.replace(/<(a|span)[^>]*><\/\1>/ig,"")),t=t.replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>");var a=this.isBlock(t);i.focus();var f=i.getRange();f.deleteContents(),f.startContainer==i.document&&f.selectNodeContents(i.body);var h=new l,p=h.addCaret(f),d=this.splittableParent(a,p),v=!1,m=d!=i.body&&!o.is(d,"td");n.split&&m&&(a||o.isInline(d))&&(f.selectNode(p),r.RangeUtils.split(f,d,!0),v=!0);var g=this.htmlToFragment(t);if(g.firstChild&&g.firstChild.className==="k-paste-container"){var y=[];for(s=0,u=g.childNodes.length;s<u;s++)y.push(g.childNodes[s].innerHTML);g=this.htmlToFragment(y.join("<br />"))}e(g.childNodes).filter("table").addClass("k-table").end().find("table").addClass("k-table"),f.insertNode(g),d=this.splittableParent(a,p);if(v){while(p.parentNode!=d)o.unwrap(p.parentNode);o.unwrap(p.parentNode)}o.normalize(f.commonAncestorContainer),p.style.display="inline",o.restoreScrollTop(i.document),o.scrollTo(p),h.removeCaret(f),i.selectRange(f)}}),E=n.extend({clean:function(e){var t=this,n=t.replacements,r,i;for(r=0,i=n.length;r<i;r+=2)e=e.replace(n[r],n[r+1]);return e}}),S=E.extend({init:function(){this.replacements=[/<(\/?)script([^>]*)>/i,"<$1telerik:script$2>"]},applicable:function(e){return/<script[^>]*>/i.test(e)}}),x=E.extend({init:function(){this.replacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>(?!\n)/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/ig,"",/<(\/?)b(\s[^>]*)?>/ig,"<$1strong$2>",/<(\/?)i(\s[^>]*)?>/ig,"<$1em$2>",/<o:p>&nbsp;<\/o:p>/ig,"&nbsp;",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/ig,"",/<\/o>/g,"",/style=(["|'])\s*\1/g,"",/(<br[^>]*>)?\n/g,function(e,t){return t?e:" "}]},applicable:function(e){return/class="?Mso|style="[^"]*mso-/i.test(e)||/urn:schemas-microsoft-com:office/.test(e)},stripEmptyAnchors:function(e){return e.replace(/<a([^>]*)>\s*<\/a>/ig,function(e,t){return!t||t.indexOf("href")<0?"":e})},listType:function(e){var t;/^(<span [^>]*texhtml[^>]*>)?<span [^>]*(Symbol|Wingdings)[^>]*>/i.test(e)&&(t=!0),e=e.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,"");if(!t&&/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(e)||t&&/^.\u00a0+/.test(e))return"ul";if(/^\s*\w+[\.\)]\u00a0{2,}/.test(e))return"ol"},lists:function(t){var n=e(o.blockElements.join(","),t),r=-1,i,s,u={ul:{},ol:{}},a=t,f,l,c,h,p,d,v;for(f=0;f<n.length;f++){l=n[f],c=this.listType(l.innerHTML),s=o.name(l);if(s=="td")continue;if(!c||s!="p"){l.innerHTML?(u={ul:{},ol:{}},a=t,r=-1):o.remove(l);continue}h=parseFloat(l.style.marginLeft||0),p=u[c][h];if(h>r||!p)p=o.create(document,c),a==t?o.insertBefore(p,l):a.appendChild(p),u[c][h]=p;if(i!=c)for(d in u)for(v in u[d])e.contains(p,u[d][v])&&delete u[d][v];o.remove(l.firstChild),a=o.create(document,"li",{innerHTML:l.innerHTML}),p.appendChild(a),o.remove(l),r=h,i=c}},removeAttributes:function(e){var t=e.attributes,n=t.length;while(n--)o.name(t[n])!="colspan"&&e.removeAttributeNode(t[n])},createColGroup:function(n){var r=n.cells,i=e(n).closest("table"),s=i.children("colgroup");if(r.length<2)return;s.length&&(r=s.children(),s[0].parentNode.removeChild(s[0])),s=e(e.map(r,function(e){var n=e.width;return n&&parseInt(n,10)!==0?t.format('<col style="width:{0}px;"/>',n):"<col />"}).join("")),s.is("colgroup")||(s=e("<colgroup/>").append(s)),s.prependTo(i)},convertHeaders:function(t){var n=t.cells,r,i=e.map(n,function(t){var n=e(t).children("p").children("strong")[0];if(n&&o.name(n)=="strong")return n});if(i.length==n.length){for(r=0;r<i.length;r++)o.unwrap(i[r]);e(t).closest("table").find("colgroup").after("<thead></thead>").end().find("thead").append(t);for(r=0;r<n.length;r++)o.changeTag(n[r],"th")}},removeParagraphs:function(t){var n,r,i,s,u;for(n=0;n<t.length;n++){this.removeAttributes(t[n]),s=e(t[n]),u=s.children("p");for(r=0,i=u.length;r<i;r++)r<i-1&&o.insertAfter(o.create(document,"br"),u[r]),o.unwrap(u[r])}},removeDefaultColors:function(e){for(var t=0;t<e.length;t++)/^\s*color:\s*[^;]*;?$/i.test(e[t].style.cssText)&&o.unwrap(e[t])},tables:function(t){var n=e(t).find("table"),r=this,i,s,o,u,a;for(u=0;u<n.length;u++){i=n[u].rows,o=s=i[0];for(a=1;a<i.length;a++)i[a].cells.length>o.cells.length&&(o=i[a]);r.createColGroup(o),r.convertHeaders(s),r.removeAttributes(n[u]),r.removeParagraphs(n.eq(u).find("td,th")),r.removeDefaultColors(n.eq(u).find("span"))}},clean:function(e){var t=this,n;return e=E.fn.clean.call(t,e),e=t.stripEmptyAnchors(e),n=o.create(document,"div",{innerHTML:e}),t.lists(n),t.tables(n),e=n.innerHTML.replace(/(<[^>]*)\s+class="?[^"\s>]*"?/ig,"$1"),e}}),T=E.extend({init:function(){this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"<$1",/^<div>(.*)<\/div>$/,"$1"]},applicable:function(e){return/class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i.test(e)}});c(r,{Command:h,GenericCommand:p,InsertHtmlCommand:d,InsertHtmlTool:v,UndoRedoStack:m,TypingHandler:g,SystemHandler:y,Keyboard:b,Clipboard:w,Cleaner:E,MSWordFormatCleaner:x,WebkitFormatCleaner:T}),s("insertHtml",new v({template:new a({template:i.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,r=t.ui.editor,i=t.ui.Editor.fn.options.formats,s=r.EditorUtils,o=r.Tool,u=r.ToolTemplate,a=r.FormatTool,f=r.Dom,l=r.RangeUtils,c=e.extend,h=r.EditorUtils.registerTool,p=r.EditorUtils.registerFormat,d="k-marker",v=n.extend({init:function(e){this.format=e},numberOfSiblings:function(e){var t=0,n=0,r=0,i=e.parentNode,s;for(s=i.firstChild;s;s=s.nextSibling)s!=e&&(s.className==d?r++:s.nodeType==3?t++:n++);return r>1&&i.firstChild.className==d&&i.lastChild.className==d?0:n+t},findSuitable:function(e,t){return!t&&this.numberOfSiblings(e)>0?null:f.parentOfType(e,this.format[0].tags)},findFormat:function(e){var t=this.format,n=f.attrEquals,r,i,s,o,u;for(r=0,i=t.length;r<i;r++){s=e,o=t[r].tags,u=t[r].attr;if(s&&f.ofType(s,o)&&n(s,u))return s;while(s){s=f.parentOfType(s,o);if(s&&n(s,u))return s}}return null},isFormatted:function(e){var t,n;for(t=0,n=e.length;t<n;t++)if(this.findFormat(e[t]))return!0;return!1}}),m=n.extend({init:function(e,t){var n=this;n.finder=new v(e),n.attributes=c({},e[0].attr,t),n.tag=e[0].tags[0]},wrap:function(e){return f.wrap(e,f.create(e.ownerDocument,this.tag,this.attributes))},activate:function(e,t){var n=this;n.finder.isFormatted(t)?(n.split(e),n.remove(t)):n.apply(t)},toggle:function(e){var t=l.textNodes(e);t.length>0&&this.activate(e,t)},apply:function(e){var t=this,n=[],r,i,s,o;for(r=0,i=e.length;r<i;r++)s=e[r],o=t.finder.findSuitable(s),o?f.attr(o,t.attributes):o=t.wrap(s),n.push(o);t.consolidate(n)},remove:function(e){var t=this,n,r,i;for(n=0,r=e.length;n<r;n++)i=t.finder.findFormat(e[n]),i&&(t.attributes&&t.attributes.style?(f.unstyle(i,t.attributes.style),!i.style.cssText&&!i.attributes["class"]&&f.unwrap(i)):f.unwrap(i))},split:function(e){var t=l.textNodes(e),n=t.length,r,i;if(n>0)for(r=0;r<n;r++)i=this.finder.findFormat(t[r]),i&&l.split(e,i,!0)},consolidate:function(e){var t,n;while(e.length>1){t=e.pop(),n=e[e.length-1],t.previousSibling&&t.previousSibling.className==d&&n.appendChild(t.previousSibling);if(t.tagName==n.tagName&&t.previousSibling==n&&t.style.cssText==n.style.cssText){while(t.firstChild)n.appendChild(t.firstChild);f.remove(t)}}}}),g=v.extend({init:function(e,t){var n=this;n.format=e,n.greedyProperty=t,v.fn.init.call(n,e)},getInlineCssValue:function(t){var n=t.attributes,r=e.trim,i,s,o,u,a,l,c,h,p,d,v,m;if(!n)return;for(i=0,s=n.length;i<s;i++){o=n[i],u=o.nodeName,a=o.nodeValue;if(o.specified&&u=="style"){l=r(a||t.style.cssText).split(";");for(h=0,p=l.length;h<p;h++){c=l[h];if(c.length){d=c.split(":"),v=r(d[0].toLowerCase()),m=r(d[1]);if(v!=this.greedyProperty)continue;return v.indexOf("color")>=0?f.toHex(m):m}}}}},getFormatInner:function(t){var n=e(f.isDataNode(t)?t.parentNode:t),r=n.parentsUntil("[contentEditable]").addBack(),i,s,o;for(i=0,s=r.length;i<s;i++){o=this.greedyProperty=="className"?r[i].className:this.getInlineCssValue(r[i]);if(o)return o}return"inherit"},getFormat:function(e){var t=this.getFormatInner(e[0]),n,r;for(n=1,r=e.length;n<r;n++)if(t!=this.getFormatInner(e[n]))return"";return t},isFormatted:function(e){return this.getFormat(e)!==""}}),y=m.extend({init:function(e,n,r){m.fn.init.call(this,e,n),this.values=n,this.finder=new g(e,r),r&&(this.greedyProperty=t.toCamelCase(r))},activate:function(e,t){var n=this.greedyProperty,r="apply";this.split(e),n&&this.values.style[n]=="inherit"&&(r="remove"),this[r](t)}}),b=a.extend({init:function(e){a.fn.init.call(this,c(e,{finder:new v(e.format),formatter:function(){return new m(e.format)}}))}}),w=o.extend({update:function(e,t){var n=e.data(this.type);n.close(),n.value(this.finder.getFormat(t))}}),E=w.extend({init:function(e){var n=this;o.fn.init.call(n,e),n.type=t.support.browser.msie||t.support.touch?"kendoDropDownList":"kendoComboBox",n.format=[{tags:["span"]}],n.finder=new g(n.format,e.cssAttr)},command:function(e){var t=this.options,n=this.format,i={};return new r.FormatCommand(c(e,{formatter:function(){return i[t.domAttr]=e.value,new y(n,{style:i},t.cssAttr)}}))},initialize:function(e,t){var n=t.editor,r=this.options,i=r.name,s,u=[];r.defaultValue&&(u=[{text:n.options.messages[r.defaultValue[0].text],value:r.defaultValue[0].value}]),s=u.concat(r.items?r.items:n.options[i]),e[this.type]({dataTextField:"text",dataValueField:"value",dataSource:s,change:function(){o.exec(n,i,this.value())},highlightFirst:!1}),e.closest(".k-widget").removeClass("k-"+i).find("*").addBack().attr("unselectable","on"),e.data(this.type).value("inherit")}}),S=o.extend({init:function(e){o.fn.init.call(this,e),this.format=[{tags:["span"]}],this.finder=new g(this.format,e.cssAttr)},options:{palette:"websafe"},update:function(){this._widget.close()},command:function(e){var t=this.options,n=this.format,i={};return new r.FormatCommand(c(e,{formatter:function(){return i[t.domAttr]=e.value,new y(n,{style:i},t.cssAttr)}}))},initialize:function(n,r){var i=r.editor,s=this.name,u=c({},S.fn.options,this.options),a=u.palette;n=this._widget=new t.ui.ColorPicker(n,{value:e.isArray(a)?a[0]:"#000",toolIcon:"k-"+u.name,palette:a,change:function(){var e=n.value();e&&o.exec(i,s,e),i.focus()},activate:function(e){e.preventDefault(),n.trigger("change")}}),n.wrapper.attr({title:r.title,unselectable:"on"}).find("*").attr("unselectable","on")}});c(r,{InlineFormatFinder:v,InlineFormatter:m,DelayedExecutionTool:w,GreedyInlineFormatFinder:g,GreedyInlineFormatter:y,InlineFormatTool:b,FontTool:E,ColorTool:S}),p("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]),h("bold",new b({key:"B",ctrl:!0,format:i.bold,template:new u({template:s.buttonTemplate,title:"Bold"})})),p("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]),h("italic",new b({key:"I",ctrl:!0,format:i.italic,template:new u({template:s.buttonTemplate,title:"Italic"})})),p("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]),h("underline",new b({key:"U",ctrl:!0,format:i.underline,template:new u({template:s.buttonTemplate,title:"Underline"})})),p("strikethrough",[{tags:["del","strike"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]),h("strikethrough",new b({format:i.strikethrough,template:new u({template:s.buttonTemplate,title:"Strikethrough"})})),p("superscript",[{tags:["sup"]}]),h("superscript",new b({format:i.superscript,template:new u({template:s.buttonTemplate,title:"Superscript"})})),p("subscript",[{tags:["sub"]}]),h("subscript",new b({format:i.subscript,template:new u({template:s.buttonTemplate,title:"Subscript"})})),h("foreColor",new S({cssAttr:"color",domAttr:"color",name:"foreColor",template:new u({template:s.colorPickerTemplate,title:"Color"})})),h("backColor",new S({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new u({template:s.colorPickerTemplate,title:"Background Color"})})),h("fontName",new E({cssAttr:"font-family",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new u({template:s.comboBoxTemplate,title:"Font Name"})})),h("fontSize",new E({cssAttr:"font-size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new u({template:s.comboBoxTemplate,title:"Font Size"})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,r=e.extend,i=t.ui.editor,s=t.ui.Editor.fn.options.formats,o=i.Dom,u=i.Command,a=i.ToolTemplate,f=i.FormatTool,l=i.EditorUtils,c=l.registerTool,h=l.registerFormat,p=i.RangeUtils,d=n.extend({init:function(e){this.format=e},contains:function(e,t){var n,r,i;for(n=0,r=t.length;n<r;n++){i=t[n];if(!i||!o.isAncestorOrSelf(e,i))return!1}return!0},findSuitable:function(t){var n=this.format,r=[],i,s,u;for(i=0,s=t.length;i<s;i++){for(var a=n.length-1;a>=0;a--){u=o.ofType(t[i],n[a].tags)?t[i]:o.parentOfType(t[i],n[a].tags);if(u)break}if(!u||u.contentEditable==="true")return[];e.inArray(u,r)<0&&r.push(u)}for(i=0,s=r.length;i<s;i++)if(this.contains(r[i],r))return[r[i]];return r},findFormat:function(e){var t=this.format,n,r,i,s,u;for(n=0,r=t.length;n<r;n++){i=e,s=t[n].tags,u=t[n].attr;while(i){if(o.ofType(i,s)&&o.attrEquals(i,u))return i;i=i.parentNode}}return null},getFormat:function(e){var t=this,n=function(e){return t.findFormat(o.isDataNode(e)?e.parentNode:e)},r=n(e[0]),i,s;if(!r)return"";for(i=1,s=e.length;i<s;i++)if(r!=n(e[i]))return"";return r.nodeName.toLowerCase()},isFormatted:function(e){for(var t=0,n=e.length;t<n;t++)if(!this.findFormat(e[t]))return!1;return!0}}),v=n.extend({init:function(e,t){this.format=e,this.values=t,this.finder=new d(e)},wrap:function(e,t,n){var r=n.length==1?o.blockParentOrBody(n[0]):o.commonAncestor.apply(null,n);o.isInline(r)&&(r=o.blockParentOrBody(r));var i=o.significantChildNodes(r),s=o.findNodeIndex(i[0]),u=o.create(r.ownerDocument,e,t),a,f;for(a=0;a<i.length;a++){f=i[a];if(o.isBlock(f)){o.attr(f,t),u.childNodes.length&&(o.insertBefore(u,f),u=u.cloneNode(!1)),s=o.findNodeIndex(f)+1;continue}u.appendChild(f)}u.firstChild&&o.insertAt(r,u,s)},apply:function(t){function s(e){return r({},e&&e.attr,i)}var n,i=this.values,u=o.filter("img",t),a=l.formatByName("img",this.format),f=s(a);e.each(u,function(){o.attr(this,f)});if(u.length==t.length)return;var c=o.filter("img",t,!0),h=this.finder.findSuitable(c);if(h.length)for(var p=0,d=h.length;p<d;p++)n=l.formatByName(o.name(h[p]),this.format),o.attr(h[p],s(n));else n=this.format[0],this.wrap(n.tags[0],s(n),c)},remove:function(e){var t,n,r,i,s;for(t=0,n=e.length;t<n;t++)r=this.finder.findFormat(e[t]),r&&(s=o.name(r),s=="div"&&!r.getAttribute("class")?o.unwrap(r):(i=l.formatByName(s,this.format),i.attr.style&&o.unstyle(r,i.attr.style),i.attr.className&&o.removeClass(r,i.attr.className)))},toggle:function(e){var t=this,n=p.nodes(e);t.finder.isFormatted(n)?t.remove(n):t.apply(n)}}),m=n.extend({init:function(e,t){var n=this;n.format=e,n.values=t,n.finder=new d(e)},apply:function(e){var t=this.format,n=o.blockParents(e),r=t[0].tags[0],s,u,a,f,l,c,h;if(n.length)for(s=0,u=n.length;s<u;s++)h=o.name(n[s]),h=="li"?(a=n[s].parentNode,f=new i.ListFormatter(a.nodeName.toLowerCase(),r),l=this.editor.createRange(),l.selectNode(n[s]),f.toggle(l)):r&&(h=="td"||n[s].attributes.contentEditable)?(new v(t,this.values)).apply(n[s].childNodes):(c=o.changeTag(n[s],r),o.attr(c,t[0].attr));else(new v(t,this.values)).apply(e)},toggle:function(e){var t=p.textNodes(e);t.length||(e.selectNodeContents(e.commonAncestorContainer),t=p.textNodes(e),t.length||(t=o.significantChildNodes(e.commonAncestorContainer))),this.apply(t)}}),g=u.extend({init:function(e){e.formatter=e.formatter(),u.fn.init.call(this,e)}}),y=f.extend({init:function(e){f.fn.init.call(this,r(e,{finder:new d(e.format),formatter:function(){return new v(e.format)}}))}});r(i,{BlockFormatFinder:d,BlockFormatter:v,GreedyBlockFormatter:m,FormatCommand:g,BlockFormatTool:y}),h("justifyLeft",[{tags:o.blockElements,attr:{style:{textAlign:"left",listStylePosition:""}}},{tags:["img"],attr:{style:{"float":"left",display:"",marginLeft:"",marginRight:""}}}]),c("justifyLeft",new y({format:s.justifyLeft,template:new a({template:l.buttonTemplate,title:"Justify Left"})})),h("justifyCenter",[{tags:o.nonListBlockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto","float":""}}},{tags:["ul","ol","li"],attr:{style:{textAlign:"center",listStylePosition:"inside"}}}]),c("justifyCenter",new y({format:s.justifyCenter,template:new a({template:l.buttonTemplate,title:"Justify Center"})})),h("justifyRight",[{tags:o.nonListBlockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{"float":"right",display:"",marginLeft:"",marginRight:""}}},{tags:["ul","ol","li"],attr:{style:{textAlign:"right",listStylePosition:"inside"}}}]),c("justifyRight",new y({format:s.justifyRight,template:new a({template:l.buttonTemplate,title:"Justify Right"})})),h("justifyFull",[{tags:o.blockElements,attr:{style:{textAlign:"justify",listStylePosition:""}}}]),c("justifyFull",new y({format:s.justifyFull,template:new a({template:l.buttonTemplate,title:"Justify Full"})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=e.extend,r=t.ui.editor,i=r.Dom,s=r.Command,o=r.Tool,u=r.BlockFormatter,a=i.normalize,f=r.RangeUtils,l=r.EditorUtils.registerTool,c=s.extend({init:function(e){this.options=e,s.fn.init.call(this,e)},_insertMarker:function(e,t){var n=i.create(e,"a"),r;return n.className="k-marker",t.insertNode(n),n.parentNode||(r=t.commonAncestorContainer,r.innerHTML="",r.appendChild(n)),a(n.parentNode),n},_moveFocus:function(e,t){if(i.is(t,"img"))e.setStartBefore(t);else{e.selectNodeContents(t);var n=f.textNodes(e)[0];if(n)e.selectNodeContents(n);else{while(t.childNodes.length&&!i.is(t.firstChild,"br"))t=t.firstChild;e.selectNodeContents(t)}}},shouldTrim:function(e){var t="p,h1,h2,h3,h4,h5,h6".split(","),n=i.parentOfType(e.startContainer,t),r=i.parentOfType(e.endContainer,t);return n&&!r||!n&&r},_blankAfter:function(e){while(e&&(i.isMarker(e)||i.stripBom(e.nodeValue)===""))e=e.nextSibling;return!e},exec:function(){var e=this.getRange(),t=f.documentFromRange(e),n,s,o,l=r.emptyElementContent,c,h,p,d,v,m=this.shouldTrim(e);e.deleteContents(),h=this._insertMarker(t,e),p=i.closestEditableOfType(h,["li"]),d=i.closestEditableOfType(h,"h1,h2,h3,h4,h5,h6".split(",")),p?i.emptyNode(p)&&(c=i.create(t,"p"),p.nextSibling&&(v=e.cloneRange(),v.selectNode(p),f.split(v,p.parentNode)),i.insertAfter(c,p.parentNode),i.remove(p.parentNode.childNodes.length==1?p.parentNode:p),c.innerHTML=l,o=c):d&&this._blankAfter(h)&&(c=i.create(t,"p"),i.insertAfter(c,d),c.innerHTML=l,i.remove(h),o=c),o||(!p&&!d&&(new u([{tags:["p"]}])).apply([h]),e.selectNode(h),n=i.parentOfType(h,[p?"li":d?i.name(d):"p"]),f.split(e,n,m),s=n.previousSibling,i.is(s,"li")&&s.firstChild&&!i.is(s.firstChild,"br")&&(s=s.firstChild),o=n.nextSibling,i.is(o,"li")&&o.firstChild&&!i.is(o.firstChild,"br")&&(o=o.firstChild),i.remove(n),this.clean(s),this.clean(o,{links:!0}),a(s)),a(o),this._moveFocus(e,o),e.collapse(!0),i.scrollTo(o),f.selectRange(e)},clean:function(e,t){var n=e;e.firstChild&&i.is(e.firstChild,"br")&&i.remove(e.firstChild),i.isDataNode(e)&&!e.nodeValue&&(e=e.parentNode);if(e){while(e.firstChild&&e.firstChild.nodeType==1)e=e.firstChild;!i.isEmpty(e)&&/^\s*$/.test(e.innerHTML)&&(e.innerHTML=r.emptyElementContent);if(t&&t.links)while(e!=n){if(i.is(e,"a")){i.unwrap(e);break}e=e.parentNode}}}}),h=s.extend({init:function(e){this.options=e,s.fn.init.call(this,e)},exec:function(){var e=this.getRange(),n=i.create(f.documentFromRange(e),"br"),r;e.deleteContents(),e.insertNode(n),a(n.parentNode),!t.support.browser.msie&&(!n.nextSibling||i.isWhitespace(n.nextSibling))&&(r=n.cloneNode(!0),r.setAttribute("_moz_dirty",""),i.insertAfter(r,n)),e.setStartAfter(n),e.collapse(!0),i.scrollTo(n.nextSibling||n),f.selectRange(e)}});n(r,{ParagraphCommand:c,NewLineCommand:h}),l("insertLineBreak",new o({key:13,shift:!0,command:h})),l("insertParagraph",new o({key:13,command:c}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,r=e.extend,i=t.ui.editor,s=i.Dom,o=i.RangeUtils,u=i.EditorUtils,a=i.Command,f=i.ToolTemplate,l=i.FormatTool,c=i.BlockFormatFinder,h=o.textNodes,p=i.EditorUtils.registerTool,d=c.extend({init:function(e){this.tag=e;var t=this.tags=[e=="ul"?"ol":"ul",e];c.fn.init.call(this,[{tags:t}])},isFormatted:function(e){var t=[],n;for(var r=0;r<e.length;r++)(n=this.findFormat(e[r]))&&s.name(n)==this.tag&&t.push(n);if(t.length<1)return!1;if(t.length!=e.length)return!1;for(r=0;r<t.length;r++){if(t[r].parentNode!=n.parentNode)break;if(t[r]!=n)return!1}return!0},findSuitable:function(e){var t=s.parentOfType(e[0],this.tags);return t&&s.name(t)==this.tag?t:null}}),v=n.extend({init:function(e,t){var n=this;n.finder=new d(e),n.tag=e,n.unwrapTag=t},isList:function(e){var t=s.name(e);return t=="ul"||t=="ol"||t=="dl"},wrap:function(e,t){var n=s.create(e.ownerDocument,"li"),r,i;for(r=0;r<t.length;r++){i=t[r];if(s.is(i,"li")){e.appendChild(i);continue}if(this.isList(i)){while(i.firstChild)e.appendChild(i.firstChild);continue}if(s.is(i,"td")){while(i.firstChild)n.appendChild(i.firstChild);e.appendChild(n),i.appendChild(e),e=e.cloneNode(!1),n=n.cloneNode(!1);continue}n.appendChild(i),s.isBlock(i)&&(e.appendChild(n),s.unwrap(i),n=n.cloneNode(!1))}n.firstChild&&e.appendChild(n)},containsAny:function(e,t){for(var n=0;n<t.length;n++)if(s.isAncestorOrSelf(e,t[n]))return!0;return!1},suitable:function(e,t){if(e.className=="k-marker"){var n=e.nextSibling;if(n&&s.isBlock(n))return!1;n=e.previousSibling;if(n&&s.isBlock(n))return!1}return this.containsAny(e,t)||s.isInline(e)||e.nodeType==3},split:function(t){var n=h(t),r,i;if(n.length){r=s.parentOfType(n[0],["li"]),i=s.parentOfType(n[n.length-1],["li"]),t.setStartBefore(r),t.setEndAfter(i);for(var u=0,a=n.length;u<a;u++){var f=this.finder.findFormat(n[u]);if(f){var l=e(f).parents("ul,ol");l[0]?o.split(t,l.last()[0],!0):o.split(t,f,!0)}}}},merge:function(e,t){var n=t.previousSibling,r;while(n&&(n.className=="k-marker"||n.nodeType==3&&s.isWhitespace(n)))n=n.previousSibling;if(n&&s.name(n)==e){while(t.firstChild)n.appendChild(t.firstChild);s.remove(t),t=n}r=t.nextSibling;while(r&&(r.className=="k-marker"||r.nodeType==3&&s.isWhitespace(r)))r=r.nextSibling;if(r&&s.name(r)==e){while(t.lastChild)r.insertBefore(t.lastChild,r.firstChild);s.remove(t)}},breakable:function(e){return e!=e.ownerDocument.body&&!/table|tbody|tr|td/.test(s.name(e))&&!e.attributes.contentEditable},applyOnSection:function(t,n){function f(){o.push(this)}var r=this.tag,i=s.closestSplittableParent(n),o=[],u=this.finder.findSuitable(n);u||(u=(new d(r=="ul"?"ol":"ul")).findSuitable(n));var a;/table|tbody/.test(s.name(i))?a=e.map(n,function(e){return s.parentOfType(e,["td"])}):(a=s.significantChildNodes(i),e.grep(a,s.isBlock).length&&(a=e.grep(a,e.proxy(function(e){return this.containsAny(e,n)},this))),a.length||(a=n));for(var l=0;l<a.length;l++){var c=a[l],h=(!u||!s.isAncestorOrSelf(u,c))&&this.suitable(c,n);if(!h)continue;u&&this.isList(c)?(e.each(c.childNodes,f),s.remove(c)):o.push(c)}o.length==a.length&&this.breakable(i)&&(o=[i]),u||(u=s.create(i.ownerDocument,r),s.insertBefore(u,o[0])),this.wrap(u,o),s.is(u,r)||s.changeTag(u,r),this.merge(r,u)},apply:function(e){var t=0,n=[],r,i,o;do o=s.closestEditable(e[t],["td","body"]),!r||o!=r?(r&&n.push({section:r,nodes:i}),i=[e[t]],r=o):i.push(e[t]),t++;while(t<e.length);n.push({section:r,nodes:i});for(t=0;t<n.length;t++)this.applyOnSection(n[t].section,n[t].nodes)},unwrap:function(t){var n=t.ownerDocument.createDocumentFragment(),r=this.unwrapTag,i,o,u,a;for(o=t.firstChild;o;o=o.nextSibling){u=s.create(t.ownerDocument,r||"p");while(o.firstChild)a=o.firstChild,s.isBlock(a)?(u.firstChild&&(n.appendChild(u),u=s.create(t.ownerDocument,r||"p")),n.appendChild(a)):u.appendChild(a);u.firstChild&&n.appendChild(u)}i=e(t).parents("ul,ol"),i[0]?(s.insertAfter(n,i.last()[0]),i.last().remove()):s.insertAfter(n,t),s.remove(t)},remove:function(e){var t;for(var n=0,r=e.length;n<r;n++)t=this.finder.findFormat(e[n]),t&&this.unwrap(t)},toggle:function(e){var t=this,n=h(e),r=e.commonAncestorContainer;if(!n.length){e.selectNodeContents(r),n=h(e);if(!n.length){var i=r.ownerDocument.createTextNode("");e.startContainer.appendChild(i),n=[i],e.selectNode(i.parentNode)}}t.finder.isFormatted(n)?(t.split(e),t.remove(n)):t.apply(n)}}),m=a.extend({init:function(e){e.formatter=new v(e.tag),a.fn.init.call(this,e)}}),g=l.extend({init:function(e){this.options=e,l.fn.init.call(this,r(e,{finder:new d(e.tag)}))},command:function(e){return new m(r(e,{tag:this.options.tag}))}});r(i,{ListFormatFinder:d,ListFormatter:v,ListCommand:m,ListTool:g}),p("insertUnorderedList",new g({tag:"ul",template:new f({template:u.buttonTemplate,title:"Insert unordered list"})})),p("insertOrderedList",new g({tag:"ol",template:new f({template:u.buttonTemplate,title:"Insert ordered list"})}))}(window.kendo.jQuery),function(e,t){var n=window.kendo,r=n.Class,i=e.extend,s=e.proxy,o=n.ui.editor,u=o.Dom,a=o.RangeUtils,f=o.EditorUtils,l=o.Command,c=o.Tool,h=o.ToolTemplate,p=o.InlineFormatter,d=o.InlineFormatFinder,v=a.textNodes,m=o.EditorUtils.registerTool,g=r.extend({findSuitable:function(e){return u.parentOfType(e,["a"])}}),y=r.extend({init:function(){this.finder=new g},apply:function(e,t){var n=v(e),r,i,s,o;t.innerHTML?(r=a.getMarkers(e),i=a.documentFromRange(e),e.deleteContents(),o=u.create(i,"a",t),e.insertNode(o),u.name(o.parentNode)=="a"&&u.insertAfter(o,o.parentNode),r.length>1&&(u.insertAfter(r[r.length-1],o),u.insertAfter(r[1],o),u[n.length>0?"insertBefore":"insertAfter"](r[0],o))):(s=new p([{tags:["a"]}],t),s.finder=this.finder,s.apply(n))}}),b=l.extend({init:function(e){e.formatter={toggle:function(e){(new p([{tags:["a"]}])).remove(v(e))}},this.options=e,l.fn.init.call(this,e)}}),w=l.extend({init:function(e){var t=this;t.options=e,l.fn.init.call(t,e),t.formatter=new y,e.url?this.exec=function(){this.formatter.apply(e.range,{href:e.url,innerHTML:e.text||e.url,target:e.target})}:(t.attributes=null,t.async=!0)},_dialogTemplate:function(){return n.template("<div class=\"k-editor-dialog k-popup-edit-form k-edit-form-container\"><div class='k-edit-label'><label for='k-editor-link-url'>#: messages.linkWebAddress #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-url'></div><div class='k-edit-label k-editor-link-text-row'><label for='k-editor-link-text'>#: messages.linkText #</label></div><div class='k-edit-field k-editor-link-text-row'><input type='text' class='k-input k-textbox' id='k-editor-link-text'></div><div class='k-edit-label'><label for='k-editor-link-title'>#: messages.linkToolTip #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-title'></div><div class='k-edit-label'></div><div class='k-edit-field'><input type='checkbox' class='k-checkbox' id='k-editor-link-target'><label for='k-editor-link-target'>#: messages.linkOpenInNewWindow #</label></div><div class='k-edit-buttons k-state-default'><button class=\"k-dialog-insert k-button\">#: messages.dialogInsert #</button><button class=\"k-dialog-close k-button\">#: messages.dialogCancel #</button></div></div>")({messages:this.editor.options.messages})},exec:function(){var t=this.getRange().collapsed,n=this.editor.options.messages;this._initialText="",this._range=this.lockRange(!0);var r=v(this._range),i=r.length?this.formatter.finder.findSuitable(r[0]):null,o=r.length&&u.name(r[0])=="img",a=this.createDialog(this._dialogTemplate(),{title:n.createLink,close:s(this._close,this),visible:!1});a.find(".k-dialog-insert").click(s(this._apply,this)).end().find(".k-dialog-close").click(s(this._close,this)).end().find(".k-edit-field input").keydown(s(this._keydown,this)).end().find("#k-editor-link-url").val(this.linkUrl(i)).end().find("#k-editor-link-text").val(this.linkText(r)).end().find("#k-editor-link-title").val(i?i.title:"").end().find("#k-editor-link-target").attr("checked",i?i.target=="_blank":!1).end().find(".k-editor-link-text-row").toggle(!o),r.length>0&&!t&&(this._initialText=e("#k-editor-link-text",a).val()),this._dialog=a.data("kendoWindow").center().open(),e("#k-editor-link-url",a).focus().select()},_keydown:function(e){var t=n.keys;e.keyCode==t.ENTER?this._apply(e):e.keyCode==t.ESC&&this._close(e)},_apply:function(t){var n=this._dialog.element,r=e("#k-editor-link-url",n).val(),i,s,o,a=e("#k-editor-link-text",n);r&&r!="http://"&&(r.indexOf("@")>0&&!/^(\w+:)|(\/\/)/i.test(r)&&(r="mailto:"+r),this.attributes={href:r},i=e("#k-editor-link-title",n).val(),i&&(this.attributes.title=i),a.is(":visible")&&(s=a.val(),!s&&!this._initialText?this.attributes.innerHTML=r:s&&s!==this._initialText&&(this.attributes.innerHTML=u.stripBom(s))),o=e("#k-editor-link-target",n).is(":checked"),this.attributes.target=o?"_blank":null,this.formatter.apply(this._range,this.attributes)),this._close(t),this.change&&this.change()},_close:function(e){e.preventDefault(),this._dialog.destroy(),u.windowFromDocument(a.documentFromRange(this._range)).focus(),this.releaseRange(this._range)},linkUrl:function(e){return e?e.getAttribute("href",2):"http://"},linkText:function(e){var t="";return e.length==1?t=e[0].nodeValue:e.length&&(t=e[0].nodeValue+e[1].nodeValue),u.stripBom(t||"")},redo:function(){var e=this.lockRange(!0);this.formatter.apply(e,this.attributes),this.releaseRange(e)}}),E=c.extend({init:function(t){this.options=t,this.finder=new d([{tags:["a"]}]),c.fn.init.call(this,e.extend(t,{command:b}))},initialize:function(e,t){c.fn.initialize.call(this,e,t),e.addClass("k-state-disabled")},update:function(e,t){e.toggleClass("k-state-disabled",!this.finder.isFormatted(t)).removeClass("k-state-hover")}});i(n.ui.editor,{LinkFormatFinder:g,LinkFormatter:y,UnlinkCommand:b,LinkCommand:w,UnlinkTool:E}),m("createLink",new c({key:"K",ctrl:!0,command:w,template:new h({template:f.buttonTemplate,title:"Create Link"})})),m("unlink",new E({key:"K",ctrl:!0,shift:!0,template:new h({template:f.buttonTemplate,title:"Remove Link"})}))}(window.kendo.jQuery),function(e,t){var n=window.kendo,r=e.extend,i=n.ui.editor,s=i.EditorUtils,o=i.Dom,u=s.registerTool,a=i.ToolTemplate,f=i.RangeUtils,l=i.Command,c=n.keys,h="#k-editor-image-url",p="#k-editor-image-title",d="#k-editor-image-width",v="#k-editor-image-height",m=l.extend({init:function(e){var t=this;l.fn.init.call(t,e),t.async=!0,t.attributes={}},insertImage:function(e,t){var n=this.attributes,r=f.documentFromRange(t);if(n.src&&n.src!="http://"){var i=function(){setTimeout(function(){n.width||e.removeAttribute("width"),n.height||e.removeAttribute("height"),e.removeAttribute("complete")})};if(!e)return e=o.create(r,"img",n),e.onload=e.onerror=function(){i()},t.deleteContents(),t.insertNode(e),e.nextSibling||o.insertAfter(r.createTextNode(""),e),i(),t.setStartAfter(e),t.setEndAfter(e),f.selectRange(t),!0;o.attr(e,n),i()}return!1},_dialogTemplate:function(e){return n.template('<div class="k-editor-dialog k-popup-edit-form k-edit-form-container"># if (showBrowser) { #<div class="k-imagebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-image-url">#: messages.imageWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-url"></div><div class=\'k-edit-label\'><label for="k-editor-image-title">#: messages.imageAltText #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-title"></div><div class=\'k-edit-label\'><label for="k-editor-image-width">#: messages.imageWidth #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-width"></div><div class=\'k-edit-label\'><label for="k-editor-image-height">#: messages.imageHeight #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-height"></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button">#: messages.dialogInsert #</button><button class="k-dialog-close k-button">#: messages.dialogCancel #</button></div></div>')({messages:this.editor.options.messages,showBrowser:e})},redo:function(){var e=this,t=e.lockRange();e.insertImage(f.image(t),t)||e.releaseRange(t)},exec:function(){function E(t){var n=m.element,r=parseInt(n.find(d).val(),10),o=parseInt(n.find(v).val(),10);e.attributes={src:n.find(h).val().replace(/ /g,"%20"),alt:n.find(p).val()},e.attributes.width=null,e.attributes.height=null,!isNaN(r)&&r>0&&(e.attributes.width=r),!isNaN(o)&&o>0&&(e.attributes.height=o),s=e.insertImage(u,i),S(t),e.change&&e.change()}function S(t){t.preventDefault(),m.destroy(),o.windowFromDocument(f.documentFromRange(i)).focus(),s||e.releaseRange(i)}function x(e){e.keyCode==c.ENTER?E(e):e.keyCode==c.ESC&&S(e)}var e=this,i=e.lockRange(),s=!1,u=f.image(i),a=u&&u.getAttribute("width")||"",l=u&&u.getAttribute("height")||"",m,g=e.editor.options,y=g.messages,b=g.imageBrowser,w=!!(n.ui.ImageBrowser&&b&&b.transport&&b.transport.read!==t);m=this.createDialog(e._dialogTemplate(w),{title:y.insertImage,close:S,visible:!1,resizable:w}).toggleClass("k-imagebrowser-dialog",w).find(".k-dialog-insert").click(E).end().find(".k-dialog-close").click(S).end().find(".k-edit-field input").keydown(x).end().find(h).val(u?u.getAttribute("src",2):"http://").end().find(p).val(u?u.alt:"").end().find(d).val(a).end().find(v).val(l).end().data("kendoWindow"),w&&new n.ui.ImageBrowser(m.element.find(".k-imagebrowser"),r({},b,{change:function(){m.element.find(h).val(this.value())},apply:E})),m.center().open(),m.element.find(h).focus().select()}});n.ui.editor.ImageCommand=m,u("insertImage",new i.Tool({command:m,template:new a({template:s.buttonTemplate,title:"Insert Image"})}))}(window.kendo.jQuery),function(e,t){var n=window.kendo,r=n.ui.DropDownList,i=n.ui.editor.Dom,s=r.extend({init:function(e,t){var i=this;r.fn.init.call(i,e,t),i.value(i.options.title),n.support.mobileOS.ios&&i._initSelectOverlay(),i.bind("open",function(){if(i.options.autoSize){var e=i.list,t;e.css({whiteSpace:"nowrap",width:"auto"}),t=e.width(),t?t+=20:t=i._listWidth,e.css("width",t+n.support.scrollbar()),i._listWidth=t}})},options:{name:"SelectBox"},_initSelectOverlay:function(){var t=e(this.element),n=e("<select class='k-select-overlay' />"),r=t.closest(".k-widget"),i=this;n.on("change",function(){i.value(this.value),i.trigger("change")}),this.bind("dataBound",function(){var e=i.value(),t=this.dataSource.view(),r,s="";for(var o=0;o<t.length;o++)r=t[o],s+="<option value='"+r.value+"'",r.value==e&&(s+=" selected"),s+=">"+r.text+"</option>";n.html(s)}),n.insertAfter(r)},value:function(e){var n=this,i=r.fn.value.call(n,e);if(e===t)return i;e!==r.fn.value.call(n)&&(n.text(n.options.title),n._current&&n._current.removeClass("k-state-selected"),n.current(null),n._oldIndex=n.selectedIndex=-1)},decorate:function(t){var n=this,r=n.dataSource,s=r.data(),o,u,a,f;t&&n.list.css("background-color",i.getEffectiveBackground(e(t)));for(o=0;o<s.length;o++)u=s[o].tag||"span",a=s[o].className,f=i.inlineStyle(t,u,{className:a}),f=f.replace(/"/g,"'"),s[o].style=f+";display:inline-block";r.trigger("change")}});n.ui.plugin(s),n.ui.editor.SelectBox=s}(window.kendo.jQuery),function(e,t){function m(n,r){var i=e(n).css("direction")=="rtl",s=i?"Right":"Left",u=o.name(n)!="td"?"margin"+s:"padding"+s;if(r===t)return n.style[u]||0;r>0?n.style[u]=r+"px":(n.style[u]="",n.style.cssText||n.removeAttribute("style"))}var n=window.kendo,r=n.Class,i=e.extend,s=n.ui.editor,o=s.Dom,u=s.EditorUtils,a=u.registerTool,f=s.Command,l=s.Tool,c=s.ToolTemplate,h=s.RangeUtils,p=o.blockElements,d=s.BlockFormatFinder,v=s.BlockFormatter,g=r.extend({init:function(){this.finder=new d([{tags:o.blockElements}])},apply:function(t){var n=this.finder.findSuitable(t),r=[],i,s,u,a,f;if(n.length){for(i=0,s=n.length;i<s;i++)o.is(n[i],"li")?e(n[i]).index()?e.inArray(n[i].parentNode,r)<0&&r.push(n[i]):r.push(n[i].parentNode):r.push(n[i]);while(r.length){u=r.shift();if(o.is(u,"li")){a=u.parentNode,f=e(u).prev("li");var l=f.find("ul,ol").last(),c=e(u).children("ul,ol")[0];if(c&&f[0])l[0]?(l.append(u),l.append(e(c).children()),o.remove(c)):(f.append(c),c.insertBefore(u,c.firstChild));else{c=f.children("ul,ol")[0],c||(c=o.create(u.ownerDocument,o.name(a)),f.append(c));while(u&&u.parentNode==a)c.appendChild(u),u=r.shift()}}else{var h=parseInt(m(u),10)+30;m(u,h);for(var p=0;p<r.length;p++)e.contains(u,r[p])&&r.splice(p,1)}}}else{var d=new v([{tags:["p"]}],{style:{marginLeft:30}});d.apply(t)}},remove:function(t){var n=this.finder.findSuitable(t),r,i,s,o,u,a,f,l;for(i=0,s=n.length;i<s;i++){f=e(n[i]);if(f.is("li")){o=f.parent(),u=o.parent();if(u.is("li,ul,ol")&&!m(o[0])){if(r&&e.contains(r,u[0]))continue;a=f.nextAll("li"),a.length&&e(o[0].cloneNode(!1)).appendTo(f).append(a),u.is("li")?f.insertAfter(u):f.appendTo(u),o.children("li").length||o.remove();continue}if(r==o[0])continue;r=o[0]}else r=n[i];l=parseInt(m(r),10)-30,m(r,l)}}}),y=f.extend({init:function(e){e.formatter={toggle:function(e){(new g).apply(h.nodes(e))}},f.fn.init.call(this,e)}}),b=f.extend({init:function(e){e.formatter={toggle:function(e){(new g).remove(h.nodes(e))}},f.fn.init.call(this,e)}}),w=l.extend({init:function(e){l.fn.init.call(this,e),this.finder=new d([{tags:p}])},initialize:function(e,t){l.fn.initialize.call(this,e,t),e.addClass("k-state-disabled")},update:function(t,n){var r=this.finder.findSuitable(n),i,s,u,a;for(u=0,a=r.length;u<a;u++){i=m(r[u]),i||(s=e(r[u]).parents("ul,ol").length,i=o.is(r[u],"li")&&(s>1||m(r[u].parentNode))||o.ofType(r[u],["ul","ol"])&&s>0);if(i){t.removeClass("k-state-disabled");return}}t.addClass("k-state-disabled").removeClass("k-state-hover")}});i(s,{IndentFormatter:g,IndentCommand:y,OutdentCommand:b,OutdentTool:w}),a("indent",new l({command:y,template:new c({template:u.buttonTemplate,title:"Indent"})})),a("outdent",new w({command:b,template:new c({template:u.buttonTemplate,title:"Outdent"})}))}(window.kendo.jQuery),function(e,t){var n=window.kendo,r=e.extend,i=n.ui.editor,s=i.EditorUtils,o=i.Command,u=i.Tool,a=i.ToolTemplate,f=o.extend({init:function(e){var t=this;t.options=e,o.fn.init.call(t,e),t.attributes=null,t.async=!0},exec:function(){function a(e){r.value(s.find(u).val()),l(e),t.change&&t.change(),r.trigger("change")}function l(e){e.preventDefault(),s.data("kendoWindow").destroy(),r.focus()}var t=this,r=t.editor,i=r.options.messages,s=e(n.template(f.template)(i)).appendTo(document.body),o=f.indent(r.value()),u=".k-editor-textarea";this.createDialog(s,{title:i.viewHtml,close:l,visible:!1}).find(u).val(o).end().find(".k-dialog-update").click(a).end().find(".k-dialog-close").click(l).end().data("kendoWindow").center().open(),s.find(u).focus()}});r(f,{template:"<div class='k-editor-dialog k-popup-edit-form k-edit-form-container k-viewhtml-dialog'><textarea class='k-editor-textarea k-input'></textarea><div class='k-edit-buttons k-state-default'><button class='k-dialog-update k-button'>#: dialogUpdate #</button><button class='k-dialog-close k-button'>#: dialogCancel #</button></div></div>",indent:function(e){return e.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/ig,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/ig,"<$1$2>\n<li").replace(/<br \/>/ig,"<br />\n").replace(/\n$/,"")}}),n.ui.editor.ViewHtmlCommand=f,i.EditorUtils.registerTool("viewHtml",new u({command:f,template:new a({template:s.buttonTemplate,title:"View HTML"})}))}(window.kendo.jQuery),function(e){function l(t,n,r){return f.extend({init:function(e){f.fn.init.call(this,e),this.finder=r},command:function(t){var r=t.value;return e.isPlainObject(r)?r[n]=r.value:(t.value={},t.value[n]=r),f.fn.command.call(this,t)},initialize:function(e,t){var r=window.console,i,s=this.options.items;for(i=0;i<s.length;i++)s[i][n]=s[i].value;r&&r.warn("The `"+this.options.name+"` tool has been deprecated in favor of the `formatting` tool. See http://docs.telerik.com/kendo-ui/getting-started/changes-and-backward-compatibility for more information"),f.fn.initialize.call(this,e,t)}})}var t=window.kendo,n=t.ui.editor,r=n.Tool,i=n.ToolTemplate,s=n.DelayedExecutionTool,o=n.Dom,u=n.EditorUtils.dropDownListTemplate,a=n.EditorUtils.registerTool,f=s.extend({init:function(e){var n=this;r.fn.init.call(n,t.deepExtend({},n.options,e)),n.type="kendoSelectBox",n.finder={getFormat:function(){return""}}},options:{items:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],width:90},toFormattingItem:function(e){var t=e.value;if(!t)return e;if(e.tag||e.className)return e;var n=t.indexOf(".");return n===0?e.className=t.substring(1):n==-1?e.tag=t:(e.tag=t.substring(0,n),e.className=t.substring(n+1)),e},command:function(t){var r=t.value;return r=this.toFormattingItem(r),new n.FormatCommand({range:t.range,formatter:function(){var t,i=(r.tag||r.context||"span").split(","),s=[{tags:i,attr:{className:r.className||""}}];return e.inArray(i[0],o.inlineElements)>=0?t=new n.GreedyInlineFormatter(s):t=new n.GreedyBlockFormatter(s),t}})},initialize:function(e,n){var i=n.editor,s=this.options,o=s.name,u=this;e.width(s.width),e.kendoSelectBox({dataTextField:"text",dataValueField:"value",dataSource:s.items||i.options[o],title:i.options.messages[o],autoSize:!0,change:function(){r.exec(i,o,this.dataItem().toJSON())},dataBound:function(){var e,t=this.dataSource.data();for(e=0;e<t.length;e++)t[e]=u.toFormattingItem(t[e])},highlightFirst:!1,template:t.template('<span unselectable="on" style="display:block;#=(data.style||"")#">#:data.text#</span>')}),e.addClass("k-decorated").closest(".k-widget").removeClass("k-"+o).find("*").addBack().attr("unselectable","on")},getFormattingValue:function(t,n){for(var r=0;r<t.length;r++){var i=t[r],s=i.tag||i.context||"",o=i.className?"."+i.className:"",u=s+o,a=e(n[0]).closest(u)[0];if(!a)continue;if(n.length==1)return i.value;for(var f=1;f<n.length;f++){if(!e(n[f]).closest(u)[0])break;if(f==n.length-1)return i.value}}return""},update:function(t,n){var r=e(t).data(this.type);if(!r)return;var i=r.dataSource,u=i.data(),a,f,l=o.commonAncestor.apply(null,n);for(a=0;a<u.length;a++)f=u[a].context,u[a].visible=!f||!!e(l).closest(f).length;i.filter([{field:"visible",operator:"eq",value:!0}]),s.fn.update.call(this,t,n),r.value(this.getFormattingValue(i.view(),n)),r.wrapper.toggleClass("k-state-disabled",!i.view().length)}}),c=l("style","className",new n.GreedyInlineFormatFinder([{tags:["span"]}],"className")),h=l("formatBlock","tag",new n.BlockFormatFinder([{tags:o.blockElements}]));e.extend(n,{FormattingTool:f,StyleTool:c,FormatBlockTool:h}),a("formatting",new f({template:new i({template:u,title:"Format"})})),a("style",new c({template:new i({template:u,title:"Styles"})})),a("formatBlock",new h({template:new i({template:u})}))}(window.kendo.jQuery),function(e,t){var n=window.kendo,r=n.ui,i=r.editor,s=r.Widget,o=e.extend,u=e.proxy,a=n.keys,f=".kendoEditor",l="a.k-tool:not(.k-state-disabled),.k-widget.k-colorpicker,.k-selectbox,.k-dropdown,.k-combobox .k-input",c=s.extend({init:function(e,t){var n=this;t=o({},t,{name:"EditorToolbar"}),s.fn.init.call(n,e,t),t.popup&&n._initPopup()},events:["execute"],groups:{basic:["bold","italic","underline","strikethrough"],scripts:["subscript","superscript"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],links:["insertImage","createLink","unlink"],lists:["insertUnorderedList","insertOrderedList","indent","outdent"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"],advanced:["viewHtml"]},_initPopup:function(){this.window=e(this.element).wrap("<div class='editorToolbarWindow k-header' />").parent().prepend("<button class='k-button k-button-bare k-editortoolbar-dragHandle'><span class='k-icon k-i-move' /></button>").kendoWindow({title:!1,resizable:!1,draggable:{dragHandle:".k-editortoolbar-dragHandle"},animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}},minHeight:42,visible:!1,autoFocus:!1,actions:[],dragend:function(){this._moved=!0}}).on("mousedown",function(t){e(t.target).is(".k-icon")||t.preventDefault()}).data("kendoWindow")},items:function(){return this.element.children().find("> *, select")},focused:function(){return this.element.find(".k-state-focused").length>0},toolById:function(e){var t,n=this.tools;for(t in n)if(t.toLowerCase()==e)return n[t]},toolGroupFor:function(t){var n,r=this.groups;if(this.isCustomTool(t))return"custom";for(n in r)if(e.inArray(t,r[n])>=0)return n},bindTo:function(t){var n=this,r=n.window;n._editor&&n._editor.unbind("select",u(n._update,n)),n._editor=t,n.tools=n.expandTools(t.options.tools),n.render(),n.element.find(".k-combobox .k-input").keydown(function(t){var n=e(this).closest(".k-combobox").data("kendoComboBox"),r=t.keyCode;r==a.RIGHT||r==a.LEFT?n.close():r==a.DOWN&&(n.dropDown.isOpened()||(t.stopImmediatePropagation(),n.open()))}),n._attachEvents(),n.items().each(function(){var i=n._toolName(this),s=n.tools[i],o=s&&s.options,u=t.options.messages,a=o&&o.tooltip||u[i],f=e(this);if(!s||!s.initialize)return;if(i=="fontSize"||i=="fontName"){var l=u[i+"Inherit"];f.find("input").val(l).end().find("span.k-input").text(l).end()}s.initialize(f,{title:n._appendShortcutSequence(a,s),editor:n._editor}),f.closest(".k-widget",n.element).addClass("k-editor-widget"),f.closest(".k-colorpicker",n.element).next(".k-colorpicker").addClass("k-editor-widget")}),t.bind("select",u(n._update,n)),n._updateContext(),r&&r.wrapper.css({top:"",left:"",width:""})},show:function(){var e=this,t=e.window,n=e.options.editor,r,i;if(t){r=t.wrapper,i=n.element;if(!r.is(":visible")||!e.window.options.visible)r[0].style.width||r.width(i.outerWidth()-parseInt(r.css("border-left-width"),10)-parseInt(r.css("border-right-width"),10)),t._moved||(r.css("top",parseInt(i.offset().top,10)-r.outerHeight()-parseInt(e.window.element.css("padding-bottom"),10)),r.css("left",parseInt(i.offset().left,10))),t.open()}},hide:function(){this.window&&this.window.close()},focus:function(){var e="tabIndex",t=this.element,n=this._editor.element.attr(e);t.attr(e,n||0).focus().find(l).first().focus(),!n&&n!==0&&t.removeAttr(e)},_appendShortcutSequence:function(e,t){if(!t.key)return e;var n=e+" (";return t.ctrl&&(n+="Ctrl + "),t.shift&&(n+="Shift + "),t.alt&&(n+="Alt + "),n+=t.key+")",n},_nativeTools:["insertLineBreak","insertParagraph","redo","undo"],tools:{},isCustomTool:function(e){return!(e in n.ui.Editor.defaultTools)},expandTools:function(t){var r,s,u=this._nativeTools,a,f=n.deepExtend({},n.ui.Editor.defaultTools),l={},c;for(s=0;s<t.length;s++)r=t[s],c=r.name,e.isPlainObject(r)?c&&f[c]?(l[c]=o({},f[c]),o(l[c].options,r)):(a=o({cssClass:"k-i-custom",type:"button",title:""},r),a.name||(a.name="custom"),a.cssClass="k-"+(a.name=="custom"?"i-custom":a.name),!a.template&&a.type=="button"&&(a.template=i.EditorUtils.buttonTemplate,a.title=a.title||a.tooltip),l[c]={options:a}):f[r]&&(l[r]=f[r]);for(s=0;s<u.length;s++)l[u[s]]||(l[u[s]]=f[u[s]]);return l},render:function(){function g(t){var r;return t.getHtml?r=t.getHtml():(e.isFunction(t)||(t=n.template(t)),r=t(i)),e.trim(r)}function y(){v.children().length&&v.appendTo(l)}function b(){v=e("<li class='k-tool-group' role='presentation' />")}var t=this,r=t.tools,i,s,o,a,f=t._editor.element,l=t.element.empty(),c,h,p=t._editor.options.tools,d=n.support.browser,v,m;l.empty(),b();for(m=0;m<p.length;m++){a=p[m].name||p[m],i=r[a]&&r[a].options,!i&&e.isPlainObject(a)&&(i=a),s=i&&i.template,a=="break"&&(y(),e("<li class='k-row-break' />").appendTo(t.element),b());if(!s)continue;h=t.toolGroupFor(a),c!=h&&(y(),b(),c=h),s=g(s),o=e(s).appendTo(v),h=="custom"&&(y(),b()),i.exec&&o.hasClass("k-tool")&&o.click(u(i.exec,f[0]))}y(),e(t.element).children(":has(> .k-tool)").addClass("k-button-group"),t.options.popup&&d.msie&&d.version<9&&t.window.wrapper.find("*").attr("unselectable","on"),this.updateGroups()},updateGroups:function(){e(this.element).children().each(function(){e(this).children().filter(function(){return this.style.display!=="none"}).first().addClass("k-group-start").end().last().addClass("k-group-end").end()})},decorateFrom:function(t){this.items().filter(".k-decorated").each(function(){var n=e(this).data("kendoSelectBox");n&&n.decorate(t)})},destroy:function(){s.fn.destroy.call(this);var e,t=this.tools;for(e in t)t[e].destroy&&t[e].destroy();this.window&&this.window.destroy()},_attachEvents:function(){var t=this,n="[role=button].k-tool",r=n+":not(.k-state-disabled)",i=n+".k-state-disabled";t.element.off(f).on("mouseenter"+f,r,function(){e(this).addClass("k-state-hover")}).on("mouseleave"+f,r,function(){e(this).removeClass("k-state-hover")}).on("mousedown"+f,n,function(e){e.preventDefault()}).on("keydown"+f,l,function(n){function o(e,n){var i=t.element.find(l),s=i.index(r)+e;return n&&(s=Math.max(0,Math.min(i.length-1,s))),i[s]}var r=this,i,s=n.keyCode;s==a.RIGHT||s==a.LEFT?e(r).hasClass(".k-dropdown")||(i=o(s==a.RIGHT?1:-1,!0)):s==a.ESC?i=t._editor:s==a.TAB&&!n.ctrlKey&&!n.altKey&&(n.shiftKey?i=o(-1):(i=o(1),i||(i=t._editor))),i&&(n.preventDefault(),i.focus())}).on("click"+f,r,function(n){var r=e(this);n.preventDefault(),n.stopPropagation(),r.removeClass("k-state-hover"),r.is("[data-popup]")||t._editor.exec(t._toolName(this))}).on("click"+f,i,function(e){e.preventDefault()})},_toolName:function(t){if(!t)return;var n=t.className;/k-tool\b/i.test(n)&&(n=t.firstChild.className);var r=e.grep(n.split(" "),function(e){return!/^k-(widget|tool|tool-icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(e)});return r[0]?r[0].substring(r[0].lastIndexOf("-")+1):"custom"},_update:function(){var t=this,r=t._editor,i=r.getRange(),s=n.ui.editor.RangeUtils.textNodes(i);s.length||(s=[i.startContainer]),t.items().each(function(){var n=t.tools[t._toolName(this)];n&&n.update&&n.update(e(this),s)}),this._updateContext()},_updateContext:function(){this.element.children().children().each(function(){var t=e(this);t.css("display",t.hasClass("k-state-disabled")?"none":"")}),this.updateGroups()}});e.extend(i,{Toolbar:c})}(window.jQuery),function(e,t){var n=window.kendo,r=e.extend,i=e.proxy,s=n.ui.editor,o=s.Dom,u=s.EditorUtils,a=s.Command,f=".kendoEditor",l="k-state-active",c="k-state-selected",h=s.Tool,p=s.ToolTemplate,d=s.InsertHtmlCommand,v=s.BlockFormatFinder,m=s.EditorUtils.registerTool,g="<td>"+s.emptyElementContent+"</td>",y=new v([{tags:["table"]}]),b=d.extend({_tableHtml:function(e,t){return e=e||1,t=t||1,"<table class='k-table' data-last>"+(new Array(e+1)).join("<tr>"+(new Array(t+1)).join(g)+"</tr>")+"</table>"},postProcess:function(t,n){var r=e("table[data-last]",t.document).removeAttr("data-last");n.selectNodeContents(r.find("td")[0]),t.selectRange(n)},exec:function(){var e=this.options;e.html=this._tableHtml(e.rows,e.columns),e.postProcess=this.postProcess,d.fn.exec.call(this)}}),w=h.extend({initialize:function(t,n){h.fn.initialize.call(this,t,n);var r=e(this.options.popupTemplate).appendTo("body").kendoPopup({anchor:t,copyAnchorStyles:!1,open:i(this._open,this),activate:i(this._activate,this),close:i(this._close,this)}).data("kendoPopup");t.click(i(this._toggle,this)).keydown(i(this._keydown,this)),this._editor=n.editor,this._popup=r},popup:function(){return this._popup},_activate:e.noop,_open:function(){this._popup.options.anchor.addClass(l)},_close:function(){this._popup.options.anchor.removeClass(l)},_keydown:function(e){var t=n.keys,r=e.keyCode;r==t.DOWN&&e.altKey?this._popup.open():r==t.ESC&&this._popup.close()},_toggle:function(t){var n=e(t.target).closest(".k-tool");n.hasClass("k-state-disabled")||this.popup().toggle()},update:function(e){this.popup().close(),e.removeClass("k-state-hover")},destroy:function(){this._popup.destroy()}}),E=w.extend({init:function(t){this.cols=8,this.rows=6,w.fn.init.call(this,e.extend(t,{command:b,popupTemplate:"<div class='k-ct-popup'>"+(new Array(this.cols*this.rows+1)).join("<span class='k-ct-cell k-state-disabled' />")+"<div class='k-status'>Cancel</div>"+"</div>"}))},_activate:function(){function d(t){var n=e(window);return{row:Math.floor((t.clientY+n.scrollTop()-u.top)/p)+1,col:Math.floor((t.clientX+n.scrollLeft()-u.left)/h)+1}}var t=this,r=t._popup.element,i=r.find(".k-ct-cell"),s=i.eq(0),o=i.eq(i.length-1),u=n.getOffset(s),a=n.getOffset(o),l=t.cols,c=t.rows,h,p;a.left+=o[0].offsetWidth,a.top+=o[0].offsetHeight,h=(a.left-u.left)/l,p=(a.top-u.top)/c,r.on("mousemove"+f,function(e){t._setTableSize(d(e))}).on("mouseleave"+f,function(){t._setTableSize()}).on("mouseup"+f,function(e){t._exec(d(e))})},_valid:function(e){return e&&e.row>0&&e.col>0&&e.row<=this.rows&&e.col<=this.cols},_exec:function(e){this._valid(e)&&(this._editor.exec("createTable",{rows:e.row,columns:e.col}),this._popup.close())},_setTableSize:function(t){var r=this._popup.element,i=r.find(".k-status"),s=r.find(".k-ct-cell"),o=this.rows,u=this.cols;this._valid(t)?(i.text(n.format("Create a {0} x {1} table",t.row,t.col)),s.each(function(n){e(this).toggleClass(c,n%u<t.col&&n/u<t.row)})):(i.text("Cancel"),s.removeClass(c))},_keydown:function(e){w.fn._keydown.call(this,e);var t=n.keys,r=e.keyCode,i=this._popup.element.find(".k-ct-cell"),s=Math.max(i.filter(".k-state-selected").last().index(),0),o=Math.floor(s/this.cols),u=s%this.cols,a=!1;r==t.DOWN&&!e.altKey?(a=!0,o++):r==t.UP?(a=!0,o--):r==t.RIGHT?(a=!0,u++):r==t.LEFT&&(a=!0,u--);var f={row:Math.max(1,Math.min(this.rows,o+1)),col:Math.max(1,Math.min(this.cols,u+1))};r==t.ENTER?this._exec(f):this._setTableSize(f),a&&(e.preventDefault(),e.stopImmediatePropagation())},_open:function(){w.fn._open.call(this),this.popup().element.find(".k-ct-cell").removeClass(c)},_close:function(){w.fn._close.call(this),this.popup().element.off(f)},update:function(e,t){var n;w.fn.update.call(this,e),n=y.isFormatted(t),e.toggleClass("k-state-disabled",n)}}),S=a.extend({exec:function(){var e=this.lockRange(!0),t=e.endContainer,n,r,i;while(o.name(t)!="td")t=t.parentNode;r=t.parentNode,n=r.children.length,i=r.cloneNode(!0);for(var u=0;u<r.cells.length;u++)i.cells[u].innerHTML=s.emptyElementContent;this.options.position=="before"?o.insertBefore(i,r):o.insertAfter(i,r),this.releaseRange(e)}}),x=a.extend({exec:function(){var e=this.lockRange(!0),t=o.closest(e.endContainer,"td"),n=o.closest(t,"table"),r,i,u=n.rows,a,f,l=this.options.position;r=o.findNodeIndex(t);for(i=0;i<u.length;i++)a=u[i].cells[r],f=a.cloneNode(),f.innerHTML=s.emptyElementContent,l=="before"?o.insertBefore(f,a):o.insertAfter(f,a);this.releaseRange(e)}}),T=a.extend({exec:function(){var e=this.lockRange(),t=o.closest(e.endContainer,"tr"),n=o.closest(t,"table"),r=n.rows.length,i;r==1?(i=o.next(n)||o.prev(n),o.remove(n)):(o.removeTextSiblings(t),i=o.next(t)||o.prev(t),i=i.cells[0],o.remove(t)),i&&(e.setStart(i,0),e.collapse(!0),this.editor.selectRange(e))}}),N=a.extend({exec:function(){var e=this.lockRange(),t=o.closest(e.endContainer,"td"),n=o.closest(t,"table"),r=n.rows,i=o.findNodeIndex(t,!0),s=r[0].cells.length,u,a;if(s==1)u=o.next(n)||o.prev(n),o.remove(n);else{o.removeTextSiblings(t),u=o.next(t)||o.prev(t);for(a=0;a<r.length;a++)o.remove(r[a].cells[i])}u&&(e.setStart(u,0),e.collapse(!0),this.editor.selectRange(e))}}),C=h.extend({command:function(e){return e=r(e,this.options),e.action=="delete"?e.type=="row"?new T(e):new N(e):e.type=="row"?new S(e):new x(e)},initialize:function(e,t){h.fn.initialize.call(this,e,t),e.addClass("k-state-disabled")},update:function(e,t){var n=!y.isFormatted(t);e.toggleClass("k-state-disabled",n)}});r(n.ui.editor,{PopupTool:w,TableCommand:b,InsertTableTool:E,TableModificationTool:C,InsertRowCommand:S,InsertColumnCommand:x,DeleteRowCommand:T,DeleteColumnCommand:N}),m("createTable",new E({template:new p({template:u.buttonTemplate,popup:!0,title:"Create table"})})),m("addColumnLeft",new C({type:"column",position:"before",template:new p({template:u.buttonTemplate,title:"Add column on the left"})})),m("addColumnRight",new C({type:"column",template:new p({template:u.buttonTemplate,title:"Add column on the right"})})),m("addRowAbove",new C({type:"row",position:"before",template:new p({template:u.buttonTemplate,title:"Add row above"})})),m("addRowBelow",new C({type:"row",template:new p({template:u.buttonTemplate,title:"Add row below"})})),m("deleteRow",new C({type:"row",action:"delete",template:new p({template:u.buttonTemplate,title:"Delete row"})})),m("deleteColumn",new C({type:"column",action:"delete",template:new p({template:u.buttonTemplate,title:"Delete column"})}))}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()});